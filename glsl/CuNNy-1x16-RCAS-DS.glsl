// CuNNy 1x16 RCAS DS
// Copyright (c) 2024 cunnyplapper

// This program is free software; you can redistribute it and/or
// modify it under the terms of the GNU Lesser General Public
// License as published by the Free Software Foundation; either
// version 3.0 of the License, or (at your option) any later version.
// 
// This program is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
// Lesser General Public License for more details.
// 
// You should have received a copy of the GNU Lesser General Public
// License along with this program.  If not, see <https://www.gnu.org/licenses/>.
/* ------------------------------------------------------------------- */

// FSR mpv | modified
// Copyright (c) 2021 Advanced Micro Devices, Inc. All rights reserved.
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.

// FidelityFX FSR v1.0.2 by AMD
// ported to mpv by agyild

//!DESC CuNNy-EASU
//!HOOK LUMA
//!BIND LUMA
//!SAVE easu
//!WIDTH LUMA.w 2 *
//!HEIGHT LUMA.h 2 *
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
//!COMPONENTS 1

float APrxLoRcpF1(float a) {
	return uintBitsToFloat(uint(0x7ef07ebb) - floatBitsToUint(a));
}

float APrxLoRsqF1(float a) {
	return uintBitsToFloat(uint(0x5f347d74) - (floatBitsToUint(a) >> uint(1)));
}

float AMin3F1(float x, float y, float z) {
	return min(x, min(y, z));
}

float AMax3F1(float x, float y, float z) {
	return max(x, max(y, z));
}

void tap(inout float aC, inout float aW, vec2 off, vec2 dir, vec2 len,
         float lob, float clp, float c){
	vec2 v;
	v.x = (off.x * ( dir.x)) + (off.y * dir.y);
	v.y = (off.x * (-dir.y)) + (off.y * dir.x);
	v *= len;
	float d2 = v.x * v.x + v.y * v.y;
	d2 = min(d2, clp);
	float wB = float(2.0 / 5.0) * d2 + -1.0;
	float wA = lob * d2 + -1.0;
	wB *= wB;
	wA *= wA;
	wB = float(25.0 / 16.0) * wB + float(-(25.0 / 16.0 - 1.0));
	float w = wB * wA;
	aC += c * w;
	aW += w;
}

void set(inout vec2 dir, inout float len, vec2 pp, bool biS, bool biT,
         bool biU, bool biV, float lA, float lB, float lC, float lD, float lE){
	float w = 0.0;
	if (biS)
		w = (1.0 - pp.x) * (1.0 - pp.y);
	if (biT)
		w =        pp.x  * (1.0 - pp.y);
	if (biU)
		w = (1.0 - pp.x) *        pp.y;
	if (biV)
		w =        pp.x  *        pp.y;
	float dc = lD - lC;
	float cb = lC - lB;
	float lenX = max(abs(dc), abs(cb));
	lenX = APrxLoRcpF1(lenX);
	float dirX = lD - lB;
	lenX = clamp(abs(dirX) * lenX, 0.0, 1.0);
	lenX *= lenX;
	float ec = lE - lC;
	float ca = lC - lA;
	float lenY = max(abs(ec), abs(ca));
	lenY = APrxLoRcpF1(lenY);
	float dirY = lE - lA;
	lenY = clamp(abs(dirY) * lenY, 0.0, 1.0);
	lenY *= lenY;
	dir += vec2(dirX, dirY) * w;
	len += dot(vec2(w), vec2(lenX, lenY));
}

vec4 hook() {
	vec4 pix = vec4(0.0, 0.0, 0.0, 1.0);
	vec2 pp = LUMA_pos * LUMA_size - vec2(0.5);
	vec2 fp = floor(pp);
	pp -= fp;
#if (defined(LUMA_gather) && (__VERSION__ >= 400 || (GL_ES && __VERSION__ >= 310)))
	vec4 bczzL = LUMA_gather(vec2((fp + vec2(1.0, -1.0)) * LUMA_pt), 0);
	vec4 ijfeL = LUMA_gather(vec2((fp + vec2(0.0,  1.0)) * LUMA_pt), 0);
	vec4 klhgL = LUMA_gather(vec2((fp + vec2(2.0,  1.0)) * LUMA_pt), 0);
	vec4 zzonL = LUMA_gather(vec2((fp + vec2(1.0,  3.0)) * LUMA_pt), 0);
#else
	float b = LUMA_tex(vec2((fp + vec2(0.5, -0.5)) * LUMA_pt)).r;
	float c = LUMA_tex(vec2((fp + vec2(1.5, -0.5)) * LUMA_pt)).r;
	float e = LUMA_tex(vec2((fp + vec2(-0.5, 0.5)) * LUMA_pt)).r;
	float f = LUMA_tex(vec2((fp + vec2( 0.5, 0.5)) * LUMA_pt)).r;
	float g = LUMA_tex(vec2((fp + vec2( 1.5, 0.5)) * LUMA_pt)).r;
	float h = LUMA_tex(vec2((fp + vec2( 2.5, 0.5)) * LUMA_pt)).r;
	float i = LUMA_tex(vec2((fp + vec2(-0.5, 1.5)) * LUMA_pt)).r;
	float j = LUMA_tex(vec2((fp + vec2( 0.5, 1.5)) * LUMA_pt)).r;
	float k = LUMA_tex(vec2((fp + vec2( 1.5, 1.5)) * LUMA_pt)).r;
	float l = LUMA_tex(vec2((fp + vec2( 2.5, 1.5)) * LUMA_pt)).r;
	float n = LUMA_tex(vec2((fp + vec2(0.5, 2.5) ) * LUMA_pt)).r;
	float o = LUMA_tex(vec2((fp + vec2(1.5, 2.5) ) * LUMA_pt)).r;
	vec4 bczzL = vec4(b, c, 0.0, 0.0);
	vec4 ijfeL = vec4(i, j, f, e);
	vec4 klhgL = vec4(k, l, h, g);
	vec4 zzonL = vec4(0.0, 0.0, o, n);
#endif
	float bL = bczzL.x;
	float cL = bczzL.y;
	float iL = ijfeL.x;
	float jL = ijfeL.y;
	float fL = ijfeL.z;
	float eL = ijfeL.w;
	float kL = klhgL.x;
	float lL = klhgL.y;
	float hL = klhgL.z;
	float gL = klhgL.w;
	float oL = zzonL.z;
	float nL = zzonL.w;
	vec2 dir = vec2(0.0);
	float len = 0.0;
	set(dir, len, pp, true, false, false, false, bL, eL, fL, gL, jL);
	set(dir, len, pp, false, true, false, false, cL, fL, gL, hL, kL);
	set(dir, len, pp, false, false, true, false, fL, iL, jL, kL, nL);
	set(dir, len, pp, false, false, false, true, gL, jL, kL, lL, oL);
	vec2 dir2 = dir * dir;
	float dirR = dir2.x + dir2.y;
	bool zro = dirR < float(1.0 / 32768.0);
	dirR = APrxLoRsqF1(dirR);
	dirR = zro ? 1.0 : dirR;
	dir.x = zro ? 1.0 : dir.x;
	dir *= vec2(dirR);
	len = len * 0.5;
	len *= len;
	float stretch = (dir.x * dir.x + dir.y * dir.y) * APrxLoRcpF1(max(abs(dir.x), abs(dir.y)));
	vec2 len2 = vec2(1.0 + (stretch - 1.0) * len, 1.0 + -0.5 * len);
	float lob = 0.5 + float((1.0 / 4.0 - 0.04) - 0.5) * len;
	float clp = APrxLoRcpF1(lob);
	float aC = 0.0;
	float aW = 0.0;
	tap(aC, aW, vec2( 0.0,-1.0) - pp, dir, len2, lob, clp, bL);
	tap(aC, aW, vec2( 1.0,-1.0) - pp, dir, len2, lob, clp, cL);
	tap(aC, aW, vec2(-1.0, 1.0) - pp, dir, len2, lob, clp, iL);
	tap(aC, aW, vec2( 0.0, 1.0) - pp, dir, len2, lob, clp, jL);
	tap(aC, aW, vec2( 0.0, 0.0) - pp, dir, len2, lob, clp, fL);
	tap(aC, aW, vec2(-1.0, 0.0) - pp, dir, len2, lob, clp, eL);
	tap(aC, aW, vec2( 1.0, 1.0) - pp, dir, len2, lob, clp, kL);
	tap(aC, aW, vec2( 2.0, 1.0) - pp, dir, len2, lob, clp, lL);
	tap(aC, aW, vec2( 2.0, 0.0) - pp, dir, len2, lob, clp, hL);
	tap(aC, aW, vec2( 1.0, 0.0) - pp, dir, len2, lob, clp, gL);
	tap(aC, aW, vec2( 1.0, 2.0) - pp, dir, len2, lob, clp, oL);
	tap(aC, aW, vec2( 0.0, 2.0) - pp, dir, len2, lob, clp, nL);
	pix.r = aC / aW;
	float min1 = min(AMin3F1(fL, gL, jL), kL);
	float max1 = max(AMax3F1(fL, gL, jL), kL);
	pix.r = clamp(pix.r, min1, max1);
	pix.r = clamp(pix.r, 0.0, 1.0);
	return pix;
}

//!DESC CuNNy-RCAS
//!HOOK LUMA
//!BIND easu
//!SAVE rcas
//!WIDTH easu.w
//!HEIGHT easu.h
//!COMPONENTS 1

// CuNNy: do not change unless changed during training as well
#define SHARPNESS 2.0
#define FSR_RCAS_LIMIT (0.25 - (1.0 / 16.0))

float APrxMedRcpF1(float a) {
	float b = uintBitsToFloat(uint(0x7ef19fff) - floatBitsToUint(a));
	return b * (-b * a + 2.0);
}

float AMax3F1(float x, float y, float z) {
	return max(x, max(y, z)); 
}


float AMin3F1(float x, float y, float z) {
	return min(x, min(y, z));
}

vec4 hook() {
#if (defined(easu_gather) && (__VERSION__ >= 400 || (GL_ES && __VERSION__ >= 310)))
	vec3 bde = easu_gather(easu_pos + easu_pt * vec2(-0.5), 0).xyz;
	float b = bde.z;
	float d = bde.x;
	float e = bde.y;
	vec2 fh = easu_gather(easu_pos + easu_pt * vec2(0.5), 0).zx;
	float f = fh.x;
	float h = fh.y;
#else
	float b = easu_texOff(vec2( 0.0, -1.0)).r;
	float d = easu_texOff(vec2(-1.0,  0.0)).r;
	float e = easu_tex(easu_pos).r;
	float f = easu_texOff(vec2(1.0, 0.0)).r;
	float h = easu_texOff(vec2(0.0, 1.0)).r;
#endif
	float mn1L = min(AMin3F1(b, d, f), h);
	float mx1L = max(AMax3F1(b, d, f), h);
	vec2 peakC = vec2(1.0, -1.0 * 4.0);
	float hitMinL = min(mn1L, e) / (4.0 * mx1L);
	float hitMaxL = (peakC.x - max(mx1L, e)) / (4.0 * mn1L + peakC.y);
	float lobeL = max(-hitMinL, hitMaxL);
	float lobe = max(float(-FSR_RCAS_LIMIT), min(lobeL, 0.0)) * exp2(-clamp(float(SHARPNESS), 0.0, 2.0));
	float nz = 0.25 * b + 0.25 * d + 0.25 * f + 0.25 * h - e;
	nz = clamp(abs(nz) * APrxMedRcpF1(AMax3F1(AMax3F1(b, d, e), f, h) - AMin3F1(AMin3F1(b, d, e), f, h)), 0.0, 1.0);
	nz = -0.5 * nz + 1.0;
	lobe *= nz;
	float rcpL = APrxMedRcpF1(4.0 * lobe + 1.0);
	vec4 pix = vec4(0.0, 0.0, 0.0, 1.0);
	pix.r = float((lobe * b + lobe * d + lobe * h + lobe * f + e) * rcpL);
	return pix;
}

//!DESC CuNNy-1x16-RCAS-DS-up:0
//!HOOK LUMA
//!BIND LUMA
//!SAVE up_0
//!WIDTH LUMA.w
//!HEIGHT LUMA.h
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#define l0(x, y) LUMA_texOff(vec2(x, y)).r
vec4 hook() {
	vec4 r = vec4(0.0);
	r += vec4(-0.09790671616792679, 0.03721939027309418, -0.04201311245560646, 0.09489286690950394) * l0(-1.0, -1.0);
	r += vec4(0.16510577499866486, -0.008582430891692638, 0.02580900862812996, -0.2307380735874176) * l0(0.0, -1.0);
	r += vec4(-0.03940741345286369, 0.04495912417769432, -0.01010405644774437, 0.10327092558145523) * l0(1.0, -1.0);
	r += vec4(-0.006861214991658926, -0.08336296677589417, 0.20284074544906616, 0.006353526376187801) * l0(-1.0, 0.0);
	r += vec4(0.2587890028953552, -0.07155357301235199, 0.028121165931224823, -0.39314985275268555) * l0(0.0, 0.0);
	r += vec4(-0.2850004732608795, -0.032348353415727615, 0.10628685355186462, 0.040061693638563156) * l0(1.0, 0.0);
	r += vec4(0.01291631069034338, 0.3212890923023224, 0.03665496036410332, 0.1352827399969101) * l0(-1.0, 1.0);
	r += vec4(-0.04590654745697975, 0.059042081236839294, -0.2695187032222748, 0.08093156665563583) * l0(0.0, 1.0);
	r += vec4(0.02747097983956337, 0.013003322295844555, -0.07153330743312836, 0.09957046061754227) * l0(1.0, 1.0);
	r += vec4(-0.0008424645056948066, 0.032370615750551224, 0.038099661469459534, 0.015311895869672298);
	return max(r, 0.0);
}

//!DESC CuNNy-1x16-RCAS-DS-up:1
//!HOOK LUMA
//!BIND LUMA
//!SAVE up_1
//!WIDTH LUMA.w
//!HEIGHT LUMA.h
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#define l0(x, y) LUMA_texOff(vec2(x, y)).r
vec4 hook() {
	vec4 r = vec4(0.0);
	r += vec4(-0.009739537723362446, -0.03084675967693329, 0.028104538097977638, -0.026826173067092896) * l0(-1.0, -1.0);
	r += vec4(0.010291896760463715, -0.10815835744142532, -0.027147876098752022, -0.3154296875) * l0(0.0, -1.0);
	r += vec4(0.0018603334901854396, -0.0680597648024559, 0.013784443028271198, 0.014876841567456722) * l0(1.0, -1.0);
	r += vec4(0.19972319900989532, 0.33554336428642273, -0.04049661010503769, 0.3229169547557831) * l0(-1.0, 0.0);
	r += vec4(0.26143598556518555, 0.07176799327135086, -0.08078139275312424, 0.03294000402092934) * l0(0.0, 0.0);
	r += vec4(-0.002090896712616086, -0.14295758306980133, -0.023986181244254112, -0.031659066677093506) * l0(1.0, 0.0);
	r += vec4(-0.18609051406383514, 0.02505328319966793, -0.013269787654280663, -0.04121266305446625) * l0(-1.0, 1.0);
	r += vec4(-0.2705080807209015, -0.0690925121307373, 0.3756088614463806, 0.02307850494980812) * l0(0.0, 1.0);
	r += vec4(-0.007476416416466236, 0.004854314494878054, 0.008242390118539333, 0.010458827018737793) * l0(1.0, 1.0);
	r += vec4(0.007379157934337854, 0.010147674940526485, -0.0725138857960701, -0.001657597254961729);
	return max(r, 0.0);
}

//!DESC CuNNy-1x16-RCAS-DS-up:2
//!HOOK LUMA
//!BIND LUMA
//!SAVE up_2
//!WIDTH LUMA.w
//!HEIGHT LUMA.h
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#define l0(x, y) LUMA_texOff(vec2(x, y)).r
vec4 hook() {
	vec4 r = vec4(0.0);
	r += vec4(-0.08373639732599258, -0.022639336064457893, 0.3798828125, 0.05286296457052231) * l0(-1.0, -1.0);
	r += vec4(0.011500737629830837, 0.013382785022258759, -0.022475440055131912, -0.2466360330581665) * l0(0.0, -1.0);
	r += vec4(0.06170150265097618, -0.013721589930355549, -0.0019410219974815845, 0.014491661451756954) * l0(1.0, -1.0);
	r += vec4(-0.2607422173023224, 0.03601149097084999, -0.025206973776221275, -0.03968004137277603) * l0(-1.0, 0.0);
	r += vec4(-0.04773884639143944, -0.3959757685661316, -0.005849141161888838, 0.010603955946862698) * l0(0.0, 0.0);
	r += vec4(0.3232613801956177, 0.3152284026145935, 0.004102704580873251, 0.3022596538066864) * l0(1.0, 0.0);
	r += vec4(-0.02109290100634098, -0.01089161541312933, -0.0015376766677945852, 0.014789817854762077) * l0(-1.0, 1.0);
	r += vec4(-0.037474989891052246, -0.06616921722888947, 0.005110045894980431, -0.1772335171699524) * l0(0.0, 1.0);
	r += vec4(0.059019237756729126, 0.13981707394123077, -0.0038941579405218363, 0.07722756266593933) * l0(1.0, 1.0);
	r += vec4(0.008715247735381126, -0.003138885600492358, -0.31876400113105774, 0.02679748274385929);
	return max(r, 0.0);
}

//!DESC CuNNy-1x16-RCAS-DS-up:3
//!HOOK LUMA
//!BIND LUMA
//!SAVE up_3
//!WIDTH LUMA.w
//!HEIGHT LUMA.h
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#define l0(x, y) LUMA_texOff(vec2(x, y)).r
vec4 hook() {
	vec4 r = vec4(0.0);
	r += vec4(-0.20297084748744965, -0.013881784863770008, -0.022610770538449287, 0.06669844686985016) * l0(-1.0, -1.0);
	r += vec4(-0.07488489151000977, 0.21242770552635193, 0.15000833570957184, -0.034728966653347015) * l0(0.0, -1.0);
	r += vec4(0.005495536606758833, 0.02337557263672352, 0.22977028787136078, 0.0004942888044752181) * l0(1.0, -1.0);
	r += vec4(-0.1277911365032196, 0.1411135345697403, 0.026656709611415863, 0.08660762757062912) * l0(-1.0, 0.0);
	r += vec4(0.10129246115684509, -0.14254975318908691, -0.16748057305812836, 0.10417165607213974) * l0(0.0, 0.0);
	r += vec4(0.0005182974273338914, 0.09837723523378372, -0.003489595837891102, 0.025356469675898552) * l0(1.0, 0.0);
	r += vec4(0.22036489844322205, 0.03219608590006828, 0.0350981168448925, -4.046741485595703) * l0(-1.0, 1.0);
	r += vec4(0.11116763949394226, -0.4092397093772888, -0.07810483872890472, 0.21798087656497955) * l0(0.0, 1.0);
	r += vec4(-0.02724231779575348, 0.04402615502476692, 0.008449294604361057, -0.03602198511362076) * l0(1.0, 1.0);
	r += vec4(0.025889305397868156, 0.003633309155702591, -0.018368177115917206, 0.009007999673485756);
	return max(r, 0.0);
}

//!DESC CuNNy-1x16-RCAS-DS-conv1:0
//!HOOK LUMA
//!BIND up_0
//!BIND up_1
//!BIND up_2
//!BIND up_3
//!SAVE conv1_0
//!WIDTH LUMA.w
//!HEIGHT LUMA.h
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#define l0(x, y) up_0_texOff(vec2(x, y))
#define l1(x, y) up_1_texOff(vec2(x, y))
#define l2(x, y) up_2_texOff(vec2(x, y))
#define l3(x, y) up_3_texOff(vec2(x, y))
vec4 hook() {
	vec4 r = vec4(0.0);
	r += mat4(0.05218032747507095, 0.437258780002594, -0.1441970020532608, 0.0533149354159832, -0.06351692974567413, -0.08651656657457352, -0.2796708047389984, -0.029625868424773216, -0.14752517640590668, -0.10420473664999008, -0.24791346490383148, -0.04225107282400131, 0.031158924102783203, 0.1437055766582489, 0.38657042384147644, -0.08218985795974731) * l0(-1.0, -1.0);
	r += mat4(-0.11375519633293152, 0.07576283067464828, 0.04790186882019043, 0.1187685951590538, 0.12322591990232468, 0.10548265278339386, -0.036658380180597305, -0.03357279300689697, 0.2509235143661499, 0.33826422691345215, -0.02860870212316513, -0.06612048298120499, 0.011828063055872917, -0.1612103283405304, 0.07893366366624832, -0.0008821827941574156) * l0(0.0, -1.0);
	r += mat4(0.03646054491400719, -0.14922457933425903, 0.24219714105129242, -0.0063392771407961845, 0.26403185725212097, -0.031894732266664505, -0.10670729726552963, -0.040464114397764206, 0.1148003488779068, -0.2353583127260208, 0.23461347818374634, -0.05898233875632286, 0.042528681457042694, -0.11030889302492142, 0.13232460618019104, -0.017103448510169983) * l0(1.0, -1.0);
	r += mat4(-0.3086646795272827, 0.22299329936504364, 0.10893179476261139, -0.008249144069850445, -0.14241163432598114, -0.0013728804187849164, -0.1758289635181427, -0.12828725576400757, -0.020458554849028587, -0.0635770782828331, 0.06639530509710312, -0.026871515437960625, 0.08065489679574966, -0.2902407646179199, -0.11895779520273209, -0.1722065955400467) * l0(-1.0, 0.0);
	r += mat4(0.11352862417697906, -0.6791446208953857, 0.3194349706172943, 0.02706730179488659, -0.05334939807653427, 0.15951308608055115, -0.03112458810210228, -0.07388605177402496, -0.06064581871032715, -0.12510772049427032, 0.1178210899233818, -0.1618867814540863, 0.1438538134098053, -0.5039005279541016, -0.3543052077293396, 0.09248682856559753) * l0(0.0, 0.0);
	r += mat4(0.024506568908691406, 0.307559072971344, -0.034221820533275604, -0.0005089220940135419, -0.07623904943466187, 0.11493269354104996, 0.1020907387137413, -0.05613236129283905, 0.23259812593460083, -0.16925643384456635, -0.12868326902389526, -0.03454846516251564, 0.2602941393852234, 0.3512205481529236, -0.16582699120044708, 0.21985912322998047) * l0(1.0, 0.0);
	r += mat4(-0.19079411029815674, 0.4682278633117676, 0.17806822061538696, -0.05184653773903847, -0.08324524760246277, 0.020501375198364258, 0.04559027776122093, -0.07594531029462814, 0.043364446610212326, -0.16447152197360992, -0.14148852229118347, -0.042163196951150894, -0.09105507284402847, 0.10343966633081436, -0.039609674364328384, -0.12991026043891907) * l0(-1.0, 1.0);
	r += mat4(-0.24815647304058075, -0.08025036007165909, 0.29722076654434204, -0.08538131415843964, -0.05627678707242012, 0.14989584684371948, 0.31487300992012024, 0.15693336725234985, 0.3371506333351135, 0.024547021836042404, 0.0791509822010994, 0.03372543305158615, 0.557407021522522, -0.055015627294778824, -0.17654892802238464, 0.16186460852622986) * l0(0.0, 1.0);
	r += mat4(-0.3720683455467224, -0.05980725958943367, 0.09334555268287659, -0.1630992740392685, 0.06647531688213348, -0.12728933990001678, 0.31429535150527954, -0.01665397174656391, 0.020283160731196404, 0.06923183798789978, -0.18270878493785858, -0.037290334701538086, 0.2822130620479584, 0.127106174826622, -0.1033824235200882, 0.04735486954450607) * l0(1.0, 1.0);
	r += mat4(0.06627814471721649, 0.1701088398694992, 0.1421011984348297, 0.05441851541399956, 0.03966003656387329, 0.07358583807945251, 0.12648719549179077, 0.009288907982409, 0.0215066596865654, -0.14276094734668732, 0.013738572597503662, 0.06238121539354324, 0.017517060041427612, 0.0411335714161396, -0.19023014605045319, 0.013700614683330059) * l1(-1.0, -1.0);
	r += mat4(-0.2687816917896271, -0.3815252184867859, 0.3670510947704315, -0.23442530632019043, -0.0227186381816864, -0.14325925707817078, -0.14256086945533752, -0.08315892517566681, 0.12278460711240768, -0.02316218614578247, -0.4561660885810852, 0.0016501868376508355, -0.02253270335495472, 0.056150712072849274, 0.06470141559839249, 0.009668017737567425) * l1(0.0, -1.0);
	r += mat4(-0.30016201734542847, 0.29567649960517883, -0.09392721951007843, -0.10023276507854462, 0.09252870082855225, -0.04747828096151352, -0.01883404701948166, -0.030124785378575325, 0.13127505779266357, -0.004029779229313135, 0.025860654190182686, -0.11035516858100891, 0.004372461698949337, -0.009312818758189678, -0.016519445925951004, -0.01795276254415512) * l1(1.0, -1.0);
	r += mat4(-0.19939254224300385, 0.036705877631902695, 0.19400332868099213, -0.02087118849158287, 0.13633069396018982, 0.15205101668834686, 0.104903444647789, 0.025409162044525146, 0.10211820900440216, -0.12665614485740662, -0.07423347234725952, -0.010745398700237274, -0.17196118831634521, -0.04771653190255165, -0.3798829913139343, -0.04511421173810959) * l1(-1.0, 0.0);
	r += mat4(-0.177614226937294, 0.18455886840820312, 0.05410515144467354, -0.07363705337047577, -0.2068963646888733, -0.3854203522205353, 0.2101784497499466, -0.007900542579591274, -0.21695251762866974, 0.264299213886261, 0.09291837364435196, -0.04922250285744667, 0.24236252903938293, 0.3994525372982025, 0.01036991085857153, -0.07596443593502045) * l1(0.0, 0.0);
	r += mat4(-0.52382892370224, 0.011463097296655178, 0.23220080137252808, -0.0023342291824519634, -0.025039108470082283, -0.1592727154493332, -0.1383376568555832, 0.06545714288949966, 0.04886123538017273, -0.1634097844362259, 0.33106738328933716, -0.049834005534648895, 0.28775855898857117, 0.07570309937000275, 0.27500981092453003, 0.03387219086289406) * l1(1.0, 0.0);
	r += mat4(-0.10721059143543243, -0.07040843367576599, 0.04603385925292969, -0.034591272473335266, 0.03503013402223587, 0.0010161998216062784, 0.23852694034576416, -0.0372372567653656, -0.05448022484779358, -0.06617759168148041, -0.0019499888876453042, -0.021091677248477936, -0.0275507140904665, 0.013491977006196976, -0.30957895517349243, 0.30303558707237244) * l1(-1.0, 1.0);
	r += mat4(-0.298219233751297, 0.043098270893096924, 0.101174496114254, 0.10404697805643082, -0.10558148473501205, -0.05164143443107605, -0.1536150574684143, -0.03296785056591034, -0.06072602421045303, -0.0009335150243714452, 0.07212434709072113, -0.007898698560893536, -0.1381707489490509, 0.16053465008735657, 0.24559560418128967, -0.199475958943367) * l1(0.0, 1.0);
	r += mat4(-0.3349762558937073, -0.09127054363489151, -0.03724462911486626, 0.11007098108530045, 0.28519532084465027, 0.060511745512485504, -0.02149549312889576, 0.09921658039093018, -0.04998539015650749, -0.02484065666794777, -0.02029320038855076, 0.02381056919693947, -0.48915740847587585, -0.20397989451885223, 0.12601494789123535, -0.0863090232014656) * l1(1.0, 1.0);
	r += mat4(0.08222474157810211, -0.09221092611551285, -0.20263589918613434, -0.08147753030061722, 0.053304873406887054, 0.45535653829574585, 0.5987363457679749, 0.09636296331882477, 0.23194989562034607, 0.29360607266426086, -0.7300811409950256, 0.009138896130025387, 0.03379814326763153, -0.33138856291770935, 0.07644587010145187, 0.005723432172089815) * l2(-1.0, -1.0);
	r += mat4(-0.07203269004821777, -0.07737044990062714, -0.1633766144514084, 0.0021360493265092373, -0.00568145327270031, 0.2587396204471588, 0.24855491518974304, -0.3242003321647644, -0.03445350006222725, 1.0041756629943848, 0.18513189256191254, -0.07092104852199554, 0.09680921584367752, -0.045807283371686935, -0.03675349801778793, 0.06575671583414078) * l2(0.0, -1.0);
	r += mat4(0.08925880491733551, 0.008721678517758846, 0.013424716889858246, 0.012732739560306072, -0.21975059807300568, -0.24643830955028534, -0.14012561738491058, -0.17222672700881958, -0.17788557708263397, -0.11220762878656387, 0.28325214982032776, 0.45354264974594116, 0.009926620870828629, 0.1311025470495224, 0.003289604326710105, 0.01086973212659359) * l2(1.0, -1.0);
	r += mat4(-0.1982448697090149, -0.04917408525943756, 0.09462844580411911, 0.005798033904284239, 0.35679203271865845, 0.6191398501396179, 0.09711266309022903, 0.06508614122867584, 0.27876001596450806, 0.34652599692344666, 0.08323162794113159, 0.19798462092876434, -0.028346272185444832, -0.4998629689216614, -0.34101778268814087, -0.06519177556037903) * l2(-1.0, 0.0);
	r += mat4(-0.16931353509426117, 0.082846999168396, -0.4327051341533661, 0.0780741274356842, 0.08729176968336105, 0.27552855014801025, 0.21212486922740936, -0.1990184187889099, -0.3743933141231537, -0.7291093468666077, 0.688520610332489, -0.11345834285020828, 0.2679724395275116, -0.07204994559288025, -0.2791041433811188, -0.01642858050763607) * l2(0.0, 0.0);
	r += mat4(0.07212432473897934, 0.07643147557973862, 0.015144722536206245, 0.05752101168036461, 0.0006512590916827321, -0.3585122227668762, -0.04349513351917267, -0.16291025280952454, -0.1297444850206375, 0.2756894528865814, 0.11065757274627686, 0.40962594747543335, -0.11849934607744217, 0.21430902183055878, 0.20545116066932678, -0.03625078126788139) * l2(1.0, 0.0);
	r += mat4(0.06243908405303955, -0.04692310094833374, -0.19400127232074738, -0.023837029933929443, -0.0034674913622438908, -0.07561147958040237, 0.2684866786003113, 0.0534614659845829, 0.3775334656238556, 0.5950736999511719, 0.2953445017337799, -0.021228576079010963, 0.06928776949644089, -0.039190761744976044, -0.1701783537864685, 0.03116908110678196) * l2(-1.0, 1.0);
	r += mat4(-0.05171658471226692, -0.03357510641217232, -0.06617575138807297, -0.009884562343358994, 0.08395327627658844, -0.13068918883800507, 0.26074814796447754, -0.17207953333854675, 0.0712074562907219, -1.875874638557434, 0.02479773946106434, 0.0475015714764595, -0.24913059175014496, 0.04884696006774902, 0.0019836369901895523, 0.06470568478107452) * l2(0.0, 1.0);
	r += mat4(-0.1542046219110489, 0.020010989159345627, 0.028708262369036674, -0.04308344051241875, 0.14108778536319733, -0.12543009221553802, -0.239700585603714, -0.0004952893941663206, -0.2736873924732208, -6.058777332305908, -9.753426551818848, 0.4271896183490753, -0.03376559540629387, 0.02638518251478672, 0.23769976198673248, -0.04882529750466347) * l2(1.0, 1.0);
	r += mat4(0.02518703229725361, -0.10918637365102768, 0.16451698541641235, 0.004526202101260424, 0.17821592092514038, -0.168343186378479, -0.07300938665866852, 0.0821853056550026, -0.0035807413514703512, 0.05938953906297684, 0.05827170982956886, -0.01676548272371292, 0.053475625813007355, -0.10033390671014786, -0.02277996391057968, -0.06647651642560959) * l3(-1.0, -1.0);
	r += mat4(0.044079702347517014, 0.314875990152359, -0.2632083594799042, 0.00019492540741339326, 0.14634647965431213, -0.124013751745224, -0.34489330649375916, -0.3998602330684662, -0.02718285284936428, 0.15566866099834442, -9.267804853152484e-05, -0.006268426775932312, 0.09561038762331009, 0.04685531556606293, 0.2370024472475052, -0.04756387695670128) * l3(0.0, -1.0);
	r += mat4(-0.13499601185321808, -0.042582619935274124, 0.13988249003887177, 0.0183415450155735, 0.0771995410323143, 0.02136080712080002, -0.11669519543647766, 0.014005772769451141, -0.06538787484169006, -0.0673874244093895, 0.00041079072980210185, 0.10248533636331558, -0.5480874180793762, -0.0017256134888157248, -2.1651196479797363, 0.061985667794942856) * l3(1.0, -1.0);
	r += mat4(0.05342738330364227, 0.038444362580776215, 0.0018107102951034904, -0.03975728154182434, 0.1552819460630417, 0.21819175779819489, -0.07118647545576096, -0.17473338544368744, -0.032088752835989, -0.004465834703296423, -0.1257103681564331, -0.006574898026883602, -0.13257482647895813, -0.05466063320636749, -0.0793776586651802, 0.03248445317149162) * l3(-1.0, 0.0);
	r += mat4(0.06975853443145752, 0.00793355144560337, -0.035020917654037476, -0.059178825467824936, 0.35912254452705383, -0.04073113948106766, -0.2436622828245163, -0.15536297857761383, 0.004268350545316935, -0.1075248122215271, 0.05359957739710808, 0.0065034860745072365, -0.0678219124674797, -0.04746301844716072, 0.0311985332518816, -0.05040919408202171) * l3(0.0, 0.0);
	r += mat4(-0.07880263775587082, -0.02286793850362301, -0.3280709683895111, -0.020443040877580643, 0.10283305495977402, 0.017322592437267303, 0.027703389525413513, 0.18326833844184875, 0.08781655877828598, -0.04612770676612854, 0.1580342948436737, -0.05821111425757408, 0.13675682246685028, 0.3353576362133026, 0.19952070713043213, 0.06343661993741989) * l3(1.0, 0.0);
	r += mat4(0.06600640714168549, -0.08862178027629852, -0.07173535227775574, -0.026029711589217186, 0.09985170513391495, 0.37114718556404114, 0.31911805272102356, -0.06601238995790482, -0.005157895851880312, -0.43312060832977295, -0.454780250787735, 0.018150141462683678, -0.05435008928179741, -0.03815291076898575, -0.08183672279119492, -0.05823754146695137) * l3(-1.0, 1.0);
	r += mat4(0.041245102882385254, -0.1792057454586029, -0.19835375249385834, -0.09419475495815277, 0.03282022848725319, -0.009120970033109188, 0.12978343665599823, 0.09788326174020767, 0.25251227617263794, 0.28037846088409424, 0.09650187194347382, -0.017190486192703247, 0.17783601582050323, 0.0454738549888134, 0.07787740975618362, 0.022499525919556618) * l3(0.0, 1.0);
	r += mat4(-0.3935154676437378, 0.1284177601337433, -0.23876890540122986, 0.020429739728569984, -0.062131159007549286, -0.10942825675010681, 0.12542589008808136, -0.05879463627934456, -0.20414547622203827, 0.06646686047315598, 0.043024975806474686, -0.0599064864218235, 0.41955095529556274, -0.046826448291540146, 0.18922701478004456, -0.08919922262430191) * l3(1.0, 1.0);
	r += vec4(0.0012324072886258364, -0.026183949783444405, -0.008210393600165844, -0.08143947273492813);
	return max(r, 0.0);
}

//!DESC CuNNy-1x16-RCAS-DS-conv1:1
//!HOOK LUMA
//!BIND up_0
//!BIND up_1
//!BIND up_2
//!BIND up_3
//!SAVE conv1_1
//!WIDTH LUMA.w
//!HEIGHT LUMA.h
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#define l0(x, y) up_0_texOff(vec2(x, y))
#define l1(x, y) up_1_texOff(vec2(x, y))
#define l2(x, y) up_2_texOff(vec2(x, y))
#define l3(x, y) up_3_texOff(vec2(x, y))
vec4 hook() {
	vec4 r = vec4(0.0);
	r += mat4(-0.06760275363922119, 0.03746386244893074, 0.1626770943403244, -0.169514000415802, -0.21684709191322327, 0.22288767993450165, 0.009922812692821026, -0.014741887338459492, -0.11160045117139816, 0.13028667867183685, -0.07717891782522202, 0.05923829227685928, 0.042472954839468, -0.3945787250995636, 0.029207374900579453, -0.12494964152574539) * l0(-1.0, -1.0);
	r += mat4(-0.02997622825205326, 0.2542996406555176, 0.28146636486053467, -0.0882139801979065, 0.0945800319314003, -0.07990388572216034, 0.014778230339288712, 0.17476612329483032, 0.14056861400604248, 0.15217721462249756, 0.021763000637292862, 0.16015127301216125, -0.03356703743338585, -0.29868781566619873, -0.09810470044612885, -0.026765359565615654) * l0(0.0, -1.0);
	r += mat4(0.1098412573337555, 0.10285191237926483, 0.15958119928836823, -0.09170006960630417, -0.31800857186317444, -0.16190721094608307, -0.20132319629192352, -0.0715903639793396, 0.1051553413271904, -0.049197155982255936, -0.06488313525915146, 0.16618353128433228, 0.08064913004636765, -0.07982601970434189, 0.04056093469262123, -0.03135319799184799) * l0(1.0, -1.0);
	r += mat4(0.31543219089508057, 0.2760419249534607, 0.4155206084251404, 0.2996480464935303, -0.08146963268518448, 0.1369124948978424, -0.035870712250471115, -0.10662491619586945, -0.1782590001821518, -0.14702686667442322, -0.04073137789964676, -0.11226968467235565, -0.10648920387029648, -0.35680386424064636, 0.13962268829345703, 0.10749190300703049) * l0(-1.0, 0.0);
	r += mat4(-0.15082783997058868, 0.15565116703510284, 0.09151105582714081, -0.17933246493339539, 0.0018752681789919734, 0.4111330509185791, -0.015387962572276592, 0.09453428536653519, -0.17984777688980103, 0.07569248229265213, -0.05738331004977226, 0.17607036232948303, 0.30818891525268555, -0.3806622326374054, -0.37876150012016296, 0.2421087920665741) * l0(0.0, 0.0);
	r += mat4(-0.06982384622097015, 0.1378890872001648, 0.22699284553527832, -0.04822602868080139, -0.10955759882926941, 0.18019337952136993, 0.195485919713974, 0.05999895557761192, -0.04906945303082466, -0.1174832433462143, -0.10378577560186386, 0.08495137095451355, -0.09668327122926712, 0.008081072941422462, -0.12289244681596756, -0.06144009903073311) * l0(1.0, 0.0);
	r += mat4(0.12104532867670059, -0.16209131479263306, 0.4373379051685333, -0.07782213389873505, 0.00415453314781189, -0.26090747117996216, -0.05062570050358772, -0.14614620804786682, 0.12093199789524078, 0.2509641945362091, -0.09697284549474716, -0.029247401282191277, -0.02270236611366272, 0.20804576575756073, 0.006481500342488289, 0.37066349387168884) * l0(-1.0, 1.0);
	r += mat4(-0.04278051108121872, -0.16258227825164795, 0.0886564552783966, -0.3489185571670532, 0.3087116479873657, -0.05572185665369034, 0.2106914222240448, -0.11791916936635971, -0.18758775293827057, 0.010389259085059166, 0.014296142384409904, 0.08638127148151398, -0.1782127171754837, 0.02164231240749359, -0.21334350109100342, 0.2951914668083191) * l0(0.0, 1.0);
	r += mat4(-0.08783278614282608, 0.043894607573747635, 0.2903498411178589, 0.07600212097167969, -0.06492012739181519, -0.11014752835035324, 0.21880584955215454, 0.018869319930672646, 0.06781478971242905, 0.0831911638379097, 0.006529062520712614, 0.04257898032665253, 0.09435779601335526, -0.06613917648792267, -0.013937100768089294, 0.014058574102818966) * l0(1.0, 1.0);
	r += mat4(-0.12538161873817444, 0.05507175251841545, 0.10949891805648804, 0.22062095999717712, 0.13069292902946472, -0.1623373180627823, 0.08834095299243927, 0.14401668310165405, -0.20865485072135925, 0.25938355922698975, 0.2927086651325226, 0.22943884134292603, -0.16650107502937317, 0.1389884352684021, -0.04178120940923691, -0.15771527588367462) * l1(-1.0, -1.0);
	r += mat4(-0.01184144802391529, 0.2408004105091095, 0.0785607099533081, -0.41856807470321655, 0.12030567228794098, -0.5997064709663391, -0.14062602818012238, 0.05425569787621498, 0.07739907503128052, -0.3089408278465271, -0.48106205463409424, -0.11173325777053833, -0.1883956342935562, 0.7204787135124207, 0.13351663947105408, -0.02825542725622654) * l1(0.0, -1.0);
	r += mat4(-0.10374799370765686, 0.3026849627494812, 0.022059934213757515, -0.09937392175197601, 0.03363647311925888, -0.4930391311645508, -0.2101059854030609, 0.28222113847732544, 0.09544146806001663, 0.16563047468662262, 0.12764611840248108, 0.06892215460538864, -0.14683061838150024, 0.42852818965911865, 0.16830921173095703, -0.0820387452840805) * l1(1.0, -1.0);
	r += mat4(-0.10057245194911957, 0.006797711830586195, 0.08508515357971191, 0.13568156957626343, 0.013944832608103752, -0.06746570020914078, 0.03593253716826439, 0.36869168281555176, 0.1256353259086609, 0.09026458114385605, -0.11580877006053925, -0.04156492277979851, 0.10115163773298264, 0.5728357434272766, -0.10912852734327316, -0.3155011832714081) * l1(-1.0, 0.0);
	r += mat4(0.1264742612838745, 0.2787822186946869, 0.117783322930336, 0.16357310116291046, 0.39197760820388794, -0.42624631524086, -0.19355131685733795, -0.42565372586250305, 0.12023038417100906, 0.04783101752400398, 0.24969875812530518, 0.14145228266716003, -0.3522723615169525, -0.15185660123825073, 0.32276594638824463, 0.4624459147453308) * l1(0.0, 0.0);
	r += mat4(-0.3788146376609802, -0.050400540232658386, 0.03518259897828102, 0.08690351247787476, -0.15760841965675354, 0.004973916802555323, -0.29811397194862366, 0.1886841505765915, -0.01625879853963852, -0.002662785816937685, -0.0028971948195248842, 0.03233971446752548, -0.5462088584899902, 0.4254206120967865, 0.2512610852718353, -0.25461214780807495) * l1(1.0, 0.0);
	r += mat4(0.28592413663864136, -0.33469462394714355, -0.11593850702047348, -0.1462651491165161, -0.05878167226910591, -0.050313886255025864, 0.16130675375461578, 0.04233855381608009, -0.2702394127845764, -0.14441350102424622, -0.04808468744158745, -0.03932183235883713, 0.18531082570552826, -0.06873246282339096, -0.2549707889556885, -0.1467481255531311) * l1(-1.0, 1.0);
	r += mat4(-0.08424127846956253, -0.041387058794498444, 0.02981179766356945, -0.0818229615688324, -0.3269478380680084, -0.0006743147387169302, -0.20840606093406677, 0.09681612253189087, -0.014507533051073551, 0.0286368690431118, 0.0727260485291481, -0.07765393704175949, 0.48419442772865295, 0.20559149980545044, 0.2537296712398529, -0.29230305552482605) * l1(0.0, 1.0);
	r += mat4(0.32359060645103455, -0.17161865532398224, -0.07935535162687302, -0.023025088012218475, 0.11357210576534271, -0.07976508885622025, -0.441461443901062, -0.01463018823415041, 0.11890575289726257, -0.04597741365432739, -0.09731458127498627, 0.07896522432565689, -0.1796150654554367, 0.2114865779876709, 0.4712889790534973, -0.2225784808397293) * l1(1.0, 1.0);
	r += mat4(-0.029103834182024002, -0.1342601329088211, -0.15805594623088837, -0.07661379873752594, 0.07406457513570786, 0.46119722723960876, 0.48833972215652466, -0.6425779461860657, 0.2649030387401581, -0.18227484822273254, 0.08107127994298935, -0.3741697669029236, 0.13100530207157135, -0.16899935901165009, -0.12480482459068298, 0.26118046045303345) * l2(-1.0, -1.0);
	r += mat4(-0.1929151862859726, 0.0967436283826828, -0.08830639719963074, -0.021773215383291245, 0.3654365837574005, -0.236496701836586, 0.48209697008132935, -0.05506320670247078, -0.21492105722427368, 0.5411916375160217, 0.7190495729446411, -0.30361273884773254, 0.12079975008964539, -0.08521316945552826, -0.10559356957674026, 0.22147232294082642) * l2(0.0, -1.0);
	r += mat4(-0.09345971792936325, 0.1566663235425949, 0.06211384758353233, -0.22121456265449524, 0.18873237073421478, -0.3200892508029938, -0.10973690450191498, 0.32001596689224243, 0.15768064558506012, 0.8338680863380432, 0.17420922219753265, 0.00023505739227402955, -0.17431031167507172, 0.10357509553432465, -0.08029250055551529, 0.023168623447418213) * l2(1.0, -1.0);
	r += mat4(-0.02890191599726677, 0.0405278243124485, 0.07548984885215759, -0.3485404849052429, 0.24828626215457916, 0.2747419774532318, 0.24636203050613403, -0.014913727529346943, 0.3348117470741272, 1.0816318988800049, 0.23095761239528656, 0.00817884411662817, -0.21918994188308716, -0.11999537795782089, -0.4130912721157074, -0.15830987691879272) * l2(-1.0, 0.0);
	r += mat4(0.4174668490886688, 0.06859082728624344, -0.39500948786735535, 0.6035153865814209, -0.031979020684957504, 0.18895213305950165, 0.4951656758785248, -0.11454489827156067, 0.3010217547416687, -0.4163607060909271, 0.9351651668548584, 0.5958172082901001, -0.3701004981994629, -0.15751302242279053, -0.00892233569175005, -0.1357755810022354) * l2(0.0, 0.0);
	r += mat4(-0.11747340857982635, 0.09552153199911118, 0.3095704913139343, -0.11591003835201263, 0.21019859611988068, -0.0856044590473175, -0.279934287071228, 0.11100891977548599, 0.22168341279029846, -1.9235994815826416, 0.002969105029478669, 2.1019480228424072, -0.003387054428458214, 0.07014834135770798, 0.005658832378685474, -0.019274801015853882) * l2(1.0, 0.0);
	r += mat4(0.06062394008040428, -0.07501203566789627, -0.0935329869389534, -0.07611968368291855, -0.12060313671827316, -0.06180422753095627, 0.23375654220581055, -0.09178754687309265, 0.3285876512527466, 0.033764567226171494, 0.5342376828193665, 0.1871100217103958, -0.15804976224899292, 0.029875600710511208, -0.12400950491428375, 0.040558699518442154) * l2(-1.0, 1.0);
	r += mat4(-0.21088135242462158, 0.09861809760332108, -0.048937421292066574, -0.005619047675281763, -0.16482438147068024, 0.12148381024599075, 0.360166996717453, 0.046403918415308, -0.5623646378517151, -0.8502107262611389, -0.22929070889949799, -0.33790937066078186, 0.1117071807384491, -0.1777009516954422, -0.17173323035240173, -0.02518950030207634) * l2(0.0, 1.0);
	r += mat4(-0.10888989269733429, -0.13820531964302063, 0.09280115365982056, -0.08365774154663086, 0.03751964867115021, 0.1103140339255333, -0.17432832717895508, 0.052931249141693115, -5.669889450073242, -1.7937229871749878, -3.1443350315093994, 0.8185322880744934, 0.08147506415843964, 0.023269128054380417, 0.005572109017521143, 0.07700949907302856) * l2(1.0, 1.0);
	r += mat4(0.03174998238682747, -0.045273557305336, 0.019222881644964218, 0.0756949707865715, 0.193255215883255, -0.12330037355422974, -0.10539349168539047, -0.21013350784778595, 0.0656677708029747, -0.0019538316410034895, 0.04436535760760307, 0.11348190158605576, -0.22602687776088715, 0.22296595573425293, -0.06440453231334686, 0.16401316225528717) * l3(-1.0, -1.0);
	r += mat4(-0.037757448852062225, -0.24949011206626892, -0.05502365529537201, -0.16776660084724426, -0.17433008551597595, -0.38694846630096436, -0.20047403872013092, 0.07183381915092468, 0.029103077948093414, -0.018219219520688057, -0.004731223452836275, -0.09465820342302322, -0.10829628258943558, 0.24356214702129364, 0.23153434693813324, -0.12727054953575134) * l3(0.0, -1.0);
	r += mat4(-0.1486271619796753, -0.19262002408504486, -0.0018355919746682048, -0.14665332436561584, 0.01572095789015293, -0.04282386228442192, 0.003523043589666486, -0.09228747338056564, -0.027955397963523865, -0.10113938897848129, 0.014486816711723804, 0.14687080681324005, 2.3249359130859375, 0.37406235933303833, -0.16376426815986633, 1.3789259195327759) * l3(1.0, -1.0);
	r += mat4(-0.18846312165260315, 0.06053883209824562, -0.023970622569322586, 0.25103193521499634, 0.18131615221500397, 0.0666603371500969, 0.029863031581044197, -0.12751896679401398, -0.05891025811433792, 0.29394519329071045, 0.024957777932286263, -0.031963903456926346, 0.19592542946338654, -0.0708676427602768, -0.142670139670372, -0.17286725342273712) * l3(-1.0, 0.0);
	r += mat4(0.196567103266716, -0.017658017575740814, 0.10963576287031174, 0.2776310443878174, 0.14676624536514282, 0.08117515593767166, -0.3030741512775421, -0.27629712224006653, -0.01680252142250538, -0.051194511353969574, 0.1840244084596634, -0.17975233495235443, -0.05580085143446922, -0.1895126849412918, 0.12286815047264099, -0.26310819387435913) * l3(0.0, 0.0);
	r += mat4(0.5521541237831116, -0.29304447770118713, -0.12632495164871216, -0.11966414004564285, 0.046903740614652634, 0.0808306336402893, 0.21630924940109253, 0.07438508421182632, 0.12070304155349731, -0.19981451332569122, -0.13199925422668457, -0.09099067002534866, 1.0966517925262451, 0.06120586395263672, 0.25885093212127686, 0.012365463189780712) * l3(1.0, 0.0);
	r += mat4(-0.0729755386710167, 0.18892349302768707, 0.01344006136059761, 0.09889519959688187, -0.1508249044418335, -0.06836231797933578, 0.2744141221046448, -0.08214057236909866, 0.030746880918741226, -0.36425819993019104, -0.3682193160057068, 0.26165786385536194, -0.2148791253566742, -0.02073553204536438, -0.025497859343886375, 0.19768580794334412) * l3(-1.0, 1.0);
	r += mat4(0.02948855608701706, 0.028426462784409523, -0.21708093583583832, -0.05173372104763985, 0.08075512945652008, -0.02153162471950054, 0.2429780811071396, -0.05881044641137123, 0.02982473559677601, -0.033180441707372665, -0.16386963427066803, -0.21423937380313873, 0.009525331668555737, 0.044901203364133835, 0.04214794933795929, -0.06429830938577652) * l3(0.0, 1.0);
	r += mat4(-0.07271753996610641, 0.07634816318750381, -0.26414769887924194, 0.017569685354828835, -0.23945732414722443, 0.0194507148116827, 0.17321272194385529, 0.010406454093754292, 0.10293693095445633, 0.032169777899980545, -0.050965163856744766, -0.011072643101215363, -0.1791626363992691, 0.16494573652744293, 0.09554533660411835, -0.0023845189716666937) * l3(1.0, 1.0);
	r += vec4(0.026758940890431404, -0.019943175837397575, 0.008508319966495037, -0.01302937138825655);
	return max(r, 0.0);
}

//!DESC CuNNy-1x16-RCAS-DS-conv1:2
//!HOOK LUMA
//!BIND up_0
//!BIND up_1
//!BIND up_2
//!BIND up_3
//!SAVE conv1_2
//!WIDTH LUMA.w
//!HEIGHT LUMA.h
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#define l0(x, y) up_0_texOff(vec2(x, y))
#define l1(x, y) up_1_texOff(vec2(x, y))
#define l2(x, y) up_2_texOff(vec2(x, y))
#define l3(x, y) up_3_texOff(vec2(x, y))
vec4 hook() {
	vec4 r = vec4(0.0);
	r += mat4(0.14117351174354553, -0.17324890196323395, 0.17356808483600616, 0.12861888110637665, 0.08781412988901138, -0.020482905209064484, 0.06326372176408768, 0.024137018248438835, 0.09121409058570862, 0.12998725473880768, 0.1218762919306755, 0.02096257358789444, 0.004215225111693144, -0.02027883753180504, 0.0922945886850357, 0.15539027750492096) * l0(-1.0, -1.0);
	r += mat4(-0.025834372267127037, -0.04724997282028198, 0.044730763882398605, -0.06909240782260895, 0.022966930642724037, 0.16012516617774963, -0.11889360100030899, 0.0019731137435883284, 0.17007236182689667, 0.02363896742463112, -0.294585257768631, 0.14125247299671173, -0.1665196269750595, 0.1606799066066742, 0.1168423593044281, 0.11637447029352188) * l0(0.0, -1.0);
	r += mat4(0.037822507321834564, -0.11542025953531265, 0.01915307156741619, 0.054815683513879776, 0.02569870837032795, -0.20256686210632324, -0.037872154265642166, -0.042177848517894745, -0.1392102837562561, 0.012590697966516018, 0.056678079068660736, -0.003069832921028137, -0.07602322101593018, -0.04918268322944641, 0.1517849713563919, 0.06895788758993149) * l0(1.0, -1.0);
	r += mat4(-0.23371808230876923, -0.038696546107530594, 0.2572411298751831, 0.15392838418483734, -0.17983311414718628, 0.017729248851537704, 0.11396903544664383, -0.002614611992612481, -0.016881907358765602, 0.06987297534942627, 0.18308308720588684, 0.35836032032966614, -0.02983682230114937, 0.051552075892686844, 0.004931149072945118, 0.1625654697418213) * l0(-1.0, 0.0);
	r += mat4(-0.024640165269374847, 0.2346900850534439, 0.03269563242793083, -0.14873531460762024, 0.1298728734254837, 0.038843512535095215, -0.05627378076314926, 0.24418602883815765, 0.07521853595972061, 0.027385272085666656, 0.07506506145000458, -0.044259630143642426, -0.10989992320537567, 0.4629707336425781, -0.3974500298500061, -0.051269467920064926) * l0(0.0, 0.0);
	r += mat4(-0.03651846572756767, -0.11989480257034302, 0.11633023619651794, 0.013421399518847466, -0.02232835628092289, -0.10217885673046112, -0.22170697152614594, -0.06203915923833847, 0.01631263829767704, 0.25477948784828186, -0.037992823868989944, 0.1785072237253189, 0.027654962614178658, -0.06196689233183861, -0.1453249305486679, 0.15871520340442657) * l0(1.0, 0.0);
	r += mat4(-0.37052837014198303, -0.28419268131256104, -0.00932084396481514, 0.25476619601249695, -0.08616615831851959, -0.04700631648302078, 0.273201048374176, -0.10003568977117538, 0.024488048627972603, -0.0445566400885582, -0.11422672867774963, -0.15395772457122803, 0.05177675187587738, 0.11046934872865677, -0.24486099183559418, -3.441601074882783e-05) * l0(-1.0, 1.0);
	r += mat4(0.12064362317323685, -0.38964879512786865, 0.19814953207969666, 0.22289733588695526, -0.17668850719928741, 0.06272844225168228, 0.21321141719818115, -0.038406435400247574, -0.03918876871466637, 0.1873040795326233, 0.08134499192237854, 0.018615134060382843, 0.6605583429336548, 0.8018178939819336, -0.15131255984306335, 0.11324937641620636) * l0(0.0, 1.0);
	r += mat4(-0.04382392764091492, -0.1893235743045807, 0.059376783668994904, -0.06754165142774582, 0.028997352346777916, 0.053894057869911194, 0.07482140511274338, -0.08793613314628601, 0.008216211572289467, -0.1081337183713913, 0.08651690185070038, 0.012489241547882557, -0.0050065903924405575, 0.04447927325963974, -0.4822827875614166, -0.15819592773914337) * l0(1.0, 1.0);
	r += mat4(-0.17426611483097076, -0.1590379774570465, 0.17861983180046082, 0.020924877375364304, -0.018563207238912582, 0.06469566375017166, -0.06956357508897781, -0.004796801600605249, -0.03332095965743065, -0.001455156714655459, 0.17519725859165192, -0.22522598505020142, 0.00434249360114336, -0.08537935465574265, 0.016702499240636826, 0.09545283019542694) * l1(-1.0, -1.0);
	r += mat4(0.13873545825481415, -0.08779718726873398, 0.04012777656316757, -0.24269138276576996, 0.1826319396495819, 0.017784934490919113, -0.24211829900741577, -0.0513906255364418, 0.26978158950805664, 0.08095987141132355, -0.32991400361061096, 0.24861012399196625, -0.15863898396492004, -0.07448986917734146, 0.2346164435148239, -0.1126680076122284) * l1(0.0, -1.0);
	r += mat4(-0.017768338322639465, -0.08784801512956619, 0.046594880521297455, -0.18167509138584137, 0.05223656818270683, 0.28798598051071167, -0.28441280126571655, -0.10738155990839005, -0.031450919806957245, 0.07763861119747162, -0.049846768379211426, -0.035330455750226974, -0.06748402118682861, -0.15707546472549438, 0.17672483623027802, 0.1407783329486847) * l1(1.0, -1.0);
	r += mat4(-0.12180434912443161, -0.08924835175275803, 0.11690692603588104, -0.2006244957447052, -0.05773197114467621, -0.022517774254083633, 0.08809924870729446, 0.1215047761797905, 0.03290160000324249, -0.03625929355621338, 0.037003982812166214, 0.11395731568336487, -0.03893441706895828, -0.041093770414590836, -0.2110643982887268, -0.2372092753648758) * l1(-1.0, 0.0);
	r += mat4(-0.23976357281208038, -0.22563637793064117, -0.04978101700544357, -1.167971134185791, -0.047055408358573914, -0.10434188693761826, -0.3973483443260193, -0.04644981771707535, -0.25875937938690186, -0.3874235451221466, -0.184213325381279, -0.10805657505989075, 0.2026350200176239, -0.18542183935642242, 0.08219803869724274, -0.07370547205209732) * l1(0.0, 0.0);
	r += mat4(-0.04799478128552437, -0.07319268584251404, -0.03446965292096138, -0.17089414596557617, 0.04143891856074333, 0.26417088508605957, -0.06942543387413025, -0.09004931151866913, 0.08456243574619293, 0.12415061146020889, 0.0182499997317791, 0.07794268429279327, 0.1507021188735962, 0.1293567419052124, 0.2822292447090149, 0.1488763391971588) * l1(1.0, 0.0);
	r += mat4(0.007176194805651903, 0.09703757613897324, 0.21093304455280304, 0.08554481714963913, 0.10781469941139221, -0.08507110178470612, 0.019394053146243095, 0.045089174062013626, -0.09616179764270782, 0.008797593414783478, 0.05380236729979515, -0.002972101327031851, 0.12945102155208588, 0.04319531098008156, -0.18079620599746704, -0.09566424787044525) * l1(-1.0, 1.0);
	r += mat4(0.15673810243606567, 0.08040600270032883, -0.1477830410003662, 0.060605548322200775, 0.07569205015897751, 0.06670450419187546, -0.2943231761455536, -0.04197641834616661, 0.09867037087678909, 0.11553850024938583, 0.04087252914905548, 0.00946121383458376, -0.762705385684967, -0.639496922492981, 0.2084181159734726, -0.8299036026000977) * l1(0.0, 1.0);
	r += mat4(0.06373292207717896, 0.04855892062187195, -0.11745376139879227, 0.047867704182863235, 0.08630328625440598, 0.1589283049106598, -0.18795393407344818, 0.11190004646778107, -0.015573575161397457, -0.012446143664419651, 0.01850864291191101, -0.023674121126532555, -0.026063837110996246, -0.5571684837341309, 0.4438234567642212, 0.08890268951654434) * l1(1.0, 1.0);
	r += mat4(0.27050840854644775, 0.002629024675115943, -0.06634148955345154, 0.026017917320132256, -0.3033002018928528, -0.15129289031028748, 0.3213023245334625, -0.02143751084804535, 0.036724526435136795, -0.1599731743335724, 0.1475902944803238, 0.1282065063714981, -0.012580047361552715, 0.09908562898635864, -0.04560915008187294, 0.06773167848587036) * l2(-1.0, -1.0);
	r += mat4(0.08749319612979889, -0.03253281116485596, -0.17961139976978302, -0.07543975859880447, -0.23828843235969543, -0.2107856422662735, 0.3224463164806366, -0.013349998742341995, -0.041749630123376846, -0.14804616570472717, 0.29959309101104736, -0.17427371442317963, 0.034865591675043106, -0.035204142332077026, -0.029860496520996094, -0.09848050773143768) * l2(0.0, -1.0);
	r += mat4(0.05369986966252327, -0.1308731585741043, -0.014745788648724556, 0.07642953842878342, -0.023784181103110313, 0.1342756599187851, -0.2260061651468277, -0.07191887497901917, -0.3372019827365875, 0.31683099269866943, 0.40349268913269043, -0.5560223460197449, -0.039285432547330856, 0.13375787436962128, -0.07935985177755356, -0.08591404557228088) * l2(1.0, -1.0);
	r += mat4(-0.5646219849586487, -0.040187470614910126, 0.1780937910079956, -0.30353039503097534, -0.8462938666343689, -0.117396280169487, 0.16578397154808044, -0.39558225870132446, -0.09756262600421906, -0.42273274064064026, 0.020676467567682266, -0.44658932089805603, -0.05007364973425865, 0.15808625519275665, -0.3181762397289276, 0.056567929685115814) * l2(-1.0, 0.0);
	r += mat4(-0.38966459035873413, 0.2978595793247223, 0.1656770557165146, -0.0074071926064789295, 0.1625867336988449, -0.2770146131515503, -0.11921080201864243, 0.4623616635799408, 0.11534754931926727, 0.2880048453807831, -0.1668064296245575, -0.3807382881641388, 0.16461177170276642, 0.0018484372412785888, -0.19407956302165985, 0.10868816077709198) * l2(0.0, 0.0);
	r += mat4(-0.08403084427118301, -0.22704580426216125, 0.3992915153503418, -0.010392673313617706, 0.05599642172455788, 0.1764659434556961, -0.3936212956905365, 0.09103430807590485, -0.5625766515731812, 1.659536361694336, -0.11142513900995255, -0.5598911046981812, 0.07129649072885513, 0.1055636778473854, -0.1182304248213768, 0.03682170435786247) * l2(1.0, 0.0);
	r += mat4(-0.12050746381282806, 0.14833928644657135, -0.09533441811800003, 0.30160483717918396, -0.17678044736385345, -0.12652155756950378, 0.4881807565689087, 0.06773532181978226, 0.2861210107803345, -0.05770953744649887, 0.07608750462532043, -0.15243886411190033, -0.20298857986927032, -0.07601045817136765, 0.07298839092254639, -0.010760918259620667) * l2(-1.0, 1.0);
	r += mat4(-0.1917014718055725, -0.009668292477726936, -0.200637549161911, 0.007510472554713488, -0.0773433968424797, -0.030249930918216705, 0.3464634418487549, -0.07522627711296082, 0.4409977197647095, 0.6339907646179199, -4.741425037384033, 0.5557593703269958, 0.026989715173840523, -0.06071479991078377, 0.09697053581476212, -0.03003624640405178) * l2(0.0, 1.0);
	r += mat4(-0.05453871563076973, 0.00411052955314517, 0.04952181130647659, -0.09107309579849243, 0.11272340267896652, 0.07195988297462463, -0.14845243096351624, 0.09717394411563873, 1.169896125793457, 2.6507229804992676, -11.225269317626953, 0.7397056221961975, 0.04519856721162796, -0.0036672656424343586, -0.2070724219083786, 0.03650530055165291) * l2(1.0, 1.0);
	r += mat4(-0.05069976672530174, 0.08815840631723404, -0.07148764282464981, -0.033895112574100494, 0.07346313446760178, 0.0759240910410881, -0.16378554701805115, 0.320499449968338, 0.018944650888442993, -0.0636880099773407, 0.12381181865930557, -0.020030418410897255, 0.03756958618760109, -0.13752028346061707, 0.19512148201465607, -0.13627317547798157) * l3(-1.0, -1.0);
	r += mat4(0.1610586792230606, -0.052687667310237885, 0.10459510236978531, -0.015276103280484676, -0.020185353234410286, 0.2640863358974457, -0.35769936442375183, 0.331430584192276, 0.04156981036067009, -0.10514896363019943, 0.1738368719816208, 0.038165174424648285, 0.1575203835964203, 0.1044275090098381, 0.3628065586090088, 0.2705940008163452) * l3(0.0, -1.0);
	r += mat4(0.1253281831741333, -0.00021673933952115476, 0.026327496394515038, 0.08852442353963852, 0.05057490989565849, 0.004227795638144016, -0.16856275498867035, -0.048582371324300766, 0.0014408351853489876, 0.145019993185997, -0.05364898592233658, -0.04509706050157547, 1.2401787042617798, 0.8413471579551697, -5.329888343811035, 0.2899462878704071) * l3(1.0, -1.0);
	r += mat4(0.011755834333598614, 0.08097469806671143, -0.11937277764081955, 0.1924239993095398, -0.046963948756456375, 0.03212745860219002, -0.14006029069423676, -0.4145916998386383, -0.28445643186569214, 0.00967840664088726, 0.14975257217884064, -0.0799776166677475, 0.399736613035202, 0.05849700793623924, 0.2086714208126068, -0.11442407965660095) * l3(-1.0, 0.0);
	r += mat4(0.05147469788789749, 0.04567352309823036, 0.14696285128593445, -0.04035955294966698, 0.14628294110298157, 0.2724553644657135, -0.50877445936203, -0.3388771116733551, 0.07300486415624619, -0.20394715666770935, 0.2119157463312149, 0.10237234085798264, 0.0969218984246254, 0.026674654334783554, 0.22990721464157104, -0.10126325488090515) * l3(0.0, 0.0);
	r += mat4(-0.09772954881191254, -0.402319997549057, 0.1337052583694458, -0.14571942389011383, -0.119151771068573, -0.1790509670972824, -0.02015804871916771, -0.009198067709803581, 0.18406233191490173, 0.07447276264429092, -0.13095784187316895, 0.03071550279855728, -0.24993491172790527, -0.08527214825153351, 0.34253063797950745, -0.2351730465888977) * l3(1.0, 0.0);
	r += mat4(0.07612142711877823, 0.08994371443986893, -0.14806056022644043, 0.12136262655258179, -0.13749250769615173, -0.098394013941288, 0.17956647276878357, -0.17962239682674408, 0.11660487204790115, 0.33815115690231323, -0.2132735699415207, 0.19763372838497162, -0.02148345112800598, -0.010773245245218277, 0.010494991205632687, -0.0013516058679670095) * l3(-1.0, 1.0);
	r += mat4(0.16301678121089935, -0.16853372752666473, -0.23076409101486206, 0.06375790387392044, -0.09413448721170425, -0.25292909145355225, 0.3216142952442169, -0.1605682224035263, 0.08302460610866547, 0.06082981824874878, -0.20769749581813812, -0.12656395137310028, -0.12645050883293152, 0.06693375110626221, 0.0584079772233963, 0.0611586719751358) * l3(0.0, 1.0);
	r += mat4(0.03788786381483078, -0.17846408486366272, -0.13557550311088562, 0.13715699315071106, -0.14789877831935883, -0.06304322928190231, 0.27438950538635254, 0.06762553751468658, -0.07646802067756653, -0.09928278625011444, -0.19375231862068176, -0.12000246345996857, -0.026577366515994072, 0.1106308326125145, -0.12183284759521484, -0.13681544363498688) * l3(1.0, 1.0);
	r += vec4(0.013886325061321259, -0.0035915246699005365, -0.008948298171162605, 0.0006395214586518705);
	return max(r, 0.0);
}

//!DESC CuNNy-1x16-RCAS-DS-conv1:3
//!HOOK LUMA
//!BIND up_0
//!BIND up_1
//!BIND up_2
//!BIND up_3
//!SAVE conv1_3
//!WIDTH LUMA.w
//!HEIGHT LUMA.h
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#define l0(x, y) up_0_texOff(vec2(x, y))
#define l1(x, y) up_1_texOff(vec2(x, y))
#define l2(x, y) up_2_texOff(vec2(x, y))
#define l3(x, y) up_3_texOff(vec2(x, y))
vec4 hook() {
	vec4 r = vec4(0.0);
	r += mat4(0.027795670554041862, 0.19307848811149597, 0.11645122617483139, 0.15819887816905975, 0.023466575890779495, 0.10752107948064804, -0.05896113067865372, 0.17108054459095, -0.05988123267889023, -0.20106619596481323, -0.07638997584581375, 0.10517873615026474, -0.08131032437086105, 0.14189282059669495, 0.1347431093454361, -0.1346309334039688) * l0(-1.0, -1.0);
	r += mat4(0.1028774231672287, 0.22474129498004913, -0.20959819853305817, -0.04967571422457695, 0.10327119380235672, 0.2145051807165146, 0.14611409604549408, -0.3639011085033417, 3.330301842652261e-05, -0.6104947924613953, 0.24359801411628723, 0.002037988044321537, -0.03625579923391342, -0.01309742871671915, 0.12186405807733536, 0.11943681538105011) * l0(0.0, -1.0);
	r += mat4(0.026776140555739403, 0.14654356241226196, -0.16407690942287445, 0.12033464759588242, 0.03863221034407616, 0.12541793286800385, -0.07610754668712616, 0.2000582367181778, 0.037857674062252045, -0.15231835842132568, 0.11151807010173798, 0.3760991394519806, 0.05424114316701889, 0.005396159365773201, 0.17930810153484344, -0.06568886339664459) * l0(1.0, -1.0);
	r += mat4(-0.07845482230186462, 0.18304035067558289, 0.1372045874595642, -0.1261863261461258, -0.008293597027659416, -0.1302247792482376, -0.003617482027038932, -0.06708113104104996, 0.07043538242578506, -0.010635086335241795, -0.0055610365234315395, 0.08654828369617462, 0.1045655757188797, -0.5075145363807678, -0.3232424557209015, 0.20522575080394745) * l0(-1.0, 0.0);
	r += mat4(0.10585284233093262, 0.14148066937923431, 0.20371763408184052, -0.12156654894351959, -0.1250971555709839, -0.029920117929577827, -0.27236637473106384, -0.11179928481578827, -0.050873782485723495, -0.42310163378715515, 0.07478779554367065, -0.09781191498041153, 0.0028805651236325502, -0.3640096187591553, 0.2500320374965668, 0.169487863779068) * l0(0.0, 0.0);
	r += mat4(-0.02387092262506485, 0.01987569034099579, -0.03682931140065193, 0.14865541458129883, -0.10387879610061646, -0.020237764343619347, -0.10928494483232498, -0.008312066085636616, 0.11258654296398163, -0.08620361983776093, -0.1879311203956604, 0.006148182787001133, -0.12069937586784363, 0.027568750083446503, 0.03705398738384247, -0.0014278920134529471) * l0(1.0, 0.0);
	r += mat4(0.02933666855096817, 0.64544677734375, 0.2008197009563446, 0.303251713514328, 0.04037526622414589, 0.014537730254232883, 0.23840294778347015, -0.07747393846511841, 0.03799829259514809, 0.1468905806541443, -0.15058466792106628, -0.11638844758272171, -0.006715686060488224, -0.04081863537430763, -0.2508052587509155, 0.07047537714242935) * l0(-1.0, 1.0);
	r += mat4(-0.16255632042884827, 0.18425819277763367, 0.35493749380111694, 0.116057388484478, 0.039857517927885056, -0.10714057087898254, 0.20764805376529694, -0.0033052973449230194, -0.023396795615553856, 0.23746195435523987, 0.02289755642414093, -0.11482936143875122, -0.045000553131103516, -0.18817579746246338, -0.536861777305603, -0.10960714519023895) * l0(0.0, 1.0);
	r += mat4(-0.007392886094748974, 0.08181442320346832, 0.05400897189974785, 0.13671496510505676, -0.012378309853374958, -0.09024538099765778, -0.02096666395664215, 0.019413989037275314, -0.02268998511135578, 0.2582607865333557, -0.13263578712940216, 0.1791958063840866, -0.02229349873960018, 0.0810316950082779, 0.15170645713806152, 0.059745077043771744) * l0(1.0, 1.0);
	r += mat4(-0.04861609637737274, 0.6074231863021851, -0.11230172216892242, 0.28081345558166504, -0.008303937502205372, 0.11967913806438446, -0.061851002275943756, -0.03627084195613861, -0.042358215898275375, -0.529373288154602, 0.01570051535964012, -0.054534975439310074, 0.03200109675526619, -0.09806714951992035, 0.05483326315879822, -0.03355095162987709) * l1(-1.0, -1.0);
	r += mat4(0.2217182070016861, -0.12339874356985092, -0.2633168399333954, -0.5825994610786438, 0.05172349512577057, -0.19235728681087494, 0.13617926836013794, -0.006545783020555973, 0.1284037083387375, -0.20028433203697205, -0.23788976669311523, -0.11644050478935242, -0.032226525247097015, -0.029378743842244148, -0.1637330949306488, -0.03506499156355858) * l1(0.0, -1.0);
	r += mat4(0.03178701549768448, 0.24903899431228638, -0.5428722500801086, -0.1371818333864212, -0.030123338103294373, 0.009265516884624958, 0.3584005534648895, -0.00790914986282587, 0.06421546638011932, 0.14798323810100555, 0.06482631713151932, -0.015020687133073807, -0.0990971028804779, 0.030869202688336372, -0.28696975111961365, 0.14477139711380005) * l1(1.0, -1.0);
	r += mat4(-0.08845063298940659, 0.1464562565088272, -0.11971720308065414, 0.1118834987282753, -0.05157601833343506, 0.10567452013492584, -0.03460545092821121, 0.10590706765651703, -0.08452605456113815, -0.06683608889579773, -0.07554803043603897, 0.019440576434135437, 0.015777837485074997, -0.14905816316604614, -0.0019357067067176104, -0.2670866549015045) * l1(-1.0, 0.0);
	r += mat4(-0.07221164554357529, 0.3225504159927368, 0.33502379059791565, 0.2763667404651642, -0.09405989199876785, -0.1409778892993927, -0.28023624420166016, 0.2886277139186859, -0.09605768322944641, 0.2458554208278656, -0.5561820864677429, 0.08170238882303238, 0.0804329439997673, -0.10065506398677826, 0.4848008155822754, -0.2626957595348358) * l1(0.0, 0.0);
	r += mat4(0.13421668112277985, 0.3643573820590973, 0.288375586271286, 0.20192453265190125, 0.0403040274977684, -0.24213817715644836, -0.16653381288051605, -0.2958134710788727, 0.06713785976171494, 0.10236616432666779, 0.10401024669408798, 0.0915079340338707, 0.18484851717948914, 0.23228368163108826, -0.06409664452075958, -0.011913618072867393) * l1(1.0, 0.0);
	r += mat4(0.009384192526340485, -0.07296295464038849, 0.3357640206813812, -0.015650490298867226, -0.1613488495349884, 0.06253322213888168, -0.1332278698682785, 0.12842044234275818, 0.01118925865739584, 0.0005142696318216622, 0.2618631422519684, -0.012014380656182766, 0.04568975046277046, 0.16242587566375732, 0.4891991913318634, -0.10334572196006775) * l1(-1.0, 1.0);
	r += mat4(0.08737514168024063, -0.38785991072654724, 0.35718414187431335, 0.1723601073026657, 0.017898917198181152, -0.025053005665540695, -0.7181011438369751, 0.013417941518127918, 0.026986924931406975, 0.020671872422099113, 0.036104507744312286, -0.06983064115047455, -0.04460830241441727, 0.13726869225502014, -0.2587830424308777, -0.01769249327480793) * l1(0.0, 1.0);
	r += mat4(-0.10428433865308762, -0.4009477198123932, 0.2495483011007309, -0.11912450939416885, 0.011730469763278961, 0.046342507004737854, -0.09896306693553925, -0.049415554851293564, -0.04452661797404289, 0.01214614138007164, 0.05233540013432503, 0.04586973413825035, 0.03112528659403324, 0.14067330956459045, 0.6872674822807312, -0.04892332851886749) * l1(1.0, 1.0);
	r += mat4(0.03529064729809761, 0.0442645363509655, 0.031167222186923027, 0.03760083019733429, 0.08887792378664017, 0.2041919082403183, -0.10655012726783752, -0.6113587617874146, -0.05248870328068733, -0.12009486556053162, -0.5061166286468506, -0.33230888843536377, -0.001013158238492906, -0.25858616828918457, 0.01222528051584959, 0.10273212194442749) * l2(-1.0, -1.0);
	r += mat4(-0.24562367796897888, -0.011305011808872223, -0.002767480444163084, -0.08603253960609436, 0.25446128845214844, 0.22216807305812836, 0.04404555633664131, 0.3757791519165039, 0.2383737415075302, 0.17867495119571686, -0.5524137616157532, -0.3772716820240021, -0.14517542719841003, -0.15309114754199982, -0.022299766540527344, -0.0556744746863842) * l2(0.0, -1.0);
	r += mat4(0.10092295706272125, -0.14297176897525787, -0.18152529001235962, -0.08969562500715256, -0.09949396550655365, -0.09576503932476044, -0.012049626559019089, 0.21337288618087769, 0.37346529960632324, 0.5302775502204895, -0.8916264772415161, -0.5853021740913391, -0.010113783180713654, 0.05135853588581085, 0.05290402099490166, -0.09480708837509155) * l2(1.0, -1.0);
	r += mat4(-0.05639879032969475, -0.07839413732290268, -0.07243367284536362, -0.1313476264476776, -0.04542131721973419, 0.2136608362197876, 0.36159515380859375, -0.11651387810707092, 0.10469447821378708, 0.5962545871734619, -0.5320115685462952, -0.30929192900657654, 0.1323007345199585, 0.03976614773273468, -0.01034652441740036, 0.15888845920562744) * l2(-1.0, 0.0);
	r += mat4(0.2045961320400238, -0.41390255093574524, 0.024850478395819664, -0.03978719189763069, 0.08555963635444641, 0.12219928950071335, -0.46983835101127625, 0.34188225865364075, -0.19490206241607666, -3.504918098449707, 0.4045732915401459, -0.2648838758468628, -0.06147400289773941, 0.06774067878723145, 0.03465098887681961, 0.11346413195133209) * l2(0.0, 0.0);
	r += mat4(0.003812110051512718, 0.10842055082321167, 0.1918950229883194, 0.07939781248569489, 0.0826689600944519, -0.11393028497695923, -0.1938501000404358, 0.04059037193655968, 0.4178599417209625, -0.455356627702713, 0.6924999952316284, 1.4481096267700195, 0.018826071172952652, 0.061399515718221664, 0.1336434781551361, -0.15906478464603424) * l2(1.0, 0.0);
	r += mat4(0.08687325567007065, -0.09624569863080978, -0.022028325125575066, -0.11887036263942719, -0.06705423444509506, -0.17566289007663727, 0.41450029611587524, 0.017328714951872826, 0.3970142900943756, 0.33505338430404663, 1.1060503721237183, 0.3597215712070465, 0.02401396818459034, 0.1744396686553955, -0.07348611205816269, 0.20082375407218933) * l2(-1.0, 1.0);
	r += mat4(-0.04796319454908371, -0.00910874642431736, -0.0708279088139534, -0.024787206202745438, 0.08221375197172165, -0.18340714275836945, 0.4244256019592285, 0.1667047142982483, 0.7588939666748047, -6.605544567108154, 0.4097399413585663, 0.6136448979377747, -0.04483747109770775, 0.20251961052417755, -0.1963880956172943, 0.06768713146448135) * l2(0.0, 1.0);
	r += mat4(-0.14109210669994354, -0.08490530401468277, -0.01976625993847847, 0.011249549686908722, -0.018642200157046318, 0.011973723769187927, -0.13123619556427002, -0.05314655601978302, 3.0486905574798584, -4.1756672859191895, 0.6348708271980286, 0.889839768409729, 0.08722599595785141, 0.04186858981847763, 0.04633514583110809, 0.06378129869699478) * l2(1.0, 1.0);
	r += mat4(-0.00965501181781292, -0.25287073850631714, -0.022124795243144035, -0.14404603838920593, -0.06440583616495132, 0.004460744094103575, -0.01262013241648674, 0.05444658175110817, -0.03559775650501251, -0.09092111140489578, 0.11043550074100494, 0.30915090441703796, -0.08793756365776062, 0.07014556974172592, -0.0039972905069589615, 0.3249734938144684) * l3(-1.0, -1.0);
	r += mat4(0.034193407744169235, 0.15041722357273102, -0.04237760230898857, 0.27099788188934326, -0.0010591669706627727, -0.06229444965720177, -0.32867947220802307, 0.2702923119068146, 0.07448196411132812, 0.059431254863739014, 0.18086320161819458, 0.02487625740468502, 0.12829306721687317, -0.261204332113266, 0.11688274145126343, 0.23449575901031494) * l3(0.0, -1.0);
	r += mat4(0.23045797646045685, 0.06522541493177414, 0.22725851833820343, -0.02543443627655506, 0.0410204753279686, -0.021041154861450195, -0.004154625814408064, -0.12548814713954926, -0.06864744424819946, 0.054311688989400864, 0.07423338294029236, 0.042461201548576355, -3.5898544788360596, -1.8656930923461914, -1.4362900257110596, 0.07528950273990631) * l3(1.0, -1.0);
	r += mat4(0.03963133692741394, 0.11541709303855896, -0.07046875357627869, 0.15523742139339447, -0.019288433715701103, -0.6053405404090881, 0.11053713411092758, -0.3933981955051422, -0.010415262542665005, 0.25415006279945374, -0.006734819151461124, 0.24782083928585052, 0.029583822935819626, 0.10835056751966476, -0.045703042298555374, -0.0678478255867958) * l3(-1.0, 0.0);
	r += mat4(0.041806694120168686, 0.39870214462280273, -0.09397672116756439, 0.2275506854057312, 0.013849758543074131, -0.5789029002189636, -0.3154314160346985, -0.31697848439216614, -0.03894009068608284, 0.20273041725158691, 0.14373426139354706, -0.01976638473570347, -0.01897629350423813, 0.06896177679300308, 0.07774535566568375, -0.3070681691169739) * l3(0.0, 0.0);
	r += mat4(-0.11870843917131424, 0.03859671950340271, -0.013176496140658855, 0.18314149975776672, -0.07567424327135086, -0.14158575236797333, 0.05493709444999695, 0.15604917705059052, 0.09522170573472977, 0.183091938495636, -0.056721944361925125, -0.15966786444187164, -0.3642578423023224, 0.1908355951309204, -0.7766737937927246, -0.15341968834400177) * l3(1.0, 0.0);
	r += mat4(0.00020627152116503567, -0.10801788419485092, 0.07516256719827652, 0.025366518646478653, -0.02325073629617691, 0.2854577600955963, -0.10684619098901749, -0.07666335254907608, -0.051282141357660294, -0.595695436000824, -0.008151738904416561, -0.08079381287097931, 0.030188703909516335, -0.12625211477279663, 0.0030242905486375093, 0.001382240792736411) * l3(-1.0, 1.0);
	r += mat4(-0.09883130341768265, -0.13120411336421967, -0.14182601869106293, 0.2020597904920578, 0.01864434778690338, 0.3464498817920685, -0.23354265093803406, 0.04087822139263153, -0.11407012492418289, 0.07852427661418915, -0.009586138650774956, 0.03180557116866112, -0.041435953229665756, -0.14905689656734467, 0.10478144139051437, -0.10493844002485275) * l3(0.0, 1.0);
	r += mat4(0.024604303762316704, -0.09585708379745483, -0.31650394201278687, -0.011070755310356617, 0.06368996202945709, -0.022332578897476196, -0.0006078696460463107, 0.042728304862976074, -0.024049250409007072, -0.01868537627160549, -0.09209312498569489, 0.00445567024871707, 0.0656835287809372, -0.04098028317093849, -0.07536298781633377, -0.0774223729968071) * l3(1.0, 1.0);
	r += vec4(-0.009103735908865929, -0.020597634837031364, -0.02234603464603424, -0.025769945234060287);
	return max(r, 0.0);
}

//!DESC CuNNy-1x16-RCAS-DS-down
//!HOOK LUMA
//!BIND conv1_0
//!BIND conv1_1
//!BIND conv1_2
//!BIND conv1_3
//!SAVE down
//!WIDTH LUMA.w
//!HEIGHT LUMA.h
//!COMPONENTS 4
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
#define l0(x, y) conv1_0_texOff(vec2(x, y))
#define l1(x, y) conv1_1_texOff(vec2(x, y))
#define l2(x, y) conv1_2_texOff(vec2(x, y))
#define l3(x, y) conv1_3_texOff(vec2(x, y))
vec4 hook() {
	vec4 r = vec4(0.0);
	r += mat4(-0.020761894062161446, -0.019924314692616463, 0.1471053659915924, 0.027230212464928627, -0.04699639603495598, 0.006108350120484829, 0.009793001227080822, 0.013718916103243828, -0.03726964443922043, 0.2135273665189743, 0.14528778195381165, 0.07398796826601028, -0.0736301839351654, -0.028382357209920883, 0.008802099153399467, 0.044703587889671326) * l0(-1.0, -1.0);
	r += mat4(-0.1258864849805832, -0.05863651633262634, 0.07818705588579178, 0.1869204044342041, 0.07743093371391296, -0.07177148014307022, -0.014261010102927685, -0.05713219195604324, -0.1852189004421234, -0.5805181860923767, 0.06155560165643692, 0.06860316544771194, 0.058726806193590164, 0.0757162868976593, 0.10692095011472702, 0.0476992167532444) * l0(0.0, -1.0);
	r += mat4(0.0026111702900379896, -0.09148882329463959, 0.015361152589321136, -0.0005653397529385984, -0.04220585152506828, 0.1079450473189354, -0.0194628294557333, 0.07064817100763321, -0.06851091235876083, 0.01203326229006052, -0.01988971419632435, 0.007577534765005112, -0.007365423254668713, 0.1244502067565918, -0.10297150909900665, 0.09368277341127396) * l0(1.0, -1.0);
	r += mat4(-0.030299654230475426, 0.12646490335464478, -0.21626780927181244, 0.029611682519316673, 0.2629382908344269, 0.02753518894314766, -0.008584744296967983, -0.02488439343869686, -0.3546566367149353, 0.04175185784697533, -0.7011711597442627, 0.09254441410303116, 0.07661807537078857, 0.07324475049972534, -0.07173017412424088, -0.035909224301576614) * l0(-1.0, 0.0);
	r += mat4(0.15960702300071716, -0.08075068891048431, -0.23921512067317963, -0.4515972435474396, -0.8040229082107544, 0.5293170809745789, -0.15311351418495178, 0.2459287941455841, 0.9232411980628967, 0.06383761018514633, 0.23989608883857727, -1.0058021545410156, 0.0067484015598893166, 0.007972925901412964, 0.013975090347230434, 0.058752305805683136) * l0(0.0, 0.0);
	r += mat4(0.020674018189311028, 0.0937480479478836, 0.05500497668981552, 0.020844316110014915, 0.22314035892486572, -0.21935230493545532, 0.028978046029806137, 0.05947401747107506, -0.015297486446797848, 0.30511870980262756, -0.06962128728628159, 0.31593596935272217, -0.19605785608291626, 0.1762278825044632, 0.03702709451317787, 0.17376743257045746) * l0(1.0, 0.0);
	r += mat4(-0.01990639418363571, -0.024462150409817696, 0.012032447382807732, 0.030169229954481125, -0.03528296574950218, -0.03586317226290703, 0.14486058056354523, -0.02804647758603096, -0.09788308292627335, 0.06110336631536484, -0.06390974670648575, 0.0838988870382309, 0.0338076613843441, -0.04047286882996559, 0.057026155292987823, 0.005745445843786001) * l0(-1.0, 1.0);
	r += mat4(0.04779870808124542, 0.03916357085108757, 0.24424424767494202, 0.16475795209407806, -0.10370801389217377, 0.1408102959394455, -0.7350578308105469, 0.3307848274707794, 0.007851552218198776, -0.0885731503367424, 0.37237390875816345, 0.2886418104171753, 0.14664660394191742, 0.011426993645727634, 0.08461296558380127, 0.03214969485998154) * l0(0.0, 1.0);
	r += mat4(-0.05825347825884819, -0.06263795495033264, -0.11467337608337402, -0.07104403525590897, 0.08503208309412003, 0.14579112827777863, 0.27254393696784973, -0.055926721543073654, -0.06938930600881577, -0.08794000744819641, -0.09157904982566833, -0.11540248990058899, 0.07909068465232849, 0.018760357052087784, -0.1058134213089943, 0.0761059895157814) * l0(1.0, 1.0);
	r += mat4(-0.09499146044254303, -0.029710980132222176, -0.03254669904708862, -0.01288297213613987, 0.005871005821973085, 0.004972392227500677, 0.01369448471814394, 0.016687728464603424, 0.030711406841874123, -0.04542108625173569, -0.06908977031707764, -0.049907900393009186, -0.06979800760746002, -0.007584239821881056, 0.006910442374646664, 0.02163592539727688) * l1(-1.0, -1.0);
	r += mat4(-0.20406809449195862, -0.25488346815109253, -0.03073808364570141, -0.10047444701194763, 0.07642333209514618, -0.05780232325196266, 0.0835270956158638, -0.003543240251019597, 0.2825457453727722, 0.09256960451602936, 0.23093432188034058, 0.15207313001155853, -0.09427953511476517, -0.10384015738964081, -0.09234987199306488, -0.04168194904923439) * l1(0.0, -1.0);
	r += mat4(0.019371286034584045, 0.003634538035839796, 0.06568485498428345, 0.08797955513000488, 0.1066841185092926, 0.23983946442604065, -0.01614178530871868, 0.06539996713399887, -0.04986768960952759, 0.08792942017316818, -0.06400153785943985, -0.0824483186006546, 0.020823147147893906, -0.028153492137789726, -0.0018986755749210715, -0.06189068779349327) * l1(1.0, -1.0);
	r += mat4(0.056937769055366516, 0.04103272408246994, -0.0667608454823494, 0.009325383231043816, -0.005223496351391077, -0.0867953822016716, 0.13744200766086578, 0.05591375008225441, 0.19483044743537903, 0.03991783410310745, 0.2658315598964691, 0.0901000127196312, -0.13825014233589172, -0.06679666042327881, -0.1023215651512146, -0.04216068238019943) * l1(-1.0, 0.0);
	r += mat4(-0.06946172565221786, 0.013644094578921795, -0.39646029472351074, -0.32181811332702637, -0.9954944849014282, -0.18223334848880768, -0.24923071265220642, -0.0944838598370552, -0.1679276078939438, -0.8916116952896118, -0.15129370987415314, -0.6699219942092896, 0.3796994090080261, 0.12087298929691315, 0.3175813853740692, 0.09876087307929993) * l1(0.0, 0.0);
	r += mat4(-0.0361836738884449, -0.12288515269756317, -0.10180140286684036, -0.23176001012325287, 0.02747185342013836, -0.684037983417511, 0.3583984076976776, 0.26752331852912903, -0.030510274693369865, 0.40732815861701965, 0.01885698363184929, 0.35754474997520447, 0.035218410193920135, 0.21096833050251007, 0.15370988845825195, 0.2998046875) * l1(1.0, 0.0);
	r += mat4(-0.036752209067344666, -0.022923346608877182, -0.0045088184997439384, -0.026614109054207802, 0.05334578454494476, -0.004614422097802162, 0.052725717425346375, -0.08028735965490341, 0.049934063106775284, -0.041815876960754395, 0.13577045500278473, -0.03195645660161972, -0.06134454160928726, 0.023415671661496162, -0.1500098556280136, -0.03834243491292) * l1(-1.0, 1.0);
	r += mat4(-0.029252326115965843, -0.026780281215906143, 0.07754389941692352, 0.07390011847019196, 0.46035057306289673, 0.3584287464618683, -0.016139453276991844, 0.3732699453830719, 0.019046975299715996, 0.03212985396385193, 0.15621417760849, -0.15519727766513824, -0.03308117762207985, -0.06616479158401489, -0.007990424521267414, -0.1058792918920517) * l1(0.0, 1.0);
	r += mat4(-0.015927234664559364, -0.02074422501027584, -0.016274338588118553, -0.007895414717495441, 0.019510598853230476, 0.24949055910110474, -0.2728736996650696, -0.47853124141693115, -0.016965484246611595, -0.08472169190645218, -0.024266516789793968, 0.12100502103567123, -0.013309750705957413, -0.05896090343594551, -0.11795639246702194, -0.13512659072875977) * l1(1.0, 1.0);
	r += mat4(0.0806412473320961, -0.06696070730686188, -0.0762159526348114, -0.09370608627796173, 0.032259367406368256, -0.043295565992593765, 0.02592274732887745, -0.033730149269104004, 0.17062747478485107, -0.1681985855102539, 0.0883735716342926, -0.07648086547851562, -0.09791570156812668, 0.02308707870543003, -0.03628140315413475, 0.04116798937320709) * l2(-1.0, -1.0);
	r += mat4(0.15513943135738373, 0.3186207115650177, 0.11153065413236618, 0.12687832117080688, 0.22727657854557037, 0.19224123656749725, 0.03576178103685379, 0.08340504765510559, -0.6000936627388, 0.6234211921691895, -0.32128915190696716, 0.24547168612480164, 0.027655163779854774, -0.1500331610441208, -0.1541726440191269, -0.1837688684463501) * l2(0.0, -1.0);
	r += mat4(-0.16256970167160034, -0.18402758240699768, -0.11979454755783081, -0.13291001319885254, -0.07214619964361191, 0.04564394801855087, -0.09351987391710281, -0.06594132632017136, 0.26112842559814453, -0.28084656596183777, 0.10965391248464584, -0.08825595676898956, -0.038456618785858154, 0.03751666843891144, -0.07227036356925964, -0.10609070211648941) * l2(1.0, -1.0);
	r += mat4(0.10018668323755264, -0.057307466864585876, 0.21054820716381073, -0.034531496465206146, -0.05427924171090126, 0.07327108085155487, -0.14892567694187164, -0.05416450649499893, 0.16118130087852478, -0.2080283761024475, 0.23246513307094574, -0.21913476288318634, -0.01678423210978508, -0.052383698523044586, -0.046368468552827835, -0.012464314699172974) * l2(-1.0, 0.0);
	r += mat4(0.08118215203285217, 0.21098797023296356, 0.052204571664333344, 0.323571115732193, -0.3776099383831024, -0.3858393430709839, 0.033810604363679886, -0.0897739976644516, -0.41851624846458435, 0.8261174559593201, -0.6249679327011108, 0.9173597693443298, 0.2221907079219818, 0.19091910123825073, 0.11677302420139313, 0.035329412668943405) * l2(0.0, 0.0);
	r += mat4(-0.1637323647737503, -0.13723912835121155, -0.16944673657417297, -0.15743514895439148, 0.14048121869564056, 0.033220674842596054, 0.06275022774934769, 0.07851215451955795, 0.09586537629365921, -0.36667782068252563, 0.261768639087677, -0.5008565783500671, 0.009922181256115437, 0.09871403872966766, 0.07162859290838242, 0.13029763102531433) * l2(1.0, 0.0);
	r += mat4(-0.08222852647304535, -0.018310079351067543, -0.05451807752251625, -0.033524613827466965, 0.08228819817304611, -0.00902585219591856, 0.1824747622013092, 0.10110856592655182, -0.04925401508808136, 0.00043153270962648094, -0.045596495270729065, -0.11373341083526611, -0.0627569854259491, -0.0271446630358696, -0.061987265944480896, -0.07902099192142487) * l2(-1.0, 1.0);
	r += mat4(-0.004698007367551327, -0.08231674879789352, 0.09802088886499405, 0.026538725942373276, -0.0012094140984117985, 0.0585947260260582, -0.19635747373104095, -0.09149513393640518, -0.05383438244462013, -0.013471342623233795, -0.2127370834350586, 0.2286452054977417, 0.008408420719206333, -0.04848141968250275, 0.21077744662761688, 0.13093556463718414) * l2(0.0, 1.0);
	r += mat4(0.012576798908412457, 0.004201131872832775, -0.035520534962415695, -0.03630844131112099, 0.017268208786845207, 0.0660434141755104, 0.1140773817896843, 0.1222633644938469, 0.017064575105905533, 0.07131423056125641, -0.028436195105314255, -0.05486907809972763, -0.059723854064941406, -0.005134255159646273, -0.05775536224246025, 0.07257677614688873) * l2(1.0, 1.0);
	r += mat4(-0.009539040736854076, 0.03388165682554245, -0.009641580283641815, 0.008860045112669468, -0.09481625258922577, 0.012281057424843311, -0.058653272688388824, -0.034731585532426834, -0.014018663205206394, -0.01159393135458231, -0.06845825165510178, -0.034126315265893936, 0.08718609809875488, 0.018072817474603653, 0.013008030131459236, -0.007622825913131237) * l3(-1.0, -1.0);
	r += mat4(0.07740677148103714, 0.005830158945173025, 0.016152016818523407, -0.03136613219976425, 0.2850043475627899, -0.09706739336252213, -0.2245447039604187, -0.15708836913108826, 0.6520318388938904, 0.39225974678993225, -0.5609439015388489, -0.11773113161325455, 0.03134973719716072, 0.10425293445587158, 0.0896143838763237, 0.059455689042806625) * l3(0.0, -1.0);
	r += mat4(0.05401073768734932, 0.09487105906009674, 0.016863375902175903, 0.07759542018175125, 0.19053514301776886, 0.49194833636283875, -0.05648653581738472, -0.13707683980464935, -0.20552784204483032, 0.10622546076774597, -0.20689630508422852, -0.6778555512428284, -0.007597407791763544, -0.020449459552764893, 0.009839649312198162, 0.057050954550504684) * l3(1.0, -1.0);
	r += mat4(0.44548389315605164, 0.14927347004413605, 0.32635989785194397, 0.16683727502822876, -0.13395331799983978, -0.015009572729468346, 0.03425978496670723, 0.022932741791009903, -0.1790757179260254, -0.020621325820684433, -0.10346074402332306, -0.0029342640191316605, 0.08319242298603058, 0.07151935994625092, 0.1652359664440155, 0.0859784409403801) * l3(-1.0, 0.0);
	r += mat4(0.4042682945728302, 0.6134476065635681, 0.1943730115890503, 0.2961197793483734, -0.16564105451107025, -0.03867783024907112, 1.0534285306930542, 0.3864843547344208, -0.08429570496082306, -0.3511670231819153, 0.7427671551704407, 0.118035227060318, -0.4387955665588379, -0.21608887612819672, -0.2693726420402527, -0.0077874911949038506) * l3(0.0, 0.0);
	r += mat4(0.06964483857154846, 0.10764576494693756, 0.11387868225574493, 0.13052551448345184, -0.6447591185569763, -0.8190245628356934, -0.15319088101387024, 0.6733205318450928, -0.0037194278556853533, 0.08377078920602798, -0.015184273943305016, 0.5422267913818359, 0.01443362608551979, -0.18388395011425018, -0.04455588385462761, -0.2199724018573761) * l3(1.0, 0.0);
	r += mat4(-0.0467681959271431, 0.020256584510207176, 0.03506368398666382, -0.010803690180182457, 0.0680171325802803, 0.01926032267510891, -0.0231503676623106, 0.016147378832101822, -0.021072261035442352, 0.0112259266898036, -0.086180180311203, 0.0094223627820611, 0.06025824323296547, 0.033218950033187866, 0.04129878059029579, 0.06116650626063347) * l3(-1.0, 1.0);
	r += mat4(0.20774361491203308, 0.12482128292322159, 0.43934908509254456, 0.3952276408672333, -0.02582133375108242, 0.04036886245012283, -0.41130849719047546, -0.10422682017087936, -0.05058487132191658, -0.043830256909132004, -0.09680640697479248, -0.1684769243001938, 0.1479404717683792, 0.05599880591034889, -0.06101188436150551, -0.10574618726968765) * l3(0.0, 1.0);
	r += mat4(0.09407392889261246, 0.08369708806276321, 0.040045659989118576, 0.04248346388339996, 0.15890437364578247, 0.15385964512825012, 0.06006653606891632, -0.3339844346046448, -0.02209600619971752, -0.06346265971660614, 0.039646051824092865, -0.002772156847640872, -0.010568594560027122, 0.0888434574007988, 0.03457729145884514, 0.07023869454860687) * l3(1.0, 1.0);
	r += vec4(0.00013163991388864815, -0.0004017778264824301, 7.561195525340736e-05, -0.0005568446940742433);
	return tanh(r);
}

//!DESC CuNNy-1x16-RCAS-DS-shuffle
//!HOOK LUMA
//!BIND down
//!BIND rcas
//!WIDTH LUMA.w 2 *
//!HEIGHT LUMA.h 2 *
//!COMPONENTS 1
//!WHEN OUTPUT.w LUMA.w / 1.3 > OUTPUT.h LUMA.h / 1.3 > *
vec4 hook() {
	vec4 r = vec4(0.0);
	vec2 f = fract(down_pos * down_size);
	ivec2 i = ivec2(f * vec2(2.0));
	r.r = down_tex((vec2(0.5) - f) * down_pt + down_pos)[2*i.y + i.x];
	r.r += rcas_tex(rcas_pos).r;
	r.a = 1.0;
	return clamp(r, 0.0, 1.0);
}
