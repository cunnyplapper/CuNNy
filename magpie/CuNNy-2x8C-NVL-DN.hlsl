// CuNNy 2x8C BILINEAR CHROMA DS NVL
// Copyright (c) 2024 cunnyplapper

// This program is free software; you can redistribute it and/or
// modify it under the terms of the GNU Lesser General Public
// License as published by the Free Software Foundation; either
// version 3.0 of the License, or (at your option) any later version.
// 
// This program is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
// Lesser General Public License for more details.
// 
// You should have received a copy of the GNU Lesser General Public
// License along with this program.  If not, see <https://www.gnu.org/licenses/>.
/* ------------------------------------------------------------------- */

//!MAGPIE EFFECT
//!VERSION 3
//!OUTPUT_WIDTH INPUT_WIDTH * 2
//!OUTPUT_HEIGHT INPUT_HEIGHT * 2

//!TEXTURE
Texture2D INPUT;


//!SAMPLER
//!FILTER POINT
SamplerState SP;

//!SAMPLER
//!FILTER LINEAR
SamplerState SL;

//!TEXTURE
//!WIDTH INPUT_WIDTH
//!HEIGHT INPUT_HEIGHT
//!FORMAT R8G8B8A8_SNORM
Texture2D in_0;

//!TEXTURE
//!WIDTH INPUT_WIDTH
//!HEIGHT INPUT_HEIGHT
//!FORMAT R8G8B8A8_SNORM
Texture2D in_1;

//!TEXTURE
//!WIDTH INPUT_WIDTH
//!HEIGHT INPUT_HEIGHT
//!FORMAT R8G8B8A8_SNORM
Texture2D conv1_0;

//!TEXTURE
//!WIDTH INPUT_WIDTH
//!HEIGHT INPUT_HEIGHT
//!FORMAT R8G8B8A8_SNORM
Texture2D conv1_1;

//!TEXTURE
//!WIDTH INPUT_WIDTH
//!HEIGHT INPUT_HEIGHT
//!FORMAT R8G8B8A8_SNORM
Texture2D conv2_0;

//!TEXTURE
//!WIDTH INPUT_WIDTH
//!HEIGHT INPUT_HEIGHT
//!FORMAT R8G8B8A8_SNORM
Texture2D conv2_1;

//!TEXTURE
//!WIDTH INPUT_WIDTH
//!HEIGHT INPUT_HEIGHT
//!FORMAT R8G8B8A8_SNORM
Texture2D out_0;

//!PASS 1
//!DESC CuNNy-2x8C-BILINEAR-CHROMA-DS-NVL-in
//!BLOCK_SIZE 8
//!NUM_THREADS 64
//!IN INPUT
//!OUT in_0, in_1
#define O(t, p) t.SampleLevel(SP, pos + p * pt, 0)
#define l0(x, y) (dot(float3(0.25057801604270935, 0.48202741146087646, 0.10711956769227982), O(INPUT, float2(x, y)).rgb) + -0.5412862300872803)
float4 f0(float2 pt, float2 pos, min16float s0_0, min16float s0_1, min16float s0_2, min16float s0_3, min16float s0_4, min16float s0_5, min16float s0_6, min16float s0_7, min16float s0_8) {
	min16float4 r = 0.0;
	r += min16float4(0.0087336777, 0.3398032188, 0.1314534843, 0.0202033762) * s0_0;
	r += min16float4(-0.6113281846, -0.3924042583, 0.0623116083, -0.0193712227) * s0_1;
	r += min16float4(0.0215852410, 0.0518050492, -0.1274406761, -0.0035120849) * s0_2;
	r += min16float4(-0.0090531167, 0.3037109077, 0.0774478838, -0.6425781250) * s0_3;
	r += min16float4(0.6035159230, -0.3629764616, 0.2875404954, 0.6298904419) * s0_4;
	r += min16float4(-0.0166418329, 0.0421062037, 0.0623596422, 0.0125975553) * s0_5;
	r += min16float4(0.0024371597, -0.0199539866, -0.2628475726, 0.0137796970) * s0_6;
	r += min16float4(0.0066007013, 0.0333714895, -0.3213325739, 0.0033345034) * s0_7;
	r += min16float4(-0.0072328653, 0.0030225045, 0.0915532410, -0.0136807067) * s0_8;
	r += min16float4(-0.00023180404969025403, -0.0005185518530197442, 0.00153649365529418, 7.291398651432246e-05);
	return r;
}
float4 f1(float2 pt, float2 pos, min16float s0_0, min16float s0_1, min16float s0_2, min16float s0_3, min16float s0_4, min16float s0_5, min16float s0_6, min16float s0_7, min16float s0_8) {
	min16float4 r = 0.0;
	r += min16float4(-0.2231435031, -0.1977539361, -0.0038872412, 0.2657575011) * s0_0;
	r += min16float4(0.1731615812, 0.0501349978, -0.1867390871, 0.3848156035) * s0_1;
	r += min16float4(0.3037108183, 0.1066270694, -0.0225223191, -0.2666015327) * s0_2;
	r += min16float4(0.0299765952, 0.0474289171, -0.1399715692, 0.1621891260) * s0_3;
	r += min16float4(-0.5417133570, 0.3506005108, 0.5449145436, -0.3752692640) * s0_4;
	r += min16float4(0.2760348320, -0.0073604272, -0.0530616045, -0.0234667156) * s0_5;
	r += min16float4(0.2073211223, 0.1964520365, 0.0273721125, -0.2124024332) * s0_6;
	r += min16float4(-0.1739276946, -0.2705077827, -0.1302516162, -0.0409427620) * s0_7;
	r += min16float4(-0.0501142554, -0.2784685493, 0.0273612123, 0.1084897891) * s0_8;
	r += min16float4(-0.0004573428013827652, 5.1411207095952705e-05, 0.034618210047483444, 0.0027537676505744457);
	return r;
}
void Pass1(uint2 blockStart, uint3 tid) {
	float2 pt = float2(GetInputPt());
	uint2 gxy = Rmp8x8(tid.x) + blockStart;
	uint2 size = GetInputSize();
	if (gxy.x >= size.x || gxy.y >= size.y) {
		return;
	}
	float2 pos = (gxy + 0.5) * pt;
	min16float s0_0 = l0(-1.0, -1.0);
	min16float s0_1 = l0(0.0, -1.0);
	min16float s0_2 = l0(1.0, -1.0);
	min16float s0_3 = l0(-1.0, 0.0);
	min16float s0_4 = l0(0.0, 0.0);
	min16float s0_5 = l0(1.0, 0.0);
	min16float s0_6 = l0(-1.0, 1.0);
	min16float s0_7 = l0(0.0, 1.0);
	min16float s0_8 = l0(1.0, 1.0);
	in_0[gxy] = f0(pt, pos, s0_0, s0_1, s0_2, s0_3, s0_4, s0_5, s0_6, s0_7, s0_8);
	in_1[gxy] = f1(pt, pos, s0_0, s0_1, s0_2, s0_3, s0_4, s0_5, s0_6, s0_7, s0_8);
}
//!PASS 2
//!DESC CuNNy-2x8C-BILINEAR-CHROMA-DS-NVL-conv1
//!BLOCK_SIZE 8
//!NUM_THREADS 64
//!IN in_0, in_1
//!OUT conv1_0, conv1_1
#define O(t, p) t.SampleLevel(SP, pos + p * pt, 0)
#define l0(x, y) O(in_0, float2(x, y))
#define l1(x, y) O(in_1, float2(x, y))
float4 f0(float2 pt, float2 pos, min16float4 s0_0, min16float4 s0_1, min16float4 s0_2, min16float4 s0_3, min16float4 s0_4, min16float4 s0_5, min16float4 s0_6, min16float4 s0_7, min16float4 s0_8, min16float4 s1_0, min16float4 s1_1, min16float4 s1_2, min16float4 s1_3, min16float4 s1_4, min16float4 s1_5, min16float4 s1_6, min16float4 s1_7, min16float4 s1_8, min16float4 s2_0, min16float4 s2_1, min16float4 s2_2, min16float4 s2_3, min16float4 s2_4, min16float4 s2_5, min16float4 s2_6, min16float4 s2_7, min16float4 s2_8, min16float4 s3_0, min16float4 s3_1, min16float4 s3_2, min16float4 s3_3, min16float4 s3_4, min16float4 s3_5, min16float4 s3_6, min16float4 s3_7, min16float4 s3_8) {
	min16float4 r = 0.0;
	r += mul(s0_0, min16float4x4(-0.1615799665, 0.0433165878, -0.2132247835, -0.1887096018, 0.1253602952, -0.3965207934, 0.0077362126, -0.0504767783, -0.3568442762, 0.4902618527, 0.3589756787, -0.1277439594, 0.1025845036, 0.0415548012, -0.0762536004, -0.2714125514));
	r += mul(s0_1, min16float4x4(0.2371678799, 0.0093725445, 0.0661156327, -0.0175074674, 0.1374103427, -0.1198121160, 0.1007966697, 0.1507799178, 0.0879335627, 0.4997628927, -0.2567950785, 0.0111816991, -0.0876796022, 0.1232097149, -0.0237590931, 0.0761103183));
	r += mul(s0_2, min16float4x4(0.0327261053, 0.2085678130, 0.0263479594, 0.0535330623, 0.0602623448, -0.0860027298, 0.1883084178, 0.0265176948, -0.1561346054, 0.0237724874, -0.1145870686, -0.3225153685, 0.1158495396, -0.1065536961, -0.0730791390, 0.0445962213));
	r += mul(s0_3, min16float4x4(0.1152625754, 0.3127855062, -0.4072268009, -0.3048083484, -0.1005651131, -0.4002014399, 0.0392385088, 0.1022873521, -0.3661081493, 0.0149919232, 0.0339873321, -0.2686330378, 0.1992110759, 0.0379516296, -0.4193805456, 0.0566415153));
	r += mul(s0_4, min16float4x4(-0.4693752527, -0.0214813929, 0.3141564131, 0.0013318348, 0.1036079898, -0.6190695763, 0.4308601022, 0.1725402027, -0.0592373647, -0.1529068053, 0.2162552625, -0.0245522447, -0.7012090683, 0.6574711800, -0.3326509297, -0.0955109820));
	r += mul(s0_5, min16float4x4(-0.0005968170, -0.0053595277, 0.2356356978, 0.1088702008, -0.0465858765, -0.0395894945, 0.1787310392, -0.2623854280, -0.0365510285, 0.0548991822, -0.1868890226, -0.4052510858, -0.3476414979, 0.2220458090, 0.3829073906, 0.0062648868));
	r += mul(s0_6, min16float4x4(0.1693621725, 0.0105145313, -0.3584035337, 0.0900234953, -0.4610188603, 0.0631778464, 0.3359167874, 0.0353101604, -0.1583794802, 0.0054480643, 0.0467551909, 0.1106891483, 0.1560070217, 0.2043344378, -0.1656331867, 0.2010367811));
	r += mul(s0_7, min16float4x4(-0.5682231188, 0.2807554305, -0.2484952509, -0.1782606542, 0.3248251379, 0.0398969352, 0.3662554622, 0.2934007049, 0.0640584454, 0.0261847544, -0.0453675874, -0.3408203125, 0.0350742154, -0.1268166006, -0.1205125898, 0.0053751781));
	r += mul(s0_8, min16float4x4(0.2422985584, 0.0312184151, 0.0594445542, -0.0904496461, 0.1428021789, -0.2248859704, -0.1228547096, 0.2921002805, -0.1950607896, -0.0347618125, -0.1797761619, -0.0939116701, -0.2456746697, 0.0410157777, 0.1381686628, -0.1683853269));
	r += mul(s1_0, min16float4x4(0.1141015366, -0.5602643490, -0.0388087146, -0.0501310118, -0.1219098940, 0.3391646445, -0.0191042591, 0.0924063623, -0.0101096826, -0.4678100049, -0.3037122190, -0.2393219620, 0.0040709898, 0.0958668515, -0.2509769201, 0.0068923999));
	r += mul(s1_1, min16float4x4(-0.1772701889, -0.3956153989, 0.1042674556, 0.2213310301, -0.2131537944, 0.0338527523, -0.0862581953, -0.2880884409, -0.0124580236, -0.7869506478, 0.4085661471, -0.0937550366, 0.1355573833, -0.1244208813, -0.3531007171, 0.0565073974));
	r += mul(s1_2, min16float4x4(0.0001337459, -0.1963368952, -0.0133818472, 0.0257068072, -0.1341825426, 0.0656665266, 0.0239734240, -0.0093934359, -0.0391129218, 0.0067594387, -0.0407079309, 0.0169381239, 0.1464647502, 0.0242282655, 0.1976519227, 0.1629172266));
	r += mul(s1_3, min16float4x4(-0.2593010366, -0.0149221113, -0.2647222579, 0.1551186591, -0.0121993106, -0.4950892627, 0.0435031056, 0.0999106467, -0.0370972678, -0.0265364815, -0.1570345610, -0.2589465380, 0.1572799832, 0.6736260653, -0.0547220111, 0.0616725683));
	r += mul(s1_4, min16float4x4(-0.0031409110, 0.2211161703, -0.4172030985, -0.3047120273, 0.3920892477, -0.7662482262, 0.2894490659, 0.2480317652, -0.1218098998, 0.2224615514, 0.0493207499, -0.6307163835, -0.5973036885, 0.4188014269, -0.8020870090, -0.5292857289));
	r += mul(s1_5, min16float4x4(0.1287232786, -0.0631514043, 0.0861406401, -0.0871940106, 0.0803857222, -0.3154293895, -0.1942927539, -0.0445380099, -0.1638126522, -0.1028816327, -0.1699909717, -0.1490339339, -0.0768852457, 0.1995752901, 0.4381009638, -0.1635964215));
	r += mul(s1_6, min16float4x4(0.1889185458, 0.1036712900, 0.0008703741, 0.2043536007, -0.3174439967, -0.2115348279, 0.2963168323, -0.3330698609, -0.0392431244, -0.0557706393, -0.0827983692, -0.3520362675, 0.2248521298, -0.2089900523, -0.1372348219, -0.0535945743));
	r += mul(s1_7, min16float4x4(-0.5965924859, 0.0505613051, -0.2614453733, -0.1356358677, 0.3464942873, -0.1189532727, 0.1169310808, 0.2190323770, -0.2956010699, 0.0264267940, 0.0190771483, 0.0567933246, -0.2987050116, 0.0269567184, 0.2269256413, 0.2774099708));
	r += mul(s1_8, min16float4x4(-0.0555311255, 0.0341709591, 0.1276174635, -0.1450997293, 0.2802610397, -0.1498569846, 0.2296171188, 0.0985019803, 0.0096255327, 0.0743552968, -0.0383695476, -0.4214155376, -0.1053557172, 0.0969486311, 0.1383331418, 0.1089341789));
	r += mul(s2_0, min16float4x4(-0.0993580446, -0.3275930583, -0.1166254133, -0.1645595431, 0.2943974137, 0.0805917606, 0.1097067595, 0.2223175168, -0.0785212368, -0.0437921248, 0.0908292755, 0.0735376850, 0.0023638143, -0.0320322327, -0.0169301089, 0.0977740362));
	r += mul(s2_1, min16float4x4(0.0286452752, -0.0243772212, 0.2645508945, -0.0389211141, 0.1878652126, 0.3230574131, -0.1824791878, 0.3876701295, -0.1177837402, 0.0811378583, 0.1168803126, 0.1088794619, 0.0450850092, -0.0187261403, 0.0349731073, -0.0038675342));
	r += mul(s2_2, min16float4x4(-0.0238386765, 0.1450215131, -0.1323185414, -0.1645548493, -0.0130581027, -0.0300993808, -0.0715182722, 0.0596569106, -0.0081363106, -0.0255313348, -0.0871053338, -0.1057107672, 0.0991463512, 0.0949860737, -0.1420522779, 0.0130666327));
	r += mul(s2_3, min16float4x4(-0.6733636260, 0.1341864169, 0.2429794073, -0.0109908246, 0.4999211729, -0.0354898684, -0.0575675368, 0.1671021432, 0.1082212627, 0.0038934117, 0.0630724728, -0.0455321111, 0.1795187145, 0.1662096828, 0.2328831106, 0.1695494056));
	r += mul(s2_4, min16float4x4(-0.2104100138, 0.0159352887, -0.6569601893, -0.2647988498, 0.2915951908, -0.0610875599, -0.2448417395, 0.4551602900, -0.1350409538, 0.1270302683, 0.1200090945, 0.3746494949, 0.4873564243, -0.1892650574, -0.4060588479, 0.0978812948));
	r += mul(s2_5, min16float4x4(-0.1838461310, -0.0725471154, 0.1831033975, -0.0254900996, 0.0875014067, 0.0551408418, 0.0338610001, 0.1410448551, -0.1506947577, -0.0140434774, -0.2448419780, -0.1341236830, 0.0715310946, -0.1264222264, 0.2144431472, 0.2516009212));
	r += mul(s2_6, min16float4x4(-0.3591706157, 0.0841436535, 0.0721065477, -0.1395575702, 0.2201935053, -0.0377938263, -0.0565090775, 0.3409561515, 0.0746916905, -0.0757792816, 0.0679723322, -0.0573488735, 0.0041603944, -0.1135521308, -0.0163382199, -0.0067300536));
	r += mul(s2_7, min16float4x4(-0.2644839585, 0.0221827757, -0.0642005652, -0.1528121978, -0.1441176832, -0.1838001609, 0.0969084948, 0.3499481976, 0.1346429139, 0.0389656052, -0.0221486595, -0.2103595585, 0.1003573090, 0.0323473029, 0.0699132532, 0.3622914851));
	r += mul(s2_8, min16float4x4(0.1770346910, 0.0067646680, -0.0461518466, -0.0566064380, 0.1179789081, 0.0733115897, -0.0039150752, -0.0399151444, 0.1279396564, 0.0232635438, -0.0500594415, 0.0226736981, 0.5705193281, 0.1052139699, 0.0166036319, 0.0133794220));
	r += mul(s3_0, min16float4x4(-0.0279683191, 0.0920171812, -0.0434463620, -0.0307373703, 0.0674348101, -0.3789902925, -0.0570769086, 0.3551298678, 0.0226756278, 0.3688140810, 0.4774325490, 0.2935148478, 0.1469677091, -0.0869158208, 0.1597038656, 0.2802053392));
	r += mul(s3_1, min16float4x4(-0.2997232080, -0.2355534583, -0.3447251618, -0.3663160503, 0.2090986222, -0.3880892396, -0.1661421061, 0.0018048584, 0.0801895037, 0.2201888412, -0.3857781291, -0.4619898796, -0.0173128843, 0.1019797325, -0.0874765143, 0.0436436683));
	r += mul(s3_2, min16float4x4(0.0286383647, -0.1352723539, 0.1595785171, 0.1142616197, 0.1017771214, 0.2166810483, 0.0619435720, 0.0516428389, -0.0429300293, 0.0587275773, 0.0606565922, 0.0433628559, 0.0218691975, -0.1928714812, 0.1733423173, 0.1436921060));
	r += mul(s3_3, min16float4x4(0.1865404844, -0.5931587219, -0.3744044900, -0.4598740339, 0.0646595806, -0.0457617529, 0.2163244635, 0.8747708797, -0.0833962485, -0.4216934741, 0.1233146265, -0.1907665133, -0.0367910191, 0.0466021858, 0.1165670902, 0.2082638443));
	r += mul(s3_4, min16float4x4(0.0445491970, 0.1301978379, 0.0804798156, 0.0000954285, 0.2865214944, -0.0515156053, 0.0074929302, 0.3569427133, 0.6035521626, -0.3116968870, -0.5812271237, 0.2686718404, 0.2447032481, -0.3662101924, 0.2161512971, 0.6045103073));
	r += mul(s3_5, min16float4x4(-0.1222995743, 0.1546348482, -0.1442414373, -0.1489436626, 0.0959022045, 0.0322518460, -0.0275013447, 0.1129944921, 0.1172938868, -0.0498590395, 0.0332762040, 0.1645608693, 0.2558015287, 0.0215562154, -0.2310187221, 0.0289988481));
	r += mul(s3_6, min16float4x4(-0.0202535745, 0.0413906388, -0.1850099713, -0.3405259848, 0.0878658444, 0.0592322126, 0.0288644861, 0.2014311105, -0.3817316890, 0.1017931104, -0.2197968811, -0.0750882700, 0.1046889424, 0.1772301644, 0.1612236500, 0.4146635830));
	r += mul(s3_7, min16float4x4(-0.0201355815, -0.0890509561, -0.1035531834, -0.2830395401, 0.3518541753, 0.0707675368, -0.0608667880, 0.2568669021, 0.1040317938, -0.1001573056, 0.0429153331, 0.1063583866, 0.4732199013, -0.1315741986, 0.1973851472, 0.0203768462));
	r += mul(s3_8, min16float4x4(-0.2861333191, -0.0676309615, 0.0180036817, -0.0414703265, 0.0079091704, -0.0915509313, 0.0618876480, 0.2823130190, -0.2763611078, -0.0727947354, 0.1457029134, 0.1824761331, -0.1158166006, -0.2300852090, -0.0003478486, 0.4912199676));
	r += min16float4(0.005793132819235325, -0.007054428569972515, -0.0013053620932623744, -0.0005633285036310554);
	return r;
}
float4 f1(float2 pt, float2 pos, min16float4 s0_0, min16float4 s0_1, min16float4 s0_2, min16float4 s0_3, min16float4 s0_4, min16float4 s0_5, min16float4 s0_6, min16float4 s0_7, min16float4 s0_8, min16float4 s1_0, min16float4 s1_1, min16float4 s1_2, min16float4 s1_3, min16float4 s1_4, min16float4 s1_5, min16float4 s1_6, min16float4 s1_7, min16float4 s1_8, min16float4 s2_0, min16float4 s2_1, min16float4 s2_2, min16float4 s2_3, min16float4 s2_4, min16float4 s2_5, min16float4 s2_6, min16float4 s2_7, min16float4 s2_8, min16float4 s3_0, min16float4 s3_1, min16float4 s3_2, min16float4 s3_3, min16float4 s3_4, min16float4 s3_5, min16float4 s3_6, min16float4 s3_7, min16float4 s3_8) {
	min16float4 r = 0.0;
	r += mul(s0_0, min16float4x4(-0.0023833246, 0.0406650901, 0.2454882711, 0.0345601961, -0.0323142819, -0.0371899493, -0.0496895835, -0.0252558887, -0.0468417183, -0.0127301933, 0.1285977215, -0.0619817525, -0.0552117415, 0.0537261963, 0.2512525618, 0.0127407638));
	r += mul(s0_1, min16float4x4(-0.2138033211, -0.2350222915, 0.1377985626, -0.0782953128, 0.0373623818, 0.1154852211, -0.1595766544, 0.0138937226, 0.1260274053, 0.2876489460, 0.0306272972, 0.1865741611, 0.0184609462, -0.2006917298, 0.6933639646, -0.0165181495));
	r += mul(s0_2, min16float4x4(-0.1342010200, -0.0030624259, -0.0464024320, 0.1157937497, 0.0390601531, 0.0738765746, -0.0003523745, -0.0258729327, 0.0538258180, -0.2338834107, 0.0796364918, -0.3268746436, -0.3668750226, 0.0664266869, 0.0285030715, 0.1468402296));
	r += mul(s0_3, min16float4x4(0.0422120541, -0.0781036839, 0.4612366855, -0.1546853334, -0.0179393217, -0.1047501862, -0.1996015161, 0.0520001948, -0.0062710983, 0.0984967649, -0.0484757423, -0.1541286707, -0.0127934748, -0.0264744051, 0.0110465279, 0.0101673901));
	r += mul(s0_4, min16float4x4(-0.4703831375, 0.1999538392, -0.3109589517, 0.1772899330, -0.0173190441, 0.0686335117, -0.0638574511, 0.1228964999, 0.0294278171, 0.5347473025, -0.1806329489, -0.1006312594, -0.0479203537, 0.0924763829, -0.3662557602, 0.0329596028));
	r += mul(s0_5, min16float4x4(-0.1281893849, 0.2874428332, -0.4488436878, 0.0179569870, 0.0776115954, 0.1862726808, -0.0110932104, -0.0884784311, 0.0046183062, -0.3798866272, 0.1436444521, -0.0500155799, 0.2743993998, 0.1887623370, -0.5260710716, 1.0904337168));
	r += mul(s0_6, min16float4x4(-0.0049226340, -0.4111349881, 0.2648905218, -0.0176114812, 0.0345541500, 0.2309015095, 0.1846158206, -0.2476012558, 0.0960841477, 0.0967263281, 0.0752096400, -0.1587101817, -0.0319861174, 0.0031163292, -0.3037056327, -0.0760923326));
	r += mul(s0_7, min16float4x4(1.1390848160, -0.0064406325, -0.3298443258, 1.0700674057, -0.3144568801, 0.0025261249, 0.4738491178, -0.1577496678, 0.1854459196, -0.3083900213, -0.0053079906, 0.0404095612, 0.2283354700, -0.2940263152, -0.0232621394, 0.1791521013));
	r += mul(s0_8, min16float4x4(0.1856513470, -0.0382465795, -0.1509031355, 0.3798789680, -0.1391747743, 0.0708094165, 0.3504750729, -0.0012150005, -0.0152874384, 0.1585302502, -0.1266115010, -0.0098514110, 0.2900367081, 0.0436384752, 0.1204530448, -0.0615085587));
	r += mul(s1_0, min16float4x4(0.0760662258, 0.0677378029, 0.0632195175, -0.0773558989, 0.0649693608, -0.0513267405, 0.0474569313, -0.0047997194, 0.0105418777, 0.1014391333, -0.1506523490, 0.0376754329, 0.0173884518, 0.2053892016, 0.1302998662, -0.0938822851));
	r += mul(s1_1, min16float4x4(-0.2458524257, 0.2018461078, -0.0230821613, 0.0930092484, 0.0423578210, -0.0370632969, -0.0794885680, -0.0239062272, -0.1401262283, 0.2579719424, -0.2869773209, -0.1026293486, -0.5381896496, -0.1352467537, 0.1539597809, 0.1223311871));
	r += mul(s1_2, min16float4x4(-0.0094878301, -0.0372551121, 0.0613474585, -0.0587264523, -0.0383472070, -0.1510244012, 0.0595527887, 0.0377159677, 0.1196349040, -0.0682832599, 0.2235943079, -0.1406559497, -0.3346262872, 0.1591833532, -0.3957113326, 0.0017416043));
	r += mul(s1_3, min16float4x4(0.0931294486, 0.0528414585, 0.2220110595, -0.3193956017, 0.1655340046, -0.0831061304, -0.1345988661, 0.1211864427, 0.2025880218, 0.1469797939, -0.1937818080, 0.0181676559, -0.0164440814, -0.0351518504, -0.0821448490, -0.1169294417));
	r += mul(s1_4, min16float4x4(-0.2594192028, -0.0432662815, 0.3231750727, 0.8173128366, 0.4086238742, 0.1091420650, -0.3075878024, -0.1190033928, 0.0768987909, 0.1453513056, 0.3759529889, 0.3157671094, 0.5537092090, -0.1662324369, 0.0434115715, 0.2890301049));
	r += mul(s1_5, min16float4x4(0.0074958540, 0.3829328418, -0.0973173827, 0.3120505512, 0.4289264679, -0.0282432735, -0.4110409021, 0.1351852119, -0.0596478395, 0.0995129645, 0.1265477389, -0.3760161996, -0.0411814265, 1.0106867552, 0.0139749944, 0.3238233030));
	r += mul(s1_6, min16float4x4(-0.1380136460, 0.0340348668, -0.2169937640, -0.0605662391, 0.0053974749, -0.0267132726, 0.3512811661, -0.0920459926, 0.0451905467, -0.1151222959, 0.0023677910, 0.0309981387, -0.0378204249, -0.2783205211, 0.1304856837, 0.2639591098));
	r += mul(s1_7, min16float4x4(0.2529278994, 0.6659265161, -0.5156675577, 0.2689544261, -0.6926936507, 0.0282488428, 0.3170841932, -0.0927339122, -0.1033443660, 0.3335006237, -0.0049695806, -0.0944190025, 0.2375399470, -0.0038927265, -0.2506029010, -0.0865573734));
	r += mul(s1_8, min16float4x4(-0.1271952242, 0.6025216579, -0.2149798125, -0.0841059163, -0.5754014850, 0.1271125078, 0.1967314631, 0.1822501868, 0.1459951401, -0.0600389466, -0.1022452340, -0.1129866615, 0.2935527265, -0.0729716942, -0.1265928149, -0.0838638693));
	r += mul(s2_0, min16float4x4(0.1047624648, 0.0237659216, 0.0241995268, -0.0735388920, -0.0086338473, -0.1691303998, 0.0726362765, 0.0835712254, 0.0811633021, -0.0115344534, -0.1587390006, 0.0567210205, 0.0871578529, -0.1018324494, -0.0566149205, 0.0466931649));
	r += mul(s2_1, min16float4x4(0.1052027196, -0.0289163217, -0.0122297946, -0.0235732626, 0.1420917362, -0.1695191413, 0.0182043165, -0.0209317971, 0.2065013349, 0.2453329861, 0.1645168513, 0.2589794993, -0.0854576230, -0.1712427735, -0.1000969335, -0.0118838931));
	r += mul(s2_2, min16float4x4(-0.0473772734, -0.0442350991, 0.1092405319, 0.0681712255, -0.0785579681, -0.0316091143, -0.1000841185, 0.0429666974, 0.3203077316, -0.2820767164, 0.0181014556, -0.1758413762, 0.0049015409, -0.0056214402, 0.0293737594, 0.2067995965));
	r += mul(s2_3, min16float4x4(-0.0276309513, 0.3096063733, -0.1567089111, -0.7735407352, -0.0827122554, -0.0393423885, 0.1260090321, 0.4827870727, -0.0519153699, 0.1372141689, -0.1037638634, 0.0910964310, 0.0331930555, 0.1420304924, 0.1638933718, 0.1303834617));
	r += mul(s2_4, min16float4x4(-0.0114807962, 0.0701938123, 0.1142631918, 0.2134099007, -0.3152833879, -0.3218918145, 0.1120228693, 0.0065289838, -0.2735126615, 0.0679139420, -0.2120992392, -0.0830773264, 0.1181080341, -0.2130159289, 0.0390814058, 0.4003627598));
	r += mul(s2_5, min16float4x4(0.1369769871, 0.0699480847, -0.2241183668, -0.2394998074, 0.0239917170, 0.0632333085, 0.0211017393, -0.0197135005, 0.1004147083, -0.2788670063, 0.1068158224, -0.2955726981, -0.0164087098, 0.2407135069, -0.1659661084, -0.3471583128));
	r += mul(s2_6, min16float4x4(-0.0040968414, 0.0328458473, 0.1105612516, -0.3816264570, -0.0054252208, -0.0210206658, 0.0487674102, 0.1568086892, -0.2434067130, 0.2131936401, -0.0861852318, -0.0201544762, -0.1145037860, -0.0715128630, -0.0404234044, 0.0135063287));
	r += mul(s2_7, min16float4x4(-0.0658610016, 0.1368983090, -0.0293286890, -0.2706857920, -0.1391457915, -0.0797284842, 0.0771365613, -0.1041548997, -0.1161498502, 0.1092399284, 0.0819258466, 0.3034896553, -0.3401160240, 0.2205222547, -0.1032262370, -0.1713789105));
	r += mul(s2_8, min16float4x4(0.0599310435, 0.0790929869, 0.0983075052, 0.1633707732, 0.1128523946, -0.0186612196, -0.0777643323, 0.1254977584, -0.1284715831, -0.1450295001, 0.1846743375, -0.2382587641, 0.1962844133, -0.1606775522, 0.0972026959, 0.1984365284));
	r += mul(s3_0, min16float4x4(0.0519030392, -0.0401560105, 0.0220611989, -0.0321598575, -0.2739311755, 0.1083367467, -0.1278133094, 0.0352849439, -0.1569382548, -0.0355267599, 0.0311426632, 0.0375678949, -0.1771199852, -0.0477448516, 0.0059777051, -0.0075803059));
	r += mul(s3_1, min16float4x4(0.1547594965, 0.2075222880, 0.1509847343, 0.0549784154, -0.2503921390, -0.1184472293, 0.1594460458, 0.0211266726, 0.5489086509, -0.0985101908, -0.1606429815, -0.3292068243, 0.2615115345, 0.1262622774, -0.1152110547, 0.0342354961));
	r += mul(s3_2, min16float4x4(-0.0642188340, 0.1008084267, -0.0535486341, -0.0657947659, 0.0323806256, -0.0207472537, 0.0485695936, 0.0193749536, -0.1076428220, 0.1322129369, -0.0326030962, 0.0182605069, -0.0052870782, 0.0582449138, -0.0935514793, -0.0945242196));
	r += mul(s3_3, min16float4x4(0.1490637511, -0.2794241309, 0.5565146208, 0.5372222066, -0.1127592176, -0.1352530718, -0.1396660060, -0.3290406764, 0.1169681922, -0.0866786465, 0.1084771156, 0.4288962781, -0.1410837173, -0.2567496598, -0.0872614980, 0.0018684237));
	r += mul(s3_4, min16float4x4(0.1507503837, 0.0250817314, -0.0476577729, -0.4686375260, 0.0406050235, 0.0726880729, -0.0651835278, 0.1817250848, 0.1723491400, -0.7460735440, 0.7402106524, -0.8789443374, -0.4661722779, 0.1785202920, -0.4511606693, -0.1639484167));
	r += mul(s3_5, min16float4x4(-0.1043562368, -0.0912131965, 0.2470456660, 0.2297806591, 0.0123008136, -0.1364704221, -0.2226540893, 0.1078302711, -0.3531761765, -0.1076005846, -0.2325271070, 0.2975653708, 0.1097935587, -0.2658342123, -0.0764208958, 0.3478630483));
	r += mul(s3_6, min16float4x4(0.1848144233, -0.0444350801, -0.0730357543, 0.1099782139, -0.2070365846, -0.0430302769, 0.0139445746, -0.0067874556, 0.4561503828, 0.0083665047, -0.2548840344, -0.0015543523, 0.0565958321, 0.0416518636, -0.0134433452, 0.1308912784));
	r += mul(s3_7, min16float4x4(0.1223072857, -0.0915915966, 0.0409679227, 0.2138500661, 0.0821023509, -0.0888366774, -0.0289756227, 0.2883956432, -0.0436981134, 0.0190727487, -0.2067885548, -0.1719897091, 0.1009348556, -0.2531381845, 0.0488424040, 0.1498266459));
	r += mul(s3_8, min16float4x4(-0.0141292699, 0.0200895295, -0.1460004598, -0.0854634196, 0.0140196579, -0.0157522336, 0.0857163295, -0.0672489107, 0.0509709567, -0.0577880442, 0.0172569379, 0.1106600165, -0.4708262980, 0.0370886400, 0.1029573306, -0.2317414433));
	r += min16float4(0.004518808797001839, -0.005247107706964016, 0.00033906460157595575, 0.004487539175897837);
	return r;
}
void Pass2(uint2 blockStart, uint3 tid) {
	float2 pt = float2(GetInputPt());
	uint2 gxy = Rmp8x8(tid.x) + blockStart;
	uint2 size = GetInputSize();
	if (gxy.x >= size.x || gxy.y >= size.y) {
		return;
	}
	float2 pos = (gxy + 0.5) * pt;
	min16float4 s0_0 = l0(-1.0, -1.0);
	min16float4 s0_1 = l0(0.0, -1.0);
	min16float4 s0_2 = l0(1.0, -1.0);
	min16float4 s0_3 = l0(-1.0, 0.0);
	min16float4 s0_4 = l0(0.0, 0.0);
	min16float4 s0_5 = l0(1.0, 0.0);
	min16float4 s0_6 = l0(-1.0, 1.0);
	min16float4 s0_7 = l0(0.0, 1.0);
	min16float4 s0_8 = l0(1.0, 1.0);
	min16float4 s1_0 = max(-s0_0, 0.0);
	min16float4 s1_1 = max(-s0_1, 0.0);
	min16float4 s1_2 = max(-s0_2, 0.0);
	min16float4 s1_3 = max(-s0_3, 0.0);
	min16float4 s1_4 = max(-s0_4, 0.0);
	min16float4 s1_5 = max(-s0_5, 0.0);
	min16float4 s1_6 = max(-s0_6, 0.0);
	min16float4 s1_7 = max(-s0_7, 0.0);
	min16float4 s1_8 = max(-s0_8, 0.0);
	s0_0 = max(s0_0, 0.0);
	s0_1 = max(s0_1, 0.0);
	s0_2 = max(s0_2, 0.0);
	s0_3 = max(s0_3, 0.0);
	s0_4 = max(s0_4, 0.0);
	s0_5 = max(s0_5, 0.0);
	s0_6 = max(s0_6, 0.0);
	s0_7 = max(s0_7, 0.0);
	s0_8 = max(s0_8, 0.0);
	min16float4 s2_0 = l1(-1.0, -1.0);
	min16float4 s2_1 = l1(0.0, -1.0);
	min16float4 s2_2 = l1(1.0, -1.0);
	min16float4 s2_3 = l1(-1.0, 0.0);
	min16float4 s2_4 = l1(0.0, 0.0);
	min16float4 s2_5 = l1(1.0, 0.0);
	min16float4 s2_6 = l1(-1.0, 1.0);
	min16float4 s2_7 = l1(0.0, 1.0);
	min16float4 s2_8 = l1(1.0, 1.0);
	min16float4 s3_0 = max(-s2_0, 0.0);
	min16float4 s3_1 = max(-s2_1, 0.0);
	min16float4 s3_2 = max(-s2_2, 0.0);
	min16float4 s3_3 = max(-s2_3, 0.0);
	min16float4 s3_4 = max(-s2_4, 0.0);
	min16float4 s3_5 = max(-s2_5, 0.0);
	min16float4 s3_6 = max(-s2_6, 0.0);
	min16float4 s3_7 = max(-s2_7, 0.0);
	min16float4 s3_8 = max(-s2_8, 0.0);
	s2_0 = max(s2_0, 0.0);
	s2_1 = max(s2_1, 0.0);
	s2_2 = max(s2_2, 0.0);
	s2_3 = max(s2_3, 0.0);
	s2_4 = max(s2_4, 0.0);
	s2_5 = max(s2_5, 0.0);
	s2_6 = max(s2_6, 0.0);
	s2_7 = max(s2_7, 0.0);
	s2_8 = max(s2_8, 0.0);
	conv1_0[gxy] = f0(pt, pos, s0_0, s0_1, s0_2, s0_3, s0_4, s0_5, s0_6, s0_7, s0_8, s1_0, s1_1, s1_2, s1_3, s1_4, s1_5, s1_6, s1_7, s1_8, s2_0, s2_1, s2_2, s2_3, s2_4, s2_5, s2_6, s2_7, s2_8, s3_0, s3_1, s3_2, s3_3, s3_4, s3_5, s3_6, s3_7, s3_8);
	conv1_1[gxy] = f1(pt, pos, s0_0, s0_1, s0_2, s0_3, s0_4, s0_5, s0_6, s0_7, s0_8, s1_0, s1_1, s1_2, s1_3, s1_4, s1_5, s1_6, s1_7, s1_8, s2_0, s2_1, s2_2, s2_3, s2_4, s2_5, s2_6, s2_7, s2_8, s3_0, s3_1, s3_2, s3_3, s3_4, s3_5, s3_6, s3_7, s3_8);
}
//!PASS 3
//!DESC CuNNy-2x8C-BILINEAR-CHROMA-DS-NVL-conv2
//!BLOCK_SIZE 8
//!NUM_THREADS 64
//!IN conv1_0, conv1_1
//!OUT conv2_0, conv2_1
#define O(t, p) t.SampleLevel(SP, pos + p * pt, 0)
#define l0(x, y) O(conv1_0, float2(x, y))
#define l1(x, y) O(conv1_1, float2(x, y))
float4 f0(float2 pt, float2 pos, min16float4 s0_0, min16float4 s0_1, min16float4 s0_2, min16float4 s0_3, min16float4 s0_4, min16float4 s0_5, min16float4 s0_6, min16float4 s0_7, min16float4 s0_8, min16float4 s1_0, min16float4 s1_1, min16float4 s1_2, min16float4 s1_3, min16float4 s1_4, min16float4 s1_5, min16float4 s1_6, min16float4 s1_7, min16float4 s1_8, min16float4 s2_0, min16float4 s2_1, min16float4 s2_2, min16float4 s2_3, min16float4 s2_4, min16float4 s2_5, min16float4 s2_6, min16float4 s2_7, min16float4 s2_8, min16float4 s3_0, min16float4 s3_1, min16float4 s3_2, min16float4 s3_3, min16float4 s3_4, min16float4 s3_5, min16float4 s3_6, min16float4 s3_7, min16float4 s3_8) {
	min16float4 r = 0.0;
	r += mul(s0_0, min16float4x4(0.1135869399, 0.0544359982, 0.0338108577, 0.0468349420, -0.0375024751, 0.0268930215, -0.0639563799, -0.0547829382, -0.0650576279, -0.1525208205, -0.2805188298, 0.0976758748, -0.0582276918, -0.0355827436, 0.0542123914, -0.0363153070));
	r += mul(s0_1, min16float4x4(-0.2124016583, 0.0513588041, 0.0499572568, 0.1704117954, 0.1138722822, -0.0502947867, 0.0344071500, 0.0291958749, -0.0159079935, 0.0217916369, -0.0769698247, 0.1293252259, 0.2231189758, -0.0495192185, -0.0132354219, -0.1208565831));
	r += mul(s0_2, min16float4x4(-0.0346004330, -0.0328964777, -0.0817188099, 0.2150471509, -0.0651284829, 0.0204144064, 0.0212987512, 0.0467652231, -0.0319112912, 0.0159239005, -0.1213445514, 0.0112657733, 0.0040040598, -0.0256234556, 0.1820987761, -0.0233095977));
	r += mul(s0_3, min16float4x4(-0.1134527847, 0.2315537781, 0.1040711030, 0.2006828189, 0.1126504391, 0.1845353693, -0.0393920541, -0.0045425436, 0.5041312575, -0.5300190449, -0.1868459880, 0.1193051934, 0.0159693900, 0.1138773635, -0.0397002436, -0.0576443709));
	r += mul(s0_4, min16float4x4(-0.1137942225, 0.0396353528, -0.1174335182, -0.4507173896, -0.4920746684, -0.1273625195, -0.0294852871, -0.7315495014, 0.1237778142, -0.6946856380, 0.1561134756, -0.0195047893, -0.0618303902, 0.0694836676, 0.0048834723, 0.3759768009));
	r += mul(s0_5, min16float4x4(-0.0367597751, 0.0904949903, -0.0361938588, -0.1687223762, 0.3759742975, 0.2459327728, -0.1417563856, -0.5134977698, -0.0946594849, 0.0506693572, -0.0862421617, 0.0626016185, -0.0015270784, -0.1162249297, -0.0649055690, 0.0387347452));
	r += mul(s0_6, min16float4x4(-0.1765435487, 0.0225654449, -0.3374749124, -0.3634261489, -0.0091402009, 0.0482501686, 0.1130791306, 0.2774778605, -0.3056617677, -0.1541069597, 0.0629395247, -0.3178120852, 0.0891964287, 0.1460638046, -0.0862404630, -0.0399877727));
	r += mul(s0_7, min16float4x4(-0.0006414187, 0.0419993699, 0.1764565110, 0.2036249191, -0.0490773171, 0.1774207950, 0.4306657016, 0.5005440116, 0.0163621996, -0.3310795426, -1.0037899017, -0.6974784732, -0.0527813099, -0.0831402019, -0.0279673263, -0.1163187250));
	r += mul(s0_8, min16float4x4(0.0791858509, -0.0463233963, 0.0597202182, 0.1607175320, 0.2554685175, 0.3395779133, 0.5213815570, 0.2677963674, 0.0523046032, 0.2151927650, -0.1068984941, -0.1085246056, 0.0203165058, 0.1165916398, -0.0034307127, -0.0925673023));
	r += mul(s1_0, min16float4x4(0.0389408357, 0.0133770229, -0.0214989204, -0.0822927877, -0.0132756466, -0.0066232434, -0.0114901038, 0.0079957843, -0.0338423327, 0.0994783938, 0.0410075076, -0.1262374073, -0.1821834892, -0.0753042996, -0.1565216184, -0.0292137209));
	r += mul(s1_1, min16float4x4(0.1126265824, -0.1275926679, -0.1546740234, -0.1015853882, -0.0123966001, -0.0148351239, -0.0022049197, -0.0238542426, 0.0251192711, -0.1412827969, 0.0551347695, -0.1222360432, -0.2211345583, 0.2768343985, 0.2802720964, 0.1573628038));
	r += mul(s1_2, min16float4x4(-0.1243688017, -0.0329086557, 0.0481842868, 0.0345045626, 0.0090069650, 0.0192433074, -0.0309188683, -0.0192254055, -0.0068713403, 0.0450287238, 0.0485411063, -0.0735307857, -0.0218759403, -0.0979012623, 0.0890381187, 0.1268194169));
	r += mul(s1_3, min16float4x4(-0.0026566125, -0.0274059996, 0.0539830998, 0.0587203503, -0.0247508008, 0.0054188538, -0.1050689071, 0.0202213023, -0.0335867591, 0.0755967572, 0.0337393992, -0.1001118496, -0.2507394254, -0.0080318386, 0.1993242204, 0.1124887466));
	r += mul(s1_4, min16float4x4(0.1870563775, -0.3505847752, 0.1356441528, 0.3160363138, 0.0462229475, -0.0476957560, 0.1644483507, 0.2250991464, -0.0941891298, 0.0880493224, -0.0956747979, 0.0184198990, -0.7092127204, 0.2763666809, 0.1120010689, -0.0671186596));
	r += mul(s1_5, min16float4x4(-0.2367105335, 0.1318590641, -0.0118195340, -0.1503962129, -0.0291978680, 0.0438261367, -0.0256968867, 0.1163923740, -0.0440349877, 0.2724151909, -0.0609643869, -0.0186631829, -0.2072301507, -0.1539038867, -0.3575879037, -0.1188568026));
	r += mul(s1_6, min16float4x4(0.0678999722, 0.0900302976, 0.0141229816, 0.0186976660, -0.0136680892, -0.0314269364, -0.0319170393, -0.1167316511, 0.0566364601, -0.0512073822, 0.0791424289, 0.1576829851, -0.1656467766, 0.1132763624, -0.0720523894, -0.0993632004));
	r += mul(s1_7, min16float4x4(-0.0715722069, -0.1949138045, -0.0171855073, -0.1235113591, -0.2262231410, 0.2346101701, -0.1385612190, -0.3591805398, 0.1528200358, 0.0536702685, 0.0089792898, 0.1213289127, -0.4205675721, -0.1317307800, -0.2844334245, -0.2945738435));
	r += mul(s1_8, min16float4x4(0.0277262405, 0.1226662770, 0.1112086177, 0.1258506626, -0.1252988577, -0.0827556476, -0.1308406740, -0.1776121557, 0.0110229030, -0.1763931811, 0.1323205382, 0.0777163357, -0.1703684777, 0.0564708672, 0.0656860918, -0.0564685017));
	r += mul(s2_0, min16float4x4(-0.0427119844, 0.0437262133, 0.2250968069, 0.1479133517, -0.0210570674, 0.0137549965, 0.0614637621, -0.0627972782, 0.0249372292, -0.0457646772, 0.0039373762, 0.0457928441, -0.0991984978, -0.0331765004, -0.0934020206, -0.0567678362));
	r += mul(s2_1, min16float4x4(-0.0422617272, 0.0146773169, -0.4225287437, -0.1041506976, 0.0247023292, 0.0281951223, 0.0845779479, -0.0966743454, -0.1198865771, 0.2047986686, -0.0348664634, -0.0209693071, 0.0840247273, 0.1040648073, -0.2607418895, -0.0876792818));
	r += mul(s2_2, min16float4x4(-0.0423553251, -0.0552397370, -0.0200579111, -0.0349057317, 0.0178986527, 0.0028894013, 0.0460469536, 0.0036068619, -0.0072465451, -0.0636936054, -0.0552026182, 0.0261274017, 0.0290972497, 0.0169888977, -0.0304217860, -0.0129042407));
	r += mul(s2_3, min16float4x4(-0.2246263921, 0.5683594346, -0.0793787017, -0.0285107307, 0.1988550872, -0.1144656539, -0.1130025685, 0.0698692650, 0.0575890020, -0.1398850381, 0.0536089055, 0.0592121631, 0.2275450081, -0.3911032677, 0.1598631144, -0.0292447712));
	r += mul(s2_4, min16float4x4(0.0024091147, -0.1340905130, 0.2672745287, -0.0461954474, -0.2269892991, 0.0707991496, -0.5175780654, 0.0293871332, -0.3135131598, -0.0494140312, -0.1884652972, 0.1044094488, 0.4048779905, -0.1617189050, 0.2743672729, -0.0916250721));
	r += mul(s2_5, min16float4x4(-0.0284220707, -0.1164430454, 0.1419917643, 0.0664947256, 0.0525149070, 0.0287710596, 0.0724573135, -0.0262728631, 0.1197043732, -0.1493216306, 0.0904207602, 0.1841455102, 0.0543792211, 0.0177007467, 0.0170172621, 0.1052450612));
	r += mul(s2_6, min16float4x4(-0.1323737800, -0.1668956876, -0.1268662661, -0.2548825443, -0.0819472298, -0.2302677780, -0.0088130999, 0.0363250859, 0.0087162443, -0.1091017798, -0.0231989156, 0.1053248122, 0.1616241783, 0.1665645391, 0.0621168353, 0.1716699451));
	r += mul(s2_7, min16float4x4(-0.0479512103, 0.1178484187, 0.1913587302, 0.3176835477, 0.0226001479, 0.4304417074, 0.0674406365, 0.1052378640, -0.1546991915, -0.0468739755, -0.5660485029, -0.5957490206, -0.1743193418, -0.1102338061, -0.0733737573, -0.2075279504));
	r += mul(s2_8, min16float4x4(-0.1087633297, -0.0333600678, 0.0855747983, 0.1659296900, -0.0632854626, -0.1169524565, -0.0521165989, -0.0052027497, 0.0408006907, 0.0084990980, -0.1908930242, -0.1055409089, 0.0025120759, 0.0294115953, -0.0467345826, -0.0287633352));
	r += mul(s3_0, min16float4x4(0.1353388131, 0.0627073422, -0.1352552027, -0.0615598485, -0.0212795250, -0.0565256253, -0.0490012169, 0.0890078098, -0.0685632676, 0.0808712170, 0.0423589125, -0.0309835225, 0.1247542650, 0.0591179729, 0.1046994999, 0.1651367247));
	r += mul(s3_1, min16float4x4(-0.1629948467, 0.0577647388, 0.0698070824, 0.0499439649, -0.1096456125, -0.0567134768, -0.0035438649, 0.1759933233, 0.1049707010, 0.0189970974, -0.0531194396, -0.0857790634, 0.0162231866, -0.1045416221, 0.4026229382, 0.2234178931));
	r += mul(s3_2, min16float4x4(-0.0203485042, -0.0666330606, -0.0006579733, 0.0252340399, -0.0753691643, 0.0179009773, 0.0999155492, 0.2396829575, 0.0215123184, 0.0174233429, 0.0474918112, -0.0738350600, 0.0422715209, -0.0610404834, -0.1632756591, -0.0368421450));
	r += mul(s3_3, min16float4x4(0.2861327529, 0.0393975079, 0.0072055142, 0.0131341629, 0.0670941025, 0.1202966720, -0.2332984358, -0.2083140165, -0.0660689324, 0.2863267064, -0.0788844675, -0.0724818781, -0.2548826635, 0.1479816586, 0.0230504218, 0.1051710695));
	r += mul(s3_4, min16float4x4(-0.4423836470, 0.1434590071, -0.1336500943, -0.0117666414, -0.2397549897, 0.1100601703, 0.1634730399, -0.3901076317, -0.0321881548, -0.1413802803, 0.1348094344, -0.0885288417, -0.3539557159, 0.6071199179, -0.4248008132, -0.2036561668));
	r += mul(s3_5, min16float4x4(0.0320133977, 0.0098698419, -0.0761290044, -0.0588724725, -0.2230298519, 0.1447243690, -0.0486403815, -0.0191034190, -0.1538102031, -0.0116570070, -0.0160154160, -0.0905118063, 0.2548554242, -0.1769587994, -0.0961842015, -0.4078907073));
	r += mul(s3_6, min16float4x4(-0.2043209225, -0.0249727834, 0.3546299338, 0.2096314430, -0.1313591301, 0.3107381761, -0.1567371339, -0.2863756120, 0.0306051597, 0.0734671131, -0.0432392471, -0.1826099008, -0.0318135209, -0.0987491831, -0.0669096336, -0.2178280354));
	r += mul(s3_7, min16float4x4(0.2374145389, 0.2066574395, 0.2331100404, 0.5292946100, 0.2153850943, -0.2340098023, -0.0591277257, 0.0150569342, -0.0470126979, 0.2263211757, -0.1780705005, -0.2767457366, -0.1254871786, 0.4281661510, -0.2315163165, -0.5835078955));
	r += mul(s3_8, min16float4x4(0.0077178073, 0.0697260126, 0.0349450074, -0.0445241742, 0.1431026161, 0.2244494408, -0.1626960039, -0.2361495495, 0.0875722170, -0.0316237211, 0.0850559548, 0.0211580992, -0.1228377670, -0.2972974479, 0.0738142654, 0.0202557091));
	r += min16float4(-0.0012709357542917132, 0.0035446996334940195, -0.004555316176265478, -0.00596386194229126);
	return r;
}
float4 f1(float2 pt, float2 pos, min16float4 s0_0, min16float4 s0_1, min16float4 s0_2, min16float4 s0_3, min16float4 s0_4, min16float4 s0_5, min16float4 s0_6, min16float4 s0_7, min16float4 s0_8, min16float4 s1_0, min16float4 s1_1, min16float4 s1_2, min16float4 s1_3, min16float4 s1_4, min16float4 s1_5, min16float4 s1_6, min16float4 s1_7, min16float4 s1_8, min16float4 s2_0, min16float4 s2_1, min16float4 s2_2, min16float4 s2_3, min16float4 s2_4, min16float4 s2_5, min16float4 s2_6, min16float4 s2_7, min16float4 s2_8, min16float4 s3_0, min16float4 s3_1, min16float4 s3_2, min16float4 s3_3, min16float4 s3_4, min16float4 s3_5, min16float4 s3_6, min16float4 s3_7, min16float4 s3_8) {
	min16float4 r = 0.0;
	r += mul(s0_0, min16float4x4(0.0961697623, 0.0826958194, 0.0948153809, -0.1274393797, -0.2020856738, -0.0398398638, -0.0029990128, 0.0558926538, 0.0674577951, 0.2478776574, -0.1264912486, 0.1367830038, -0.0557961836, -0.0881342441, -0.0226937309, 0.0537376031));
	r += mul(s0_1, min16float4x4(-0.0103094671, -0.1987574697, 0.0862770751, 0.3901453912, 0.3876392245, 0.0122761186, -0.0106895724, -0.0762058720, 0.4411247969, -0.1103394926, 0.1480823159, -0.1324034482, 0.0784400031, 0.0524145737, -0.0755164325, -0.2904643118));
	r += mul(s0_2, min16float4x4(-0.1038383543, 0.0051016416, -0.1324618310, -0.0566886999, -0.0186933465, -0.0590576530, 0.0273526739, 0.0511425734, -0.0463705622, 0.0886677876, -0.1381752044, 0.0645713583, 0.0876314119, -0.0785917044, 0.1027837694, 0.0871548578));
	r += mul(s0_3, min16float4x4(0.2469590753, 0.2351418734, 0.2278942168, 0.0063341972, -0.1759136021, 0.0428105928, 0.0501352996, -0.0872287080, 0.5020022988, 0.1974260062, 0.1794876307, -0.5215284824, -0.0724699944, -0.0607408397, -0.0256043579, -0.0267475303));
	r += mul(s0_4, min16float4x4(0.4009137750, -0.3873001933, 0.3197464645, 0.0905303508, -0.7291248441, -1.2153297663, -0.1841951907, 0.4095276594, 0.3231972754, -0.2068232298, -0.4766978323, 0.6150671840, -0.1348396987, 0.0213924423, 0.0942180380, 0.0520431548));
	r += mul(s0_5, min16float4x4(-0.0261504985, 0.0491282456, 0.1068454310, -0.1793884784, -0.1059489846, -0.0501289777, 0.1071873233, -0.5516082644, 0.0783868358, 0.1991788894, 0.2974129319, -0.4039610922, 0.1021942049, -0.0350831449, 0.0747619644, 0.1007992104));
	r += mul(s0_6, min16float4x4(-0.1456328034, 0.0227114763, 0.1544849873, -0.0143344868, 0.2578893006, 0.0989265740, 0.0730416551, -0.0515565500, -0.3213613331, 0.1018295959, 0.0537917130, -0.0452049747, 0.1368892789, 0.0387791619, -0.0229456220, -0.0020722500));
	r += mul(s0_7, min16float4x4(-0.3545753956, 0.0426460393, -0.1236235723, 0.0895964727, -0.3651784062, -0.1135389358, 0.1255750358, -0.0629502684, 0.0370371528, 0.0537753701, -0.0849511027, 0.2260614932, 0.1134075075, -0.1067027971, 0.0138666444, -0.0627774671));
	r += mul(s0_8, min16float4x4(-0.1208509803, 0.0294511542, -0.1645288467, -0.0160618611, -0.0706174746, -0.2120159715, -0.4657865167, 0.1509734243, 0.0062357462, 0.0827643946, -0.0311784316, 0.1693221629, 0.0824552104, 0.0249140095, 0.0538296029, -0.0522168800));
	r += mul(s1_0, min16float4x4(-0.1567404419, 0.0214773230, -0.0348013751, 0.0599442981, 0.0258477386, 0.0413478240, -0.0151955038, 0.0313086286, -0.1293883324, -0.0466829613, 0.0142898764, -0.0316466540, 0.4291933775, 0.0185017213, 0.0684674531, 0.3158993721));
	r += mul(s1_1, min16float4x4(0.0542787500, 0.1403129846, -0.2176168859, -0.0038002718, -0.0227112379, -0.0483939759, 0.0187825356, -0.0115444576, 0.0521874167, -0.1238407344, 0.0078058145, -0.0525770560, 0.2004661560, -0.0687884167, 0.2841721773, 0.2225310057));
	r += mul(s1_2, min16float4x4(-0.0468221642, -0.0081837736, 0.1289216131, 0.1489602178, -0.0258034915, 0.0077236537, -0.0140866097, -0.0180571582, 0.0180246364, 0.0076818573, 0.1081588715, 0.0537178926, 0.0285918154, 0.0177808087, -0.0152424779, 0.0435892381));
	r += mul(s1_3, min16float4x4(-0.0241986141, 0.0894664675, -0.0624824502, -0.0466944091, 0.1217803210, -0.0017630991, 0.0871626213, -0.0434103794, -0.2486643046, -0.0754636973, -0.1238065958, 0.2270484269, -0.0993068367, 0.1849737018, 0.1667773724, -0.0063400390));
	r += mul(s1_4, min16float4x4(0.1077725887, 0.0576981194, -0.3779346645, -0.0061481129, -0.0861234367, 0.0143609447, -0.2100781351, 0.0639047250, -0.0589373223, -0.1105668396, 0.0202055238, 0.2092234641, -0.6098313928, -0.2484522164, 0.5346208215, 0.5995951891));
	r += mul(s1_5, min16float4x4(0.0603283718, 0.0047564753, 0.5448097587, 0.0886238217, 0.0766372755, 0.0279681366, 0.0515866093, 0.0124746533, 0.0399853960, 0.1483306885, 0.0771134570, -0.0088330349, 0.0595075823, -0.0604101047, -0.1018647775, 0.1606417447));
	r += mul(s1_6, min16float4x4(0.0218911450, 0.0061118379, -0.0930235386, 0.0632397905, -0.0782864019, -0.0458147712, -0.0314314812, 0.0440943204, 0.1101093143, -0.0487566851, -0.0152115794, -0.0621225908, -0.1295811385, 0.1407807767, 0.1165138707, 0.0100987395));
	r += mul(s1_7, min16float4x4(-0.1280759722, -0.1715413481, -0.0092616519, 0.1254637837, 0.1529877484, 0.1713512391, 0.1947481334, 0.1370377541, 0.0460227244, 0.0608913824, -0.0149664972, -0.1707020551, 0.3603515029, -0.1293858439, 0.2553498447, 0.1622662246));
	r += mul(s1_8, min16float4x4(-0.0573791489, 0.0450442359, -0.0041997773, 0.0254587959, 0.0447086431, -0.1693399847, 0.0697322190, 0.2573258877, -0.0256466549, -0.0261732601, -0.0140237194, -0.1373155266, 0.0005176419, 0.1229327917, 0.2138807774, -0.1900231391));
	r += mul(s2_0, min16float4x4(-0.4924951792, -0.0925600603, -0.0059433295, 0.0413808674, -0.0237261299, 0.0254339464, -0.0030509697, -0.0477197543, -0.0138581414, 0.0103843929, -0.0535525866, 0.0037455459, 0.0667773783, -0.0971328765, -0.0450759009, 0.1319590658));
	r += mul(s2_1, min16float4x4(-0.2131753266, 0.1084442660, -0.0239906460, -0.0839486122, -0.0921723172, 0.0724911615, 0.0509141386, 0.0780538693, 0.0014732388, 0.1265823096, 0.1266602427, 0.1821072698, -0.0075458516, 0.0666490644, -0.1550048590, -0.2368955165));
	r += mul(s2_2, min16float4x4(-0.0978918150, -0.0972869545, -0.0365321375, 0.0772950798, 0.0116257966, -0.0287961140, 0.1028162614, -0.0216846596, -0.0387474783, -0.0474292114, 0.0199978221, -0.0216913242, -0.0178664103, -0.0022597585, -0.0719668269, -0.0856680050));
	r += mul(s2_3, min16float4x4(0.3488636911, -0.0404041000, 0.2309390008, 0.1510567069, 0.2025970966, 0.1498077214, -0.0177093968, -0.1061987877, 0.1028910428, 0.1464402825, -0.0384069122, -0.0271670781, -0.1901215911, -0.1948303282, -0.3722978532, -0.1333074868));
	r += mul(s2_4, min16float4x4(0.1381230950, -0.0587814339, 0.4562065899, -0.2881733179, 0.2095843554, -0.1437737346, 0.3654213548, -0.2529313862, 0.0506721623, -0.1112382859, 0.4560762048, 0.0049421848, -0.1042035669, 0.3038099706, -0.3944760859, -0.3002666235));
	r += mul(s2_5, min16float4x4(0.0999744609, -0.0096485512, 0.1249953359, -0.0191565380, 0.0619831793, -0.0512216724, -0.0925295874, 0.1625150889, -0.0219867881, -0.0916947797, -0.1522513628, -0.0786814913, -0.0432584956, 0.0667102188, -0.0342398509, -0.1716382056));
	r += mul(s2_6, min16float4x4(-0.0709736720, -0.0979037285, 0.0354289785, 0.0557076484, -0.0396796279, -0.0356555209, 0.1057132035, -0.0858987421, 0.3168032765, 0.0651852489, 0.1247298867, -0.1353815049, 0.0848006681, 0.0340469144, -0.0563028045, 0.0081671299));
	r += mul(s2_7, min16float4x4(-0.1174352393, 0.1754751652, -0.0252052527, 0.0129980026, -0.0506760255, 0.1067011878, -0.0586187392, 0.0935227945, 0.2704454660, 0.0672855228, 0.3310320377, -0.2760739326, 0.0804375187, -0.1242610440, 0.1194029525, 0.0005640005));
	r += mul(s2_8, min16float4x4(-0.0059086736, -0.0431723446, 0.1390902102, 0.0057869786, -0.0667709634, -0.0552878231, 0.0095879268, -0.0550129600, -0.0062901652, 0.0509624146, -0.0172730777, -0.0860618725, 0.0244363379, 0.0156820435, -0.0199585930, 0.0135094337));
	r += mul(s3_0, min16float4x4(-0.0512016602, 0.0085065272, -0.0674153715, -0.1509262025, 0.0235809181, 0.0409242474, -0.0144056585, 0.0245545283, -0.0121813500, -0.0042184764, 0.0681148097, 0.0277734231, 0.1665109545, 0.0549753793, 0.0774782822, -0.1550151706));
	r += mul(s3_1, min16float4x4(0.0335602239, -0.0288666170, 0.0256349016, 0.2778465450, 0.0788412392, -0.1015390977, -0.0189266838, 0.1391499639, -0.0117148049, 0.0030225464, -0.0472451188, -0.1791662574, -0.1386366934, -0.3334369063, 0.1791789979, -0.1634630412));
	r += mul(s3_2, min16float4x4(0.0446189679, -0.0104462784, 0.0186339673, 0.0008783839, 0.0141323321, 0.2392754704, -0.0404321514, -0.0386007875, 0.0175603889, 0.0214663334, -0.0352784097, 0.0451322868, 0.0733619556, 0.0536847562, -0.0742621869, 0.0644165799));
	r += mul(s3_3, min16float4x4(0.2869597375, 0.2397571802, -0.1324519813, 0.0196197983, 0.4072359800, -0.1413665116, 0.1988349557, -0.0810811371, -0.0489729680, -0.0776923075, 0.1006996930, 0.0366749838, 0.1617596149, -0.1722472012, 0.1798945963, 0.1842830926));
	r += mul(s3_4, min16float4x4(-0.0306967124, -0.2203507274, 0.4746061862, 0.1662653983, 0.0573704205, -0.3933462203, -0.2453283519, 0.6708492637, -0.0597695149, -0.0632324517, -0.3404877782, 0.6465777159, 0.9118337035, -2.3282508850, 0.8922535777, 0.2757079005));
	r += mul(s3_5, min16float4x4(-0.0434854776, 0.0014494178, -0.1481016576, -0.0091441460, -0.0466975942, 0.0432304963, 0.2549915016, -0.2201598287, -0.0006428830, -0.1086413264, 0.1870115995, 0.1257466525, -0.0370370559, 0.2064408213, -0.4617218375, 0.4517498910));
	r += mul(s3_6, min16float4x4(-0.2471603751, -0.0031263398, -0.1405425519, 0.1612572074, 0.0433162041, 0.0351885892, 0.0332994573, 0.0932550877, 0.0190265328, 0.0798096955, -0.0879550800, 0.0031040385, -0.1524683237, -0.0642932504, -0.0086683417, -0.0271693058));
	r += mul(s3_7, min16float4x4(-0.1299673170, -0.1902258992, -0.1200019941, 0.1825072020, -0.1465325356, -0.1828667969, -0.1586300582, 0.0269193668, 0.0778654441, 0.0253176689, 0.1252450645, 0.0417181887, 0.1133055016, 0.1305366755, -0.0243883282, -0.0253375452));
	r += mul(s3_8, min16float4x4(-0.1127422079, 0.0391557477, -0.0408710800, -0.0729549602, 0.0267646816, 0.1072717607, -0.1615034491, 0.0545556620, 0.0636803731, -0.0601852834, -0.0741303340, 0.1303713024, 0.0183904078, 0.0092753107, 0.1289753169, -0.0813747793));
	r += min16float4(0.005730106495320797, -0.0030901548452675343, 0.002303339773789048, 0.002822990994900465);
	return r;
}
void Pass3(uint2 blockStart, uint3 tid) {
	float2 pt = float2(GetInputPt());
	uint2 gxy = Rmp8x8(tid.x) + blockStart;
	uint2 size = GetInputSize();
	if (gxy.x >= size.x || gxy.y >= size.y) {
		return;
	}
	float2 pos = (gxy + 0.5) * pt;
	min16float4 s0_0 = l0(-1.0, -1.0);
	min16float4 s0_1 = l0(0.0, -1.0);
	min16float4 s0_2 = l0(1.0, -1.0);
	min16float4 s0_3 = l0(-1.0, 0.0);
	min16float4 s0_4 = l0(0.0, 0.0);
	min16float4 s0_5 = l0(1.0, 0.0);
	min16float4 s0_6 = l0(-1.0, 1.0);
	min16float4 s0_7 = l0(0.0, 1.0);
	min16float4 s0_8 = l0(1.0, 1.0);
	min16float4 s1_0 = max(-s0_0, 0.0);
	min16float4 s1_1 = max(-s0_1, 0.0);
	min16float4 s1_2 = max(-s0_2, 0.0);
	min16float4 s1_3 = max(-s0_3, 0.0);
	min16float4 s1_4 = max(-s0_4, 0.0);
	min16float4 s1_5 = max(-s0_5, 0.0);
	min16float4 s1_6 = max(-s0_6, 0.0);
	min16float4 s1_7 = max(-s0_7, 0.0);
	min16float4 s1_8 = max(-s0_8, 0.0);
	s0_0 = max(s0_0, 0.0);
	s0_1 = max(s0_1, 0.0);
	s0_2 = max(s0_2, 0.0);
	s0_3 = max(s0_3, 0.0);
	s0_4 = max(s0_4, 0.0);
	s0_5 = max(s0_5, 0.0);
	s0_6 = max(s0_6, 0.0);
	s0_7 = max(s0_7, 0.0);
	s0_8 = max(s0_8, 0.0);
	min16float4 s2_0 = l1(-1.0, -1.0);
	min16float4 s2_1 = l1(0.0, -1.0);
	min16float4 s2_2 = l1(1.0, -1.0);
	min16float4 s2_3 = l1(-1.0, 0.0);
	min16float4 s2_4 = l1(0.0, 0.0);
	min16float4 s2_5 = l1(1.0, 0.0);
	min16float4 s2_6 = l1(-1.0, 1.0);
	min16float4 s2_7 = l1(0.0, 1.0);
	min16float4 s2_8 = l1(1.0, 1.0);
	min16float4 s3_0 = max(-s2_0, 0.0);
	min16float4 s3_1 = max(-s2_1, 0.0);
	min16float4 s3_2 = max(-s2_2, 0.0);
	min16float4 s3_3 = max(-s2_3, 0.0);
	min16float4 s3_4 = max(-s2_4, 0.0);
	min16float4 s3_5 = max(-s2_5, 0.0);
	min16float4 s3_6 = max(-s2_6, 0.0);
	min16float4 s3_7 = max(-s2_7, 0.0);
	min16float4 s3_8 = max(-s2_8, 0.0);
	s2_0 = max(s2_0, 0.0);
	s2_1 = max(s2_1, 0.0);
	s2_2 = max(s2_2, 0.0);
	s2_3 = max(s2_3, 0.0);
	s2_4 = max(s2_4, 0.0);
	s2_5 = max(s2_5, 0.0);
	s2_6 = max(s2_6, 0.0);
	s2_7 = max(s2_7, 0.0);
	s2_8 = max(s2_8, 0.0);
	conv2_0[gxy] = f0(pt, pos, s0_0, s0_1, s0_2, s0_3, s0_4, s0_5, s0_6, s0_7, s0_8, s1_0, s1_1, s1_2, s1_3, s1_4, s1_5, s1_6, s1_7, s1_8, s2_0, s2_1, s2_2, s2_3, s2_4, s2_5, s2_6, s2_7, s2_8, s3_0, s3_1, s3_2, s3_3, s3_4, s3_5, s3_6, s3_7, s3_8);
	conv2_1[gxy] = f1(pt, pos, s0_0, s0_1, s0_2, s0_3, s0_4, s0_5, s0_6, s0_7, s0_8, s1_0, s1_1, s1_2, s1_3, s1_4, s1_5, s1_6, s1_7, s1_8, s2_0, s2_1, s2_2, s2_3, s2_4, s2_5, s2_6, s2_7, s2_8, s3_0, s3_1, s3_2, s3_3, s3_4, s3_5, s3_6, s3_7, s3_8);
}
//!PASS 4
//!DESC CuNNy-2x8C-BILINEAR-CHROMA-DS-NVL-out
//!BLOCK_SIZE 8
//!NUM_THREADS 64
//!IN conv2_0, conv2_1
//!OUT out_0
#define O(t, p) t.SampleLevel(SP, pos + p * pt, 0)
#define l0(x, y) O(conv2_0, float2(x, y))
#define l1(x, y) O(conv2_1, float2(x, y))
float4 f0(float2 pt, float2 pos, min16float4 s0_0, min16float4 s0_1, min16float4 s0_2, min16float4 s0_3, min16float4 s0_4, min16float4 s0_5, min16float4 s0_6, min16float4 s0_7, min16float4 s0_8, min16float4 s1_0, min16float4 s1_1, min16float4 s1_2, min16float4 s1_3, min16float4 s1_4, min16float4 s1_5, min16float4 s1_6, min16float4 s1_7, min16float4 s1_8, min16float4 s2_0, min16float4 s2_1, min16float4 s2_2, min16float4 s2_3, min16float4 s2_4, min16float4 s2_5, min16float4 s2_6, min16float4 s2_7, min16float4 s2_8, min16float4 s3_0, min16float4 s3_1, min16float4 s3_2, min16float4 s3_3, min16float4 s3_4, min16float4 s3_5, min16float4 s3_6, min16float4 s3_7, min16float4 s3_8) {
	min16float4 r = 0.0;
	r += mul(s0_0, min16float4x4(0.0109100696, 0.0257024691, -0.0226400774, 0.0056835897, 0.0172509514, -0.0054663378, 0.0024778692, 0.0007923692, -0.0123147275, -0.0120396158, -0.0023079161, 0.0080600111, 0.0487049334, 0.0069604125, -0.0181199871, -0.0106153823));
	r += mul(s0_1, min16float4x4(-0.0573650524, 0.2308610678, 0.0042132875, -0.0833233967, 0.0004922011, 0.0592434593, 0.0281834230, 0.0276549924, 0.1869765669, 0.0175759550, -0.0358905345, -0.0422287770, 0.5720061064, 0.3976790309, -0.5488397479, -0.1689532250));
	r += mul(s0_2, min16float4x4(0.0219742805, -0.3696835041, 0.1420895010, -0.0061145131, -0.0040232786, -0.0418104306, -0.0007978873, -0.0232989974, -0.0060710362, 0.1685261875, -0.0321807414, -0.0646969602, -0.0234898981, 0.2163204253, -0.0312766694, -0.2705053687));
	r += mul(s0_3, min16float4x4(0.0655010864, 0.0049826908, 0.1674799174, 0.0418538898, -0.0181504618, -0.0215470176, -0.0133313509, -0.0239756592, 0.0310621019, 0.0314601436, 0.0066549685, -0.0179001838, -0.0611242689, -0.0487283804, 0.0096148327, 0.0007379926));
	r += mul(s0_4, min16float4x4(0.0856300145, -0.0573358424, -0.5374667645, 0.0333220884, 0.0466830321, -0.0093042227, -0.0343962349, 0.0223124959, 0.1145052537, 0.0489902496, -0.5309572220, -0.2442736626, -0.0106796250, 0.0276326369, 0.3702894747, 0.1674788892));
	r += mul(s0_5, min16float4x4(-0.0461788997, 0.1172369942, -0.0162023008, 0.0940120965, -0.0121582355, 0.0313188955, -0.0141046122, -0.0142775867, -0.0475036837, 0.0202123187, 0.1242097914, -0.1136872396, -0.0321136899, -0.0641989559, -0.0430221334, 0.1538199335));
	r += mul(s0_6, min16float4x4(-0.0057751583, 0.0122770937, 0.1052288413, 0.0165976621, -0.0073058857, 0.0039523295, -0.0112501355, 0.0000312528, -0.0004541786, 0.0021875340, 0.0118228784, 0.0181242917, -0.0008662415, 0.0012655922, -0.0138209090, -0.0103609087));
	r += mul(s0_7, min16float4x4(-0.0237069968, -0.0430850349, 0.0654028505, 0.0281486232, 0.0031808494, 0.0087776734, 0.0340276398, -0.0037372948, -0.0242179204, -0.0467373058, 0.0200812556, -0.0216593277, 0.0090861032, 0.0175429694, 0.0042981328, 0.0081298985));
	r += mul(s0_8, min16float4x4(0.0144273276, 0.0151618915, 0.0022845131, -0.0140839638, 0.0055254712, -0.0032290681, -0.0065326937, 0.0096221156, -0.0067743226, 0.0218525752, -0.0350002162, 0.0083561707, 0.0038417093, -0.0012663967, -0.0113451639, -0.0104608471));
	r += mul(s1_0, min16float4x4(-0.0187301915, -0.0377819352, -0.0042655892, -0.0154277422, 0.0381998196, -0.0181307141, -0.0001772245, -0.0111654596, 0.0025743011, -0.0037592407, 0.0077993558, -0.0032887876, 0.0108099515, 0.0176178031, -0.0126792379, 0.0088628232));
	r += mul(s1_1, min16float4x4(-0.0015355060, -0.0191284958, 0.0959470496, 0.0099727931, -0.3312022686, 0.1796324700, -0.0277124383, -0.0393361747, -0.0157121494, 0.0158137120, -0.0710447207, -0.0010216527, -0.0524184592, -0.0833560154, 0.0535655469, -0.0449306592));
	r += mul(s1_2, min16float4x4(0.0418687314, 0.1097003371, -0.0317376181, 0.0411403365, -0.0615128204, 0.1733184606, -0.0127769234, 0.0474989228, -0.0158868358, -0.0435820594, 0.0191737898, -0.0085225897, 0.0177480485, 0.0438227914, -0.0160348583, 0.0281969234));
	r += mul(s1_3, min16float4x4(-0.0613893233, -0.0521601662, -0.0837689266, -0.0632114634, 0.0250833482, 0.0085118692, 0.0600380376, -0.0021582406, -0.0138659598, -0.0167252962, -0.0131998332, -0.0004985657, 0.0099866912, 0.0175350048, 0.0174476076, 0.0173965171));
	r += mul(s1_4, min16float4x4(0.1451226771, 0.0939941257, -0.0469375104, 0.1167269871, -0.1342485547, 0.2529296875, -0.5224815607, 0.3833639920, 0.0969939530, 0.1445945650, 0.1383140832, 0.1391894370, -0.1200245917, -0.1411132365, -0.1839929372, -0.1499012411));
	r += mul(s1_5, min16float4x4(-0.0096724313, -0.0282732248, 0.0725097135, -0.0441271439, 0.0213078670, -0.0876389071, -0.0174707584, 0.1360635906, 0.0181276761, 0.0256100390, -0.0320962593, -0.0095318295, -0.0033921460, -0.0071942238, 0.0479363874, 0.0028682242));
	r += mul(s1_6, min16float4x4(-0.0251983609, -0.0111623779, -0.0291321594, -0.0285045654, 0.0086348476, 0.0059351400, 0.0072977468, 0.0076248995, -0.0140906787, -0.0043074759, 0.0063508917, -0.0131535614, 0.0081462422, 0.0045860535, -0.0017950020, 0.0099331439));
	r += mul(s1_7, min16float4x4(-0.0000286603, 0.0127259176, 0.0090946825, -0.0283533260, -0.0270222668, -0.0240718871, 0.0149207283, 0.0246462300, 0.0073769223, 0.0158108212, 0.0205827467, 0.0176593177, -0.0056696227, -0.0135986293, -0.0071083456, -0.0087601896));
	r += mul(s1_8, min16float4x4(-0.0078487154, -0.0081739901, -0.0195671637, -0.0025669741, 0.0041368995, 0.0141448984, 0.0115444465, -0.0601632446, 0.0025639813, -0.0013917168, 0.0193527248, 0.0094013261, 0.0069873314, 0.0031450992, -0.0007845169, 0.0009953623));
	r += mul(s2_0, min16float4x4(0.0095320027, -0.0008561711, 0.0063030301, 0.0010114526, -0.0577149652, -0.0035382824, -0.0103577254, -0.0004724059, -0.0565128885, 0.0030898307, -0.0206523966, -0.0084594581, 0.0151669476, 0.0191022772, 0.0169679765, 0.0054472308));
	r += mul(s2_1, min16float4x4(-0.0104171624, 0.0081449626, 0.0115554305, -0.0018805926, 0.1352998763, -0.0418144651, 0.0034062914, -0.0428868681, 0.0117042791, -0.0546184853, -0.0783316419, -0.0016126251, 0.0413807407, 0.0416251607, -0.0367193855, 0.0124410689));
	r += mul(s2_2, min16float4x4(-0.0054445863, -0.0125858476, -0.0204989873, -0.0093628978, -0.0360214189, 0.0632200241, 0.0038183392, 0.0151708350, -0.0354915932, -0.0145216836, 0.0263054688, 0.0026779859, -0.0158724748, -0.0473269299, 0.0176978651, -0.0367432088));
	r += mul(s2_3, min16float4x4(-0.0102898274, -0.0053877998, -0.0024790717, -0.0143781276, 0.1567558646, -0.0528982207, 0.0259662308, -0.0311074518, 0.0547387749, 0.0553102270, 0.0345796309, 0.0532874167, 0.0822757483, 0.0531086288, 0.0691024587, 0.0636997595));
	r += mul(s2_4, min16float4x4(0.0485148020, 0.0013019496, -0.0369899236, 0.0340243168, 0.5598444343, -0.7991670966, 0.5332072377, -0.3564453125, -0.1493371874, -0.0441779979, 0.0656603426, -0.1452728659, -0.1128432527, 0.0006794139, 0.0229899846, -0.0444031358));
	r += mul(s2_5, min16float4x4(-0.0063447789, 0.0035314444, 0.0343226120, 0.0139899943, -0.0323208123, -0.0565118603, -0.0448241122, -0.0278189015, 0.0095694168, -0.0034366481, -0.0715326443, 0.0616447851, 0.0133749442, -0.1045866907, -0.0272579826, -0.0237426106));
	r += mul(s2_6, min16float4x4(0.0011137505, 0.0006235838, -0.0011885004, -0.0014710029, -0.0122265713, 0.0174206123, 0.0464728177, -0.0315348022, 0.0283757746, 0.0106515111, 0.0568617657, 0.0454801396, 0.0261915140, 0.0059022945, 0.0473379493, 0.0049563483));
	r += mul(s2_7, min16float4x4(-0.0025822674, -0.0090944972, -0.0016031043, -0.0458078906, -0.0330169015, 0.0867967904, 0.0589848571, -0.2449865788, -0.0015959690, -0.0098128356, -0.0148424273, 0.0603609830, 0.0012165512, -0.0081473421, -0.0847165808, 0.0066863699));
	r += mul(s2_8, min16float4x4(-0.0214252137, -0.0058007124, -0.0513912924, -0.0121090123, -0.0097380644, 0.0061027040, -0.0402016789, 0.0192150176, 0.0109504405, 0.0168846734, 0.0333347358, 0.0029422308, 0.0032688342, 0.0071921102, 0.0015989243, -0.0462857336));
	r += mul(s3_0, min16float4x4(-0.0095768506, 0.0051734075, -0.0085847573, -0.0046528964, 0.0004366292, -0.0037460180, 0.0033287052, 0.0015270272, 0.0331832580, -0.0227743592, 0.0084380787, -0.0016212958, -0.0036289354, -0.0036291776, 0.0048550777, 0.0137022808));
	r += mul(s3_1, min16float4x4(0.0402167104, 0.0056324759, -0.0381897278, -0.0001808290, -0.0156827811, 0.0338145532, -0.0108798184, 0.0039846771, 0.0846863836, 0.1159667149, 0.0411350504, -0.0208125804, -0.1139913127, -0.2402246594, 0.0329463966, 0.0663952604));
	r += mul(s3_2, min16float4x4(0.0137540270, 0.0394985117, -0.0011629639, -0.0130696148, 0.0107281292, -0.0506592244, -0.0108402455, -0.0056787101, 0.0620948970, 0.0836374313, -0.0285802186, -0.0340667814, -0.0262392703, 0.1133313030, -0.0413805246, 0.0477602594));
	r += mul(s3_3, min16float4x4(-0.0176283959, -0.0258173309, 0.0440301746, 0.0392763317, -0.0206960756, -0.0113163609, -0.0186607223, -0.0132931666, 0.0399168804, -0.1007475778, -0.0132227410, -0.0660931841, -0.1927664727, 0.0058465367, -0.1883009374, -0.0265293363));
	r += mul(s3_4, min16float4x4(-0.3564424813, 0.0210595056, 0.2821148932, -0.0089567881, 0.0978792682, -0.0316094197, 0.0757094771, 0.0164367519, -0.3408043087, 0.0788822100, 0.1034917980, 0.5915697813, 0.4339281321, 0.0617518276, 0.1695003808, -0.4212116003));
	r += mul(s3_5, min16float4x4(-0.1044705063, -0.5332261920, 0.1793212593, 0.4462698400, -0.0087830387, 0.1420896053, -0.0091526611, 0.0057156472, 0.0528645739, -0.0698774457, 0.0977488831, -0.1807048321, -0.0155393481, 0.0924981162, 0.0229324028, 0.1071768254));
	r += mul(s3_6, min16float4x4(0.0110759269, 0.0048823035, -0.0196601395, 0.0015244114, 0.0002112598, 0.0055555915, -0.0033807661, 0.0066123577, -0.0105491467, 0.0053811013, -0.0403949618, -0.0642827004, -0.0343010686, 0.0109915454, -0.0552328043, 0.0284273475));
	r += mul(s3_7, min16float4x4(-0.0207846686, 0.0228248667, 0.0637713596, 0.0099412417, 0.0043531358, 0.0116954390, 0.0633629188, 0.0091826133, 0.0552106053, 0.0908379257, -0.0846680701, -0.1293823868, -0.0171046946, -0.0072785006, 0.0895914957, 0.0646781549));
	r += mul(s3_8, min16float4x4(0.0224082507, -0.0158742573, 0.0050740610, 0.0601360425, -0.0046917270, -0.0175218079, 0.0259097442, 0.0454708301, 0.0073344279, -0.0227606427, -0.0238357466, -0.0000636902, 0.0036420061, -0.0270428061, -0.0129301064, 0.0272603836));
	r += min16float4(2.1175108486204408e-05, 1.3801839486404788e-05, 8.80500374478288e-05, 0.00018799747340381145);
	return tanh(r);
}
void Pass4(uint2 blockStart, uint3 tid) {
	float2 pt = float2(GetInputPt());
	uint2 gxy = Rmp8x8(tid.x) + blockStart;
	uint2 size = GetInputSize();
	if (gxy.x >= size.x || gxy.y >= size.y) {
		return;
	}
	float2 pos = (gxy + 0.5) * pt;
	min16float4 s0_0 = l0(-1.0, -1.0);
	min16float4 s0_1 = l0(0.0, -1.0);
	min16float4 s0_2 = l0(1.0, -1.0);
	min16float4 s0_3 = l0(-1.0, 0.0);
	min16float4 s0_4 = l0(0.0, 0.0);
	min16float4 s0_5 = l0(1.0, 0.0);
	min16float4 s0_6 = l0(-1.0, 1.0);
	min16float4 s0_7 = l0(0.0, 1.0);
	min16float4 s0_8 = l0(1.0, 1.0);
	min16float4 s1_0 = max(-s0_0, 0.0);
	min16float4 s1_1 = max(-s0_1, 0.0);
	min16float4 s1_2 = max(-s0_2, 0.0);
	min16float4 s1_3 = max(-s0_3, 0.0);
	min16float4 s1_4 = max(-s0_4, 0.0);
	min16float4 s1_5 = max(-s0_5, 0.0);
	min16float4 s1_6 = max(-s0_6, 0.0);
	min16float4 s1_7 = max(-s0_7, 0.0);
	min16float4 s1_8 = max(-s0_8, 0.0);
	s0_0 = max(s0_0, 0.0);
	s0_1 = max(s0_1, 0.0);
	s0_2 = max(s0_2, 0.0);
	s0_3 = max(s0_3, 0.0);
	s0_4 = max(s0_4, 0.0);
	s0_5 = max(s0_5, 0.0);
	s0_6 = max(s0_6, 0.0);
	s0_7 = max(s0_7, 0.0);
	s0_8 = max(s0_8, 0.0);
	min16float4 s2_0 = l1(-1.0, -1.0);
	min16float4 s2_1 = l1(0.0, -1.0);
	min16float4 s2_2 = l1(1.0, -1.0);
	min16float4 s2_3 = l1(-1.0, 0.0);
	min16float4 s2_4 = l1(0.0, 0.0);
	min16float4 s2_5 = l1(1.0, 0.0);
	min16float4 s2_6 = l1(-1.0, 1.0);
	min16float4 s2_7 = l1(0.0, 1.0);
	min16float4 s2_8 = l1(1.0, 1.0);
	min16float4 s3_0 = max(-s2_0, 0.0);
	min16float4 s3_1 = max(-s2_1, 0.0);
	min16float4 s3_2 = max(-s2_2, 0.0);
	min16float4 s3_3 = max(-s2_3, 0.0);
	min16float4 s3_4 = max(-s2_4, 0.0);
	min16float4 s3_5 = max(-s2_5, 0.0);
	min16float4 s3_6 = max(-s2_6, 0.0);
	min16float4 s3_7 = max(-s2_7, 0.0);
	min16float4 s3_8 = max(-s2_8, 0.0);
	s2_0 = max(s2_0, 0.0);
	s2_1 = max(s2_1, 0.0);
	s2_2 = max(s2_2, 0.0);
	s2_3 = max(s2_3, 0.0);
	s2_4 = max(s2_4, 0.0);
	s2_5 = max(s2_5, 0.0);
	s2_6 = max(s2_6, 0.0);
	s2_7 = max(s2_7, 0.0);
	s2_8 = max(s2_8, 0.0);
	out_0[gxy] = f0(pt, pos, s0_0, s0_1, s0_2, s0_3, s0_4, s0_5, s0_6, s0_7, s0_8, s1_0, s1_1, s1_2, s1_3, s1_4, s1_5, s1_6, s1_7, s1_8, s2_0, s2_1, s2_2, s2_3, s2_4, s2_5, s2_6, s2_7, s2_8, s3_0, s3_1, s3_2, s3_3, s3_4, s3_5, s3_6, s3_7, s3_8);
}
//!PASS 5
//!DESC CuNNy-2x8C-BILINEAR-CHROMA-DS-NVL-shuffle
//!STYLE PS
//!IN out_0, INPUT
float4 Pass5(float2 pos) {
	float2 pt = float2(GetInputPt());
	const static float3x3 rgb2yuv = {0.299, 0.587, 0.114, -0.169, -0.331, 0.5, 0.5, -0.419, -0.081};
	const static float3x3 yuv2rgb = {1, -0.00093, 1.401687, 1, -0.3437, -0.71417, 1, 1.77216, 0.00099};
	float4 r = 0.0;
	float2 size = float2(GetInputSize());
	float2 f = frac(pos * size);
	float3 yuv = mul(rgb2yuv, INPUT.SampleLevel(SL, pos, 0).rgb);
	int2 i = int2(f * 2.0);
	r.r = out_0.SampleLevel(SP, (float2(0.5, 0.5) - f) * pt + pos, 0)[2*i.y + i.x];
	r.r += yuv.r;
	r.a = 1.0;
	r.r = clamp(r, 0.0, 1.0);
	float3 px = mul(yuv2rgb, float3(r.r, yuv.yz));
	return float4(px, 1.0);
}
