// CuNNy 2x8C BILINEAR CHROMA NVL DN
// Copyright (c) 2024 cunnyplapper

// This program is free software; you can redistribute it and/or
// modify it under the terms of the GNU Lesser General Public
// License as published by the Free Software Foundation; either
// version 3.0 of the License, or (at your option) any later version.
// 
// This program is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
// Lesser General Public License for more details.
// 
// You should have received a copy of the GNU Lesser General Public
// License along with this program.  If not, see <https://www.gnu.org/licenses/>.
/* ------------------------------------------------------------------- */

//!MAGPIE EFFECT
//!VERSION 3
//!OUTPUT_WIDTH INPUT_WIDTH * 2
//!OUTPUT_HEIGHT INPUT_HEIGHT * 2

//!TEXTURE
Texture2D INPUT;

//!SAMPLER
//!FILTER POINT
SamplerState SP;

//!SAMPLER
//!FILTER LINEAR
SamplerState SL;

//!TEXTURE
//!WIDTH INPUT_WIDTH
//!HEIGHT INPUT_HEIGHT
//!FORMAT R8G8B8A8_SNORM
Texture2D in_0;

//!TEXTURE
//!WIDTH INPUT_WIDTH
//!HEIGHT INPUT_HEIGHT
//!FORMAT R8G8B8A8_SNORM
Texture2D in_1;

//!TEXTURE
//!WIDTH INPUT_WIDTH
//!HEIGHT INPUT_HEIGHT
//!FORMAT R8G8B8A8_SNORM
Texture2D conv1_0;

//!TEXTURE
//!WIDTH INPUT_WIDTH
//!HEIGHT INPUT_HEIGHT
//!FORMAT R8G8B8A8_SNORM
Texture2D conv1_1;

//!TEXTURE
//!WIDTH INPUT_WIDTH
//!HEIGHT INPUT_HEIGHT
//!FORMAT R8G8B8A8_SNORM
Texture2D conv2_0;

//!TEXTURE
//!WIDTH INPUT_WIDTH
//!HEIGHT INPUT_HEIGHT
//!FORMAT R8G8B8A8_SNORM
Texture2D conv2_1;

//!TEXTURE
//!WIDTH INPUT_WIDTH
//!HEIGHT INPUT_HEIGHT
//!FORMAT R8G8B8A8_SNORM
Texture2D out_0;

//!PASS 1
//!DESC CuNNy-2x8C-BILINEAR-CHROMA-NVL-DN-in
//!BLOCK_SIZE 8
//!NUM_THREADS 64
//!IN INPUT
//!OUT in_0, in_1
#define O(t, p) t.SampleLevel(SP, pos + p * pt, 0)
#define l0(x, y) (dot(float3(-0.4486265778541565, -0.75168377161026, -0.20671989023685455), O(INPUT, float2(x, y)).rgb) + 0.8272064924240112)
float4 f0(float2 pt, float2 pos, min16float s0_0, min16float s0_1, min16float s0_2, min16float s0_3, min16float s0_4, min16float s0_5, min16float s0_6, min16float s0_7, min16float s0_8) {
	min16float4 r = 0.0;
	r += min16float4(-0.13717982172966003, 0.012377036735415459, 0.15225271880626678, 0.07055053859949112) * s0_0;
	r += min16float4(-0.05603053420782089, 0.09545838087797165, 0.12279847264289856, 0.013096988201141357) * s0_1;
	r += min16float4(0.14132793247699738, -0.10908899456262589, -0.1372070014476776, -0.13334007561206818) * s0_2;
	r += min16float4(0.2229463756084442, -0.00404152600094676, 0.14013810455799103, -0.1450195610523224) * s0_3;
	r += min16float4(-0.17937733232975006, 0.2506791055202484, -0.40079498291015625, 0.4806164801120758) * s0_4;
	r += min16float4(-0.09452545642852783, -0.2509765923023224, 0.026674794033169746, 0.099851094186306) * s0_5;
	r += min16float4(0.1710396409034729, -0.01153322122991085, -0.19240853190422058, -0.1753080189228058) * s0_6;
	r += min16float4(0.0586141012609005, -0.306270033121109, 0.1126362755894661, -0.2131732702255249) * s0_7;
	r += min16float4(-0.12618982791900635, 0.3251945972442627, 0.17236322164535522, 0.005456366576254368) * s0_8;
	r += min16float4(-6.280685192905366e-05, -8.248703670687973e-05, -0.0017896820791065693, 0.0010765361366793513);
	return r;
}
float4 f1(float2 pt, float2 pos, min16float s0_0, min16float s0_1, min16float s0_2, min16float s0_3, min16float s0_4, min16float s0_5, min16float s0_6, min16float s0_7, min16float s0_8) {
	min16float4 r = 0.0;
	r += min16float4(0.0076329526491463184, 0.03990596532821655, -0.040196143090724945, -0.002217377768829465) * s0_0;
	r += min16float4(-0.38819998502731323, -0.059199005365371704, -0.04593661054968834, 0.004805291071534157) * s0_1;
	r += min16float4(0.3857249319553375, -0.017517169937491417, -0.026882527396082878, 0.37615036964416504) * s0_2;
	r += min16float4(-0.003559618256986141, -0.38574129343032837, -0.10229433327913284, 0.004064609296619892) * s0_3;
	r += min16float4(0.0010762508027255535, 0.04911000281572342, 0.46764490008354187, -0.0024916159454733133) * s0_4;
	r += min16float4(-0.0019259736873209476, 0.07280910015106201, -0.06332974135875702, -0.3837890028953552) * s0_5;
	r += min16float4(-0.0015172382118180394, -0.020453397184610367, -0.033662911504507065, -4.999701559427194e-05) * s0_6;
	r += min16float4(0.006062526721507311, 0.3606002926826477, -0.03071172907948494, -0.006750983651727438) * s0_7;
	r += min16float4(-0.0038551511242985725, -0.041308339685201645, -0.03262227028608322, 0.00906189251691103) * s0_8;
	r += min16float4(7.536380144301802e-05, 0.00017953077622223645, -0.06276863068342209, 4.091047685506055e-06);
	return r;
}
void Pass1(uint2 blockStart, uint3 tid) {
	float2 pt = float2(GetInputPt());
	uint2 gxy = Rmp8x8(tid.x) + blockStart;
	uint2 size = GetInputSize();
	if (gxy.x >= size.x || gxy.y >= size.y) {
		return;
	}
	float2 pos = (gxy + 0.5) * pt;
	min16float s0_0 = l0(-1.0, -1.0);
	min16float s0_1 = l0(0.0, -1.0);
	min16float s0_2 = l0(1.0, -1.0);
	min16float s0_3 = l0(-1.0, 0.0);
	min16float s0_4 = l0(0.0, 0.0);
	min16float s0_5 = l0(1.0, 0.0);
	min16float s0_6 = l0(-1.0, 1.0);
	min16float s0_7 = l0(0.0, 1.0);
	min16float s0_8 = l0(1.0, 1.0);
	in_0[gxy] = f0(pt, pos, s0_0, s0_1, s0_2, s0_3, s0_4, s0_5, s0_6, s0_7, s0_8);
	in_1[gxy] = f1(pt, pos, s0_0, s0_1, s0_2, s0_3, s0_4, s0_5, s0_6, s0_7, s0_8);
}
//!PASS 2
//!DESC CuNNy-2x8C-BILINEAR-CHROMA-NVL-DN-conv1
//!BLOCK_SIZE 8
//!NUM_THREADS 64
//!IN in_0, in_1
//!OUT conv1_0, conv1_1
#define O(t, p) t.SampleLevel(SP, pos + p * pt, 0)
#define l0(x, y) O(in_0, float2(x, y))
#define l1(x, y) O(in_1, float2(x, y))
float4 f0(float2 pt, float2 pos, min16float4 s0_0, min16float4 s0_1, min16float4 s0_2, min16float4 s0_3, min16float4 s0_4, min16float4 s0_5, min16float4 s0_6, min16float4 s0_7, min16float4 s0_8, min16float4 s1_0, min16float4 s1_1, min16float4 s1_2, min16float4 s1_3, min16float4 s1_4, min16float4 s1_5, min16float4 s1_6, min16float4 s1_7, min16float4 s1_8, min16float4 s2_0, min16float4 s2_1, min16float4 s2_2, min16float4 s2_3, min16float4 s2_4, min16float4 s2_5, min16float4 s2_6, min16float4 s2_7, min16float4 s2_8, min16float4 s3_0, min16float4 s3_1, min16float4 s3_2, min16float4 s3_3, min16float4 s3_4, min16float4 s3_5, min16float4 s3_6, min16float4 s3_7, min16float4 s3_8) {
	min16float4 r = 0.0;
	r += mul(s0_0, min16float4x4(-0.017013700678944588, -0.021799614652991295, -0.12683545053005219, -0.08735132217407227, -0.29160192608833313, -0.06640991568565369, -0.10103347897529602, -0.01830228790640831, 0.016206620261073112, -0.0027935015968978405, 0.07514974474906921, 0.1262071430683136, -0.18886712193489075, -0.07103975862264633, 0.002042400185018778, -0.08086615055799484));
	r += mul(s0_1, min16float4x4(0.10724487155675888, -0.006511026527732611, -0.21142752468585968, 0.16886362433433533, -0.4134427607059479, -0.07656679302453995, -0.09971733391284943, -0.0741242840886116, 0.3393535614013672, -0.10238581150770187, 0.18824683129787445, 0.012114785611629486, -0.5235909223556519, 0.09107617288827896, -0.17523372173309326, -0.00011836526391562074));
	r += mul(s0_2, min16float4x4(0.0946769267320633, -0.13629008829593658, -0.13964106142520905, 0.12930411100387573, 0.056086957454681396, 0.11909177899360657, -0.10257529467344284, -0.5770832896232605, 0.15322564542293549, -0.0009509555529803038, 0.18210916221141815, 0.234819233417511, -0.16360178589820862, 0.1308811902999878, -0.1558152735233307, -0.06163830682635307));
	r += mul(s0_3, min16float4x4(-0.13931746780872345, 0.05998057872056961, 0.1967545598745346, 0.19618478417396545, -0.08721095323562622, -0.15198761224746704, 0.10511394590139389, 0.16357991099357605, 0.03846168518066406, 0.07925243675708771, 0.03518307954072952, 0.10121328383684158, -0.04130765050649643, 0.17038048803806305, -0.13616357743740082, -0.026316015049815178));
	r += mul(s0_4, min16float4x4(0.08788789063692093, -0.019661827012896538, -0.1785922348499298, 0.02873898670077324, 0.38378670811653137, -0.1995273381471634, -0.29136013984680176, -0.2483731359243393, -0.1216050386428833, 0.44409048557281494, 0.20608139038085938, 0.14200392365455627, 0.28416523337364197, -0.2269517183303833, -0.6363099217414856, -0.09785810858011246));
	r += mul(s0_5, min16float4x4(-0.1944066435098648, -0.07710496336221695, -0.1743880808353424, -0.09972020238637924, 0.12841741740703583, 0.23560160398483276, 0.10718797892332077, 0.1809406280517578, 0.02620239555835724, -0.5176411271095276, 0.2303219437599182, 0.12487579882144928, -0.023959381505846977, 0.17180141806602478, -0.16842003166675568, -0.035969045013189316));
	r += mul(s0_6, min16float4x4(0.023557547479867935, -0.06294430792331696, -0.08427426964044571, -0.03724467009305954, 0.07248499244451523, -0.029378684237599373, -0.17050768435001373, -0.0069689564406871796, 0.03846403583884239, -0.021527715027332306, 0.07986326515674591, -0.07961177825927734, -0.008512891829013824, -0.030553549528121948, 0.03878825902938843, 0.07250645756721497));
	r += mul(s0_7, min16float4x4(-0.2081836760044098, 0.03979138657450676, -0.09324914962053299, 0.09001700580120087, 0.043071385473012924, -0.021318156272172928, 0.04537849500775337, 0.1370156705379486, 0.02246527001261711, 0.19379505515098572, 0.17690277099609375, -0.034564826637506485, -0.044317811727523804, -0.03692705184221268, -0.014173304662108421, 0.08652189373970032));
	r += mul(s0_8, min16float4x4(0.05657761171460152, 0.007066848687827587, -0.069747194647789, 0.07977618277072906, 0.0832478255033493, -0.046321507543325424, -0.06627078354358673, 0.0778084546327591, -0.05927082896232605, 0.09387897700071335, 0.12227655202150345, -0.07544178515672684, 0.05372391268610954, 9.308793232776225e-05, -0.22693027555942535, -0.08549481630325317));
	r += mul(s1_0, min16float4x4(-0.014061094261705875, 0.05364662781357765, -0.07705739140510559, 0.012521644122898579, 0.11786991357803345, 0.008175048045814037, 0.10350976139307022, 0.004426673054695129, -0.045645348727703094, 0.018451301380991936, 0.046886641532182693, 0.05540646240115166, 0.18738166987895966, -0.040414005517959595, -0.06521506607532501, 0.12997744977474213));
	r += mul(s1_1, min16float4x4(-0.44548776745796204, -0.03235230594873428, -0.06590905040502548, 0.07445982098579407, 0.3202807307243347, -0.01141313835978508, -0.1252138763666153, -0.2035796046257019, -0.12903574109077454, 0.1692495197057724, 0.16531749069690704, 0.029056677594780922, 0.9551518559455872, -0.09255044162273407, -0.19775569438934326, -0.09678112715482712));
	r += mul(s1_2, min16float4x4(-0.0003998516476713121, 0.07980405539274216, -0.06649371981620789, 0.42286813259124756, -0.09115844964981079, 0.09401905536651611, 0.028064196929335594, 0.16260011494159698, -0.08670882135629654, 0.029588771983981133, 0.2547176480293274, -0.04975677281618118, 0.07556426525115967, -0.006953550036996603, -0.23730646073818207, -0.23218953609466553));
	r += mul(s1_3, min16float4x4(0.2082693874835968, -0.18310485780239105, -0.1831083595752716, -0.20051369071006775, 0.32790854573249817, -0.4479656219482422, -0.12170352786779404, -0.02302718535065651, -0.06760594248771667, 0.055064886808395386, 0.05298137292265892, 0.06679540872573853, 0.011609510518610477, -0.008340767584741116, -0.1686452329158783, -0.024934988468885422));
	r += mul(s1_4, min16float4x4(0.004236520268023014, 0.10859066247940063, 0.09888380765914917, 0.24854086339473724, -0.2681204378604889, 0.11829765141010284, 0.13646326959133148, -0.31454336643218994, 0.1089559867978096, 0.034604400396347046, -0.0631365031003952, 0.1887895166873932, -0.23464663326740265, 0.05334129557013512, -0.23204076290130615, 0.025009360164403915));
	r += mul(s1_5, min16float4x4(0.1214573085308075, 0.22767846286296844, -0.30183109641075134, 0.13666851818561554, -0.12745346128940582, -0.1781638115644455, -0.09910795092582703, 0.09985402971506119, 0.10308530181646347, 0.34365805983543396, 0.24310627579689026, -0.07487095147371292, -0.021971039474010468, -0.5593889951705933, -0.17254848778247833, -0.05360083654522896));
	r += mul(s1_6, min16float4x4(-0.08096472918987274, 0.05521653965115547, -0.11911625415086746, 0.07531127333641052, 0.03459310531616211, -0.11309777945280075, -0.05809015780687332, -0.013975083827972412, -0.051888156682252884, 0.07904063910245895, 0.18434564769268036, 0.11273544281721115, 0.0728796198964119, 0.03575010970234871, -0.10159876942634583, -0.0786408856511116));
	r += mul(s1_7, min16float4x4(0.11705076694488525, -0.12388809770345688, -0.2609671950340271, -0.10210694372653961, 0.08766115456819534, -0.027303077280521393, -0.06936904042959213, -0.24766923487186432, -0.08427181094884872, 0.02359350584447384, 0.120814248919487, 0.1945580393075943, 0.09904635697603226, 0.0770941749215126, -0.18670345842838287, -0.11933828890323639));
	r += mul(s1_8, min16float4x4(-0.12136005610227585, 0.04415767267346382, -0.20249707996845245, -0.10840889066457748, -0.0669463574886322, 0.08204764127731323, -0.04978649690747261, -0.01890651136636734, 0.06579732149839401, -0.07039462774991989, 0.1328156590461731, 0.09670255333185196, 0.03433523699641228, -0.06898684054613113, -0.03264057636260986, 0.03901529684662819));
	r += mul(s2_0, min16float4x4(-0.16659404337406158, -0.0685252919793129, 0.02197933755815029, 0.1221877932548523, 0.14662408828735352, -0.04114742949604988, 0.0052721938118338585, -0.02462158538401127, 0.16605514287948608, -0.04369748383760452, -0.02576575055718422, -0.02773681841790676, -0.02556471899151802, 0.03403481841087341, -0.14600548148155212, 0.15560513734817505));
	r += mul(s2_1, min16float4x4(-0.17721663415431976, -0.021373165771365166, 0.03506488353013992, 0.0886448547244072, 0.18136468529701233, 0.1273299753665924, 0.3712042570114136, -0.027170540764927864, 0.3212430477142334, 0.20446854829788208, 0.08471444994211197, -0.2744998633861542, -0.33002686500549316, 0.02735227346420288, 0.05885162577033043, 0.3053588569164276));
	r += mul(s2_2, min16float4x4(0.07038635015487671, -0.03732188791036606, 0.049965206533670425, 0.059311434626579285, 0.026085391640663147, 0.2030217945575714, 0.20474989712238312, -0.07674447447061539, -0.006622119806706905, -0.14696773886680603, -0.03621519356966019, 0.16963158547878265, -0.04133676365017891, 0.06566722691059113, 0.024719199165701866, 0.08707355707883835));
	r += mul(s2_3, min16float4x4(-0.16622403264045715, -0.2053035944700241, 0.0003208019770681858, 0.0991513580083847, 0.020736519247293472, 0.15507526695728302, 0.11371396481990814, 0.1392049491405487, -0.17539654672145844, -0.14420419931411743, 0.1231047585606575, 0.11203372478485107, 0.11740043014287949, 5.3122737881494686e-05, 0.05548949912190437, -0.1341743916273117));
	r += mul(s2_4, min16float4x4(0.0013444656506180763, -0.04049256816506386, -0.037178512662649155, -0.3548959791660309, 0.4586472809314728, -0.3095466196537018, 0.15604737401008606, -0.12124413996934891, -0.03756369650363922, 0.4292140603065491, -0.12128376960754395, 0.3372623026371002, 0.06120019778609276, 0.02438814751803875, -0.12362467497587204, -0.5932830572128296));
	r += mul(s2_5, min16float4x4(0.15836390852928162, 0.06349990516901016, 0.015931328758597374, -0.09262062609195709, -0.021329253911972046, 0.5725401639938354, 0.3089778423309326, 0.06775690615177155, 0.044686269015073776, -0.4439786672592163, 0.1218295469880104, 0.15728600323200226, -0.004996796138584614, 0.20261290669441223, -0.03594925254583359, 0.12449115514755249));
	r += mul(s2_6, min16float4x4(0.0036891563795506954, -0.32932248711586, -0.053825099021196365, -0.12857858836650848, 0.010997594334185123, 0.026905836537480354, 0.057631656527519226, 0.07238548249006271, 0.008462216705083847, -0.1476614773273468, -0.07563437521457672, -0.22556501626968384, 0.3746160864830017, -0.06440548598766327, 0.1389653980731964, -0.6412757635116577));
	r += mul(s2_7, min16float4x4(0.03482242673635483, 0.015903722494840622, 0.08764573931694031, -0.7576870322227478, -0.05065862461924553, -0.0817854031920433, 0.14210821688175201, 0.02057747356593609, -0.16262561082839966, 0.08715749531984329, 0.021987013518810272, -0.2524651885032654, 0.1125849187374115, 0.12098320573568344, 0.17792731523513794, -0.08516731858253479));
	r += mul(s2_8, min16float4x4(-0.167474627494812, 0.13330590724945068, -0.0091219712048769, -0.10941309481859207, -0.02730274200439453, -0.0621362179517746, 0.04573279991745949, -0.07604008913040161, -0.004351113922894001, 0.028105510398745537, 0.0545908659696579, 0.13131821155548096, 0.08724221587181091, -0.008574342355132103, -0.06538330763578415, -0.15132494270801544));
	r += mul(s3_0, min16float4x4(0.0753483772277832, 0.03330536186695099, -0.015568586066365242, 0.17977960407733917, -0.13703083992004395, -0.030938388779759407, 0.11449982970952988, 0.03383031114935875, -0.08416559547185898, 0.1147628054022789, -0.002537120133638382, 0.013638379983603954, -0.4111692011356354, 0.10142934322357178, 0.0449492409825325, 0.2393718957901001));
	r += mul(s3_1, min16float4x4(0.10936862975358963, 0.012434864416718483, 0.05193299055099487, 0.20055516064167023, -0.27449318766593933, -0.11098439246416092, 0.13312026858329773, 0.08569563925266266, 0.294668972492218, -0.19373616576194763, -0.03033430129289627, -0.1892312914133072, 0.2646483778953552, -0.12420832365751266, -0.1684015989303589, 0.007035478018224239));
	r += mul(s3_2, min16float4x4(-0.06631869822740555, 0.014642935246229172, 6.68307620799169e-05, 0.010747143067419529, -0.27415791153907776, -0.20845188200473785, 0.15080729126930237, 0.023212559521198273, -0.03549087420105934, -0.0010249735787510872, -0.04876255616545677, -0.13367371261119843, 0.049408745020627975, -0.0581987239420414, 0.06999523192644119, 0.11964136362075806));
	r += mul(s3_3, min16float4x4(-0.19014917314052582, 0.14215824007987976, 0.09665939211845398, 0.1954365074634552, -0.009729164652526379, -0.09819592535495758, 0.00451232073828578, -0.12962593138217926, 0.2251081019639969, 0.15646466612815857, -0.13460944592952728, -0.10620377212762833, -0.06644099205732346, -0.5132706165313721, -0.2177279144525528, -0.6476237177848816));
	r += mul(s3_4, min16float4x4(-0.28451189398765564, 0.180409774184227, -0.01893516071140766, 0.026499388739466667, -0.23882916569709778, 0.0883549228310585, 0.19272837042808533, 0.03793785721063614, -0.2601455748081207, 0.15118710696697235, 0.08031107485294342, 0.008700964041054249, -0.16067856550216675, 0.5869928598403931, 0.2121778428554535, -0.45384347438812256));
	r += mul(s3_5, min16float4x4(-0.04283691570162773, 0.11749079823493958, -0.014179776422679424, 0.00402150908485055, 0.15468819439411163, -0.4569329023361206, 0.3321218192577362, -0.22137415409088135, -0.03745267912745476, -0.18338005244731903, -0.023257529363036156, 0.05785522237420082, 0.023979853838682175, -0.1901014894247055, 0.0892908126115799, 0.16951942443847656));
	r += mul(s3_6, min16float4x4(0.05254536122083664, -0.2124176174402237, 0.02501116879284382, -0.03068033792078495, -0.011740541085600853, -0.02413283661007881, 0.0503680557012558, 0.0018475701799616218, -0.07324837893247604, 0.0920574963092804, 0.04886152222752571, 0.1451840102672577, 0.14936047792434692, -0.10896119475364685, 0.09031486511230469, -0.31480616331100464));
	r += mul(s3_7, min16float4x4(0.19879502058029175, -0.0361325703561306, -0.24936586618423462, -0.2607431411743164, 0.03773732855916023, 0.047098640352487564, -0.001502813771367073, -0.10166812688112259, -0.015063511207699776, -0.10963097214698792, 0.050325825810432434, 0.1206241101026535, -0.03813796862959862, 0.2630959153175354, 0.07551546394824982, -0.15989018976688385));
	r += mul(s3_8, min16float4x4(0.056526996195316315, 0.16284406185150146, -0.022742412984371185, -0.05934582278132439, 0.03707996755838394, 0.08455649018287659, 0.24133944511413574, 0.031382154673337936, -0.05085434019565582, -0.017560970038175583, 0.06694068014621735, 0.08425235003232956, -0.08494600653648376, 0.11769426614046097, 0.007721123285591602, -0.04442930966615677));
	r += min16float4(0.006244798190891743, -0.0010361624881625175, -0.0003899787843693048, 0.002586950780823827);
	return r;
}
float4 f1(float2 pt, float2 pos, min16float4 s0_0, min16float4 s0_1, min16float4 s0_2, min16float4 s0_3, min16float4 s0_4, min16float4 s0_5, min16float4 s0_6, min16float4 s0_7, min16float4 s0_8, min16float4 s1_0, min16float4 s1_1, min16float4 s1_2, min16float4 s1_3, min16float4 s1_4, min16float4 s1_5, min16float4 s1_6, min16float4 s1_7, min16float4 s1_8, min16float4 s2_0, min16float4 s2_1, min16float4 s2_2, min16float4 s2_3, min16float4 s2_4, min16float4 s2_5, min16float4 s2_6, min16float4 s2_7, min16float4 s2_8, min16float4 s3_0, min16float4 s3_1, min16float4 s3_2, min16float4 s3_3, min16float4 s3_4, min16float4 s3_5, min16float4 s3_6, min16float4 s3_7, min16float4 s3_8) {
	min16float4 r = 0.0;
	r += mul(s0_0, min16float4x4(-0.054580241441726685, 0.04241826385259628, 0.1518561691045761, -0.0018243788508698344, 0.016062507405877113, 0.14207202196121216, -0.01817942038178444, -0.07681635022163391, 0.10655950009822845, -0.14892637729644775, 0.07616464793682098, -0.22592772543430328, 0.007411987520754337, -0.026242071762681007, 0.14795130491256714, 0.07922633737325668));
	r += mul(s0_1, min16float4x4(-0.1808338463306427, 0.07747583091259003, -0.22900402545928955, 0.0947795882821083, 0.1251969188451767, 0.16189135611057281, 0.40221935510635376, 0.06852961331605911, 0.07231288403272629, -0.3796168267726898, -0.24432946741580963, -0.06921325623989105, 0.38042327761650085, 0.20558257400989532, 0.37904778122901917, 0.0671883076429367));
	r += mul(s0_2, min16float4x4(-0.07592890411615372, 0.11463453620672226, -0.14613400399684906, -0.17835499346256256, -0.04632459580898285, -0.03651781752705574, 0.017096787691116333, 0.04109437018632889, 0.21661968529224396, -0.37032273411750793, -0.03231996297836304, -0.33812105655670166, 0.0978550910949707, 0.10287995636463165, 0.24859794974327087, 0.14013385772705078));
	r += mul(s0_3, min16float4x4(0.011528807692229748, -0.06707566976547241, 0.23055891692638397, 0.11480872333049774, 0.38060706853866577, -0.12377998232841492, 0.31082212924957275, 0.17227669060230255, -0.15552064776420593, -0.0329122394323349, -0.1664910465478897, -0.11513937264680862, -0.016869693994522095, 0.1518242210149765, 0.21023918688297272, 0.04400024563074112));
	r += mul(s0_4, min16float4x4(-0.1333373486995697, -0.1616072803735733, -0.14167989790439606, 0.11155403405427933, -0.06366397440433502, -0.2559797167778015, 0.03519420325756073, -0.14383463561534882, -0.2675933837890625, 0.10440072417259216, 0.11940368264913559, 0.1546327918767929, 0.098207488656044, 0.3196340501308441, -0.14145590364933014, -0.228162482380867));
	r += mul(s0_5, min16float4x4(-0.1827189326286316, 0.29613345861434937, -0.08328356593847275, -0.2838762700557709, 0.05153727903962135, -0.02403430826961994, 0.10312890261411667, 0.0012556614819914103, -0.09304855018854141, -0.5298974514007568, 0.03688786178827286, -0.3790591359138489, 0.3979569673538208, 0.30393266677856445, 0.11589443683624268, 0.1393546164035797));
	r += mul(s0_6, min16float4x4(0.0156334787607193, 0.03855060413479805, -0.08069231361150742, 0.08151280134916306, 0.03418174013495445, -0.0057920305989682674, -0.02598363347351551, 0.0477391853928566, -0.022714460268616676, -0.10639958083629608, -0.02594631537795067, -0.013185677118599415, -0.0013103740056976676, 0.04320316016674042, 0.11209599673748016, 0.0658833459019661));
	r += mul(s0_7, min16float4x4(0.14151588082313538, 0.24431204795837402, 0.08963323384523392, -0.016379494220018387, 0.07933924347162247, 0.011844778433442116, 0.05670148506760597, 0.23777008056640625, -0.3362054228782654, -0.10627079010009766, -0.1043306365609169, 0.08579801023006439, 0.07016802579164505, 0.08595150709152222, -0.06575442850589752, -0.17511795461177826));
	r += mul(s0_8, min16float4x4(-0.014624745585024357, -0.02447635494172573, -0.060301460325717926, 0.0017831196309998631, 0.01837071403861046, 0.0677255317568779, -0.05379325896501541, 0.10671459138393402, -0.10483115911483765, -0.014581426046788692, 0.02806119993329048, -0.19381657242774963, -0.016548534855246544, 0.1739724725484848, -0.02300553396344185, -0.048207297921180725));
	r += mul(s1_0, min16float4x4(-0.07023877650499344, 0.05530233308672905, -0.03039493039250374, -0.06797418743371964, 0.3214958608150482, -0.13134510815143585, 0.21147945523262024, 0.047942474484443665, -0.0864134207367897, 0.032276879996061325, -0.17038770020008087, 0.16208569705486298, 0.18492789566516876, 0.15673625469207764, -0.1967335045337677, -0.10886329412460327));
	r += mul(s1_1, min16float4x4(-0.31735625863075256, 0.08462274074554443, -0.022114824503660202, 0.12893077731132507, 0.1460917443037033, -0.11225023865699768, -0.06310869008302689, -0.3048684895038605, 0.04678700864315033, -0.08885940909385681, 0.37456047534942627, -0.03511277586221695, 0.1108350083231926, 0.13357487320899963, -0.36951586604118347, -0.457721471786499));
	r += mul(s1_2, min16float4x4(-0.037093646824359894, 0.03804762661457062, 0.08216511458158493, -0.07956619560718536, -0.07115469872951508, 0.020528091117739677, 0.04275664687156677, 0.17990650236606598, 0.00021231130813248456, -0.0028026201762259007, 0.02056284248828888, 0.2578895092010498, -0.0563698373734951, 0.14116531610488892, -0.1049402579665184, -0.1346922665834427));
	r += mul(s1_3, min16float4x4(-0.06771840900182724, 0.0010400288738310337, -0.20756997168064117, -0.02476249821484089, 0.14844335615634918, -0.09373535960912704, -0.11269677430391312, -0.08293958008289337, 0.03821450099349022, -0.09207897633314133, 0.3159783184528351, 0.05540018901228905, 0.06082314997911453, 0.14408378303050995, -0.08817388862371445, -0.10366445034742355));
	r += mul(s1_4, min16float4x4(0.029957419261336327, -0.00016311898070853204, -0.03457881882786751, 0.17542070150375366, 0.3346274495124817, 0.38581061363220215, 0.4991562068462372, -0.02162349410355091, -0.05425196886062622, -0.44325482845306396, -0.09546342492103577, -0.5581730604171753, -0.07717453688383102, 0.5253908634185791, 0.20865465700626373, -0.0014033662155270576));
	r += mul(s1_5, min16float4x4(0.05976375192403793, 0.36425578594207764, -0.16554300487041473, 0.24374933540821075, -0.1366637796163559, 0.1074523776769638, 0.06210137531161308, -0.08480110764503479, 0.30182284116744995, -0.20570893585681915, -0.05171934887766838, 0.3268921375274658, -0.1204618439078331, -0.2852984070777893, 0.1350409835577011, -0.38463521003723145));
	r += mul(s1_6, min16float4x4(0.01323014684021473, 0.13310003280639648, -0.007791112642735243, -0.0399472713470459, 0.038828566670417786, 0.1450498253107071, -0.045771677047014236, 0.09417231380939484, 0.020010994747281075, -0.05961218476295471, 0.11942795664072037, 0.03899383172392845, -0.06470377743244171, -0.05388624221086502, -0.012094537727534771, -0.17657148838043213));
	r += mul(s1_7, min16float4x4(-0.013695641420781612, -0.03356054052710533, -0.07671202719211578, -0.25010889768600464, -0.19080226123332977, -0.04468739777803421, 0.0670224279165268, 0.15477851033210754, 0.23991471529006958, -0.10228082537651062, -0.0036430153995752335, -0.2075275480747223, -0.14562270045280457, 0.13300305604934692, -0.07147102802991867, 0.05283906310796738));
	r += mul(s1_8, min16float4x4(0.03593195602297783, 0.01074821874499321, 0.037766288965940475, 0.05278310552239418, -0.10345423966646194, 0.11549434810876846, 0.023541206493973732, 0.00949596706777811, 0.042847082018852234, -0.2966117858886719, -0.1062459796667099, -0.09838131815195084, 0.09783511608839035, 0.06704466044902802, 0.12280432134866714, -0.02420927584171295));
	r += mul(s2_0, min16float4x4(-0.02261723019182682, -0.0088156433776021, 0.07331719994544983, -0.04728051275014877, -0.048397134989500046, -0.10945077985525131, -0.19363225996494293, -0.1288900375366211, 0.28628385066986084, 0.024207228794693947, 0.1739271879196167, -0.19775605201721191, 0.015450943261384964, 0.09685810655355453, -0.157115176320076, -0.1271844357252121));
	r += mul(s2_1, min16float4x4(0.0995442345738411, -0.03625844419002533, 0.06876198202371597, -0.028726348653435707, 0.0910876989364624, -0.19275324046611786, -0.14619620144367218, -0.23476438224315643, -0.10916881263256073, -0.10146690905094147, 0.08343812078237534, 0.21600240468978882, -0.13618406653404236, 0.16544748842716217, 0.1466393619775772, 0.1588052660226822));
	r += mul(s2_2, min16float4x4(0.019581981003284454, 0.02854362688958645, 0.03814477473497391, -0.11253660172224045, 0.011758102104067802, -0.1313609629869461, -0.2140207439661026, 0.2349816858768463, 0.05555947870016098, 0.04406159371137619, 0.19709335267543793, 0.08518210053443909, 0.04528867080807686, -0.1764623522758484, 0.036608390510082245, -0.026499323546886444));
	r += mul(s2_3, min16float4x4(-0.14901851117610931, 0.01976509392261505, -0.3508695662021637, 0.017308218404650688, -0.0050699105486273766, 0.08131186664104462, 0.024835005402565002, 0.14305108785629272, -0.05086861178278923, 0.031319521367549896, -0.16665016114711761, 0.005305561237037182, 0.2976433336734772, 0.12905098497867584, 0.00345004815608263, -0.1580764502286911));
	r += mul(s2_4, min16float4x4(-0.18872645497322083, 0.14488929510116577, -0.17723962664604187, -0.10035981237888336, 0.18805739283561707, -0.2408864051103592, -0.1567443460226059, -0.2802727222442627, -0.8340985774993896, 0.2351248562335968, -0.38183408975601196, 0.23619180917739868, -0.3388425409793854, 0.06322431564331055, -0.25918683409690857, -0.08603592216968536));
	r += mul(s2_5, min16float4x4(-0.19348403811454773, -0.029156997799873352, -0.06705152988433838, -0.0225698109716177, 0.27392128109931946, -0.19776120781898499, 0.3036227524280548, 0.6624817252159119, 0.07522919774055481, -0.2560991048812866, 0.07711383700370789, -0.02005130983889103, 0.2297639101743698, -0.13872210681438446, 0.08541712164878845, 0.012706847861409187));
	r += mul(s2_6, min16float4x4(0.42028993368148804, -0.0685407742857933, 0.051191702485084534, -0.20330680906772614, -0.012472441419959068, -0.14822964370250702, 0.013530660420656204, -0.017158081755042076, 0.26467254757881165, -0.09685711562633514, 0.007157494779676199, -0.025373604148626328, -0.10266344994306564, -0.23434343934059143, -0.00362684135325253, 0.03844113275408745));
	r += mul(s2_7, min16float4x4(0.3815610110759735, -0.09943854063749313, -0.03345554694533348, -0.07387738674879074, 0.0737791657447815, 0.1540515124797821, 0.03529851883649826, -0.07549441605806351, 0.15208837389945984, -0.10039398074150085, -0.30285465717315674, -0.18615199625492096, -0.30540046095848083, 0.15566109120845795, -0.10216621309518814, 0.15494583547115326));
	r += mul(s2_8, min16float4x4(-0.20318442583084106, 0.05447348952293396, 0.11071895807981491, -0.036308977752923965, 0.048470355570316315, -0.1732105165719986, 0.033855464309453964, -0.002658971818163991, -0.07205332070589066, 0.11147543042898178, 0.13965627551078796, -0.01708691380918026, -0.05137181282043457, 0.11037679016590118, 0.026155587285757065, -0.1586800217628479));
	r += mul(s3_0, min16float4x4(-0.016460156068205833, 0.04048501327633858, 0.0027363302651792765, 0.05831664055585861, 0.1621120274066925, 0.011509203352034092, -0.00995957013219595, 0.040433768182992935, -0.2671785056591034, 0.015579570084810257, 0.19872575998306274, 0.20961551368236542, -0.012216374278068542, 0.05842773616313934, 0.16729699075222015, -0.02538796328008175));
	r += mul(s3_1, min16float4x4(-0.1742939054965973, 0.06540156900882721, 0.04310041666030884, 0.051504939794540405, 0.08276774734258652, -0.17865833640098572, 0.19609855115413666, -0.0829448476433754, 0.10814796388149261, -0.011020658537745476, 0.0582963302731514, -0.07310981303453445, 0.10061369091272354, -0.1239972710609436, -0.13515885174274445, -0.21196244657039642));
	r += mul(s3_2, min16float4x4(-0.07921891659498215, -0.014014335349202156, 0.06844660639762878, 0.001882751937955618, -0.07035694271326065, -0.014002678915858269, 0.13613536953926086, -0.07436155527830124, 0.13521413505077362, 0.16709578037261963, -0.07366109639406204, 0.04721774905920029, -0.05385415256023407, 0.059013731777668, -0.1488741785287857, -0.015422198921442032));
	r += mul(s3_3, min16float4x4(0.07672296464443207, 0.09762302041053772, 0.18250635266304016, 0.14043028652668, 0.05258990824222565, -0.19139741361141205, -0.008470681495964527, -0.252931147813797, -0.25203558802604675, -0.058581236749887466, -0.06736446917057037, 0.05719955638051033, 0.48144546151161194, 0.004437587223947048, -0.058960095047950745, -0.6147571802139282));
	r += mul(s3_4, min16float4x4(-0.003424181370064616, 0.009135967120528221, -0.0130657609552145, 0.1323217898607254, -0.026150407269597054, -0.1278659999370575, 0.026474183425307274, 0.23887348175048828, 0.02541246823966503, 0.05544096231460571, 0.2345220148563385, 0.0754481852054596, -0.23656514286994934, 0.01109098270535469, 0.012363149784505367, 0.2152584046125412));
	r += mul(s3_5, min16float4x4(0.0027503410819917917, 0.013923251070082188, 0.04558949917554855, -0.024266710504889488, -0.47745320200920105, -0.5565862059593201, 0.1255919486284256, -0.0776708796620369, 0.24684230983257294, -0.11892890930175781, -0.0276595801115036, -0.31364384293556213, -0.23300813138484955, 0.08552319556474686, -0.1053106039762497, -0.2646516263484955));
	r += mul(s3_6, min16float4x4(0.5913789868354797, -0.11656927317380905, 0.21644410490989685, -0.2110639065504074, 0.03943566977977753, 0.046293750405311584, -0.032280776649713516, -0.07461335510015488, -0.13318678736686707, 0.0852649137377739, -0.11140189319849014, 0.1734590381383896, 0.217523992061615, -0.12220713496208191, 0.2144724279642105, -0.12403084337711334));
	r += mul(s3_7, min16float4x4(0.1332840472459793, -0.17606347799301147, 0.1061842143535614, -0.13900712132453918, -0.10263995081186295, -0.18664465844631195, 0.01891525462269783, 0.02281845174729824, 0.04614996910095215, -0.11761099845170975, 0.035943154245615005, -0.02810036391019821, -0.10180111974477768, 0.2252773493528366, 0.07008925080299377, 0.10919215530157089));
	r += mul(s3_8, min16float4x4(-0.07695810496807098, 0.009555753320455551, -0.013120329938828945, 0.002423651050776243, -0.20520411431789398, -0.15663650631904602, 0.055290110409259796, 0.14513391256332397, 0.12828248739242554, -0.010415843687951565, -0.19099636375904083, -0.08764446526765823, -0.05636105313897133, 0.15204507112503052, -0.03316095843911171, -0.04537230357527733));
	r += min16float4(-0.004773981869220734, -0.002349425107240677, -0.004236542619764805, -0.013635722920298576);
	return r;
}
void Pass2(uint2 blockStart, uint3 tid) {
	float2 pt = float2(GetInputPt());
	uint2 gxy = Rmp8x8(tid.x) + blockStart;
	uint2 size = GetInputSize();
	if (gxy.x >= size.x || gxy.y >= size.y) {
		return;
	}
	float2 pos = (gxy + 0.5) * pt;
	min16float4 s0_0 = l0(-1.0, -1.0);
	min16float4 s0_1 = l0(0.0, -1.0);
	min16float4 s0_2 = l0(1.0, -1.0);
	min16float4 s0_3 = l0(-1.0, 0.0);
	min16float4 s0_4 = l0(0.0, 0.0);
	min16float4 s0_5 = l0(1.0, 0.0);
	min16float4 s0_6 = l0(-1.0, 1.0);
	min16float4 s0_7 = l0(0.0, 1.0);
	min16float4 s0_8 = l0(1.0, 1.0);
	min16float4 s1_0 = max(-s0_0, 0.0);
	min16float4 s1_1 = max(-s0_1, 0.0);
	min16float4 s1_2 = max(-s0_2, 0.0);
	min16float4 s1_3 = max(-s0_3, 0.0);
	min16float4 s1_4 = max(-s0_4, 0.0);
	min16float4 s1_5 = max(-s0_5, 0.0);
	min16float4 s1_6 = max(-s0_6, 0.0);
	min16float4 s1_7 = max(-s0_7, 0.0);
	min16float4 s1_8 = max(-s0_8, 0.0);
	s0_0 = max(s0_0, 0.0);
	s0_1 = max(s0_1, 0.0);
	s0_2 = max(s0_2, 0.0);
	s0_3 = max(s0_3, 0.0);
	s0_4 = max(s0_4, 0.0);
	s0_5 = max(s0_5, 0.0);
	s0_6 = max(s0_6, 0.0);
	s0_7 = max(s0_7, 0.0);
	s0_8 = max(s0_8, 0.0);
	min16float4 s2_0 = l1(-1.0, -1.0);
	min16float4 s2_1 = l1(0.0, -1.0);
	min16float4 s2_2 = l1(1.0, -1.0);
	min16float4 s2_3 = l1(-1.0, 0.0);
	min16float4 s2_4 = l1(0.0, 0.0);
	min16float4 s2_5 = l1(1.0, 0.0);
	min16float4 s2_6 = l1(-1.0, 1.0);
	min16float4 s2_7 = l1(0.0, 1.0);
	min16float4 s2_8 = l1(1.0, 1.0);
	min16float4 s3_0 = max(-s2_0, 0.0);
	min16float4 s3_1 = max(-s2_1, 0.0);
	min16float4 s3_2 = max(-s2_2, 0.0);
	min16float4 s3_3 = max(-s2_3, 0.0);
	min16float4 s3_4 = max(-s2_4, 0.0);
	min16float4 s3_5 = max(-s2_5, 0.0);
	min16float4 s3_6 = max(-s2_6, 0.0);
	min16float4 s3_7 = max(-s2_7, 0.0);
	min16float4 s3_8 = max(-s2_8, 0.0);
	s2_0 = max(s2_0, 0.0);
	s2_1 = max(s2_1, 0.0);
	s2_2 = max(s2_2, 0.0);
	s2_3 = max(s2_3, 0.0);
	s2_4 = max(s2_4, 0.0);
	s2_5 = max(s2_5, 0.0);
	s2_6 = max(s2_6, 0.0);
	s2_7 = max(s2_7, 0.0);
	s2_8 = max(s2_8, 0.0);
	conv1_0[gxy] = f0(pt, pos, s0_0, s0_1, s0_2, s0_3, s0_4, s0_5, s0_6, s0_7, s0_8, s1_0, s1_1, s1_2, s1_3, s1_4, s1_5, s1_6, s1_7, s1_8, s2_0, s2_1, s2_2, s2_3, s2_4, s2_5, s2_6, s2_7, s2_8, s3_0, s3_1, s3_2, s3_3, s3_4, s3_5, s3_6, s3_7, s3_8);
	conv1_1[gxy] = f1(pt, pos, s0_0, s0_1, s0_2, s0_3, s0_4, s0_5, s0_6, s0_7, s0_8, s1_0, s1_1, s1_2, s1_3, s1_4, s1_5, s1_6, s1_7, s1_8, s2_0, s2_1, s2_2, s2_3, s2_4, s2_5, s2_6, s2_7, s2_8, s3_0, s3_1, s3_2, s3_3, s3_4, s3_5, s3_6, s3_7, s3_8);
}
//!PASS 3
//!DESC CuNNy-2x8C-BILINEAR-CHROMA-NVL-DN-conv2
//!BLOCK_SIZE 8
//!NUM_THREADS 64
//!IN conv1_0, conv1_1
//!OUT conv2_0, conv2_1
#define O(t, p) t.SampleLevel(SP, pos + p * pt, 0)
#define l0(x, y) O(conv1_0, float2(x, y))
#define l1(x, y) O(conv1_1, float2(x, y))
float4 f0(float2 pt, float2 pos, min16float4 s0_0, min16float4 s0_1, min16float4 s0_2, min16float4 s0_3, min16float4 s0_4, min16float4 s0_5, min16float4 s0_6, min16float4 s0_7, min16float4 s0_8, min16float4 s1_0, min16float4 s1_1, min16float4 s1_2, min16float4 s1_3, min16float4 s1_4, min16float4 s1_5, min16float4 s1_6, min16float4 s1_7, min16float4 s1_8, min16float4 s2_0, min16float4 s2_1, min16float4 s2_2, min16float4 s2_3, min16float4 s2_4, min16float4 s2_5, min16float4 s2_6, min16float4 s2_7, min16float4 s2_8, min16float4 s3_0, min16float4 s3_1, min16float4 s3_2, min16float4 s3_3, min16float4 s3_4, min16float4 s3_5, min16float4 s3_6, min16float4 s3_7, min16float4 s3_8) {
	min16float4 r = 0.0;
	r += mul(s0_0, min16float4x4(0.0006936709978617728, -0.023467568680644035, 0.055702224373817444, -0.05314603075385094, 0.1664094775915146, 0.05697822943329811, 0.0689648911356926, 0.05203510448336601, -0.08326886594295502, -0.1607474684715271, 0.03479771316051483, -0.050748057663440704, 0.018460532650351524, -0.15706928074359894, 0.0024751457385718822, 0.03788534179329872));
	r += mul(s0_1, min16float4x4(-0.08817896246910095, 0.06040923297405243, -0.08324473351240158, 0.04228654503822327, -0.1273193210363388, 0.14794766902923584, 0.040711380541324615, 0.014780250377953053, 0.14602574706077576, -0.4516376852989197, -0.09590409696102142, -0.03525751084089279, 0.029199590906500816, -0.11526808887720108, 0.04963720217347145, -0.1460120975971222));
	r += mul(s0_2, min16float4x4(0.007297651842236519, -0.03070920892059803, -0.02517312578856945, -0.02950897626578808, -0.14573553204536438, 0.09742395579814911, 0.16206486523151398, 0.04606015607714653, 0.020481664687395096, -0.04720915108919144, -0.0666252002120018, -0.07136617600917816, 0.05296050384640694, -0.020056474953889847, -0.06991195678710938, -0.03053458221256733));
	r += mul(s0_3, min16float4x4(-0.0692104771733284, 0.024258878082036972, -0.04125134274363518, -0.03601425513625145, 0.5132020115852356, 0.1850457340478897, 0.02528279274702072, -0.096110999584198, -0.04519202560186386, 0.06130116060376167, -0.030213389545679092, 0.0866919681429863, 0.03601234033703804, -0.24664898216724396, -0.015568867325782776, 0.08905234187841415));
	r += mul(s0_4, min16float4x4(0.015568043105304241, -0.06496447324752808, 0.23977214097976685, -0.0793694481253624, -0.370400071144104, -0.10776451230049133, 0.12660935521125793, -0.2319520115852356, 0.06602051109075546, 0.2707275152206421, 0.2508750259876251, -0.032727260142564774, 0.202747642993927, -0.3517983853816986, -0.03757869824767113, -0.35004130005836487));
	r += mul(s0_5, min16float4x4(0.006698685698211193, -0.021034713834524155, -0.019684938713908195, 0.09978768229484558, 0.045736875385046005, -0.07437437772750854, 0.025337040424346924, -0.011277908459305763, 0.2416926771402359, -0.056918561458587646, -0.16450974345207214, -0.02714688889682293, 0.25293734669685364, 0.029810434207320213, -0.14868290722370148, 0.05228980630636215));
	r += mul(s0_6, min16float4x4(-0.09161387383937836, 0.002737549366429448, 0.0806775689125061, 0.03293939307332039, 0.14786724746227264, -0.057315316051244736, 0.16209781169891357, 0.078780896961689, -0.11813880503177643, -0.03487301617860794, 0.11214851588010788, 0.12476473301649094, -0.16751869022846222, 0.14339704811573029, 0.1514796018600464, 0.17178791761398315));
	r += mul(s0_7, min16float4x4(0.04971242696046829, -0.06620419770479202, -0.1319723129272461, -0.33104947209358215, -0.09300819039344788, -0.0017028466099873185, -0.044039271771907806, -0.05700474977493286, -0.02787500061094761, -0.007013384252786636, -0.009331892244517803, -0.12258981913328171, 0.16343867778778076, 0.14126203954219818, -0.22210173308849335, -0.4459761381149292));
	r += mul(s0_8, min16float4x4(-0.029008181765675545, 0.05695568025112152, 0.01647283509373665, 0.10714980959892273, -0.015319552272558212, -0.00088654481805861, 0.012555195949971676, 0.006797507405281067, 0.04598618298768997, 0.015760576352477074, -0.037111796438694, -0.026396047323942184, 0.4247639775276184, 0.11623252928256989, 0.018258269876241684, 0.1229136660695076));
	r += mul(s1_0, min16float4x4(-0.07509884983301163, 0.03886820375919342, -0.03796366974711418, 0.008088253438472748, -0.013077693991363049, -0.09924427419900894, -0.033538609743118286, -0.09357958287000656, -0.10016641765832901, -0.0844649001955986, -0.17387345433235168, -0.15106627345085144, 0.010961749590933323, -0.013292098417878151, 0.013727391138672829, 0.021741652861237526));
	r += mul(s1_1, min16float4x4(0.06764233112335205, -0.04748056083917618, -0.007082194089889526, -0.04768877476453781, 0.26073846220970154, -0.26917940378189087, -0.0153660848736763, -0.024189569056034088, 0.1874481588602066, -0.1460166722536087, 0.004895273130387068, -0.07777723670005798, -0.06557921320199966, -0.03847217559814453, 0.024904178455471992, 0.010668233036994934));
	r += mul(s1_2, min16float4x4(-0.0496596023440361, -0.01696019619703293, -0.027372553944587708, 0.0014582204166799784, -0.05745751038193703, -0.05651717633008957, 0.08193974196910858, 0.04720563441514969, -0.16419640183448792, 0.013925058767199516, 0.01342278067022562, -0.01287272572517395, -0.013795865699648857, 0.006396760698407888, 0.026660585775971413, -0.01151022408157587));
	r += mul(s1_3, min16float4x4(-0.09101451933383942, 0.10718406736850739, -0.008742382749915123, -0.01652827113866806, 0.1248646229505539, 0.01815023273229599, 0.12329335510730743, -0.29028114676475525, -0.05024190992116928, 0.05818598344922066, -0.17536339163780212, -0.010090125724673271, -0.11059531569480896, -0.16746973991394043, -0.04615575075149536, -0.00815697479993105));
	r += mul(s1_4, min16float4x4(0.10621212422847748, 0.5245338082313538, 0.12202595919370651, -0.4328248202800751, -0.11986027657985687, 0.05140148475766182, 0.19459021091461182, 0.27444854378700256, 0.00442885234951973, 0.033080797642469406, 0.029751740396022797, -0.008566537871956825, 0.14176341891288757, -0.05618257448077202, 0.11650732159614563, -0.03348875045776367));
	r += mul(s1_5, min16float4x4(0.04122026637196541, 0.0551057830452919, 0.16645018756389618, -0.07009676098823547, -0.05944078043103218, 0.0837307721376419, -0.1519344300031662, 0.05040542781352997, 0.2180834263563156, -0.07103188335895538, -0.06694824248552322, -0.07201611995697021, -0.09057409316301346, -0.01097922958433628, -0.09067726880311966, -0.032956697046756744));
	r += mul(s1_6, min16float4x4(0.03496919944882393, 0.01880381628870964, -0.18994222581386566, -0.0358911007642746, -0.08758969604969025, 0.06717382371425629, -0.048301633447408676, -0.04885971546173096, 0.10215872526168823, -0.03772885724902153, 0.02869761362671852, 0.01772778481245041, 0.06272377818822861, -0.03229393810033798, -0.02091193199157715, -0.03663463890552521));
	r += mul(s1_7, min16float4x4(0.06389512121677399, -1.1820499897003174, -0.07760250568389893, 0.17365939915180206, -0.05725720152258873, 0.09035013616085052, -0.09354525059461594, 0.02505703642964363, -0.07293552905321121, -0.01875598542392254, -0.029561128467321396, 0.08861638605594635, 0.018518252298235893, -0.008392426185309887, -0.1164211705327034, -0.06935428082942963));
	r += mul(s1_8, min16float4x4(-0.0023371633142232895, -0.15439824759960175, -0.045295894145965576, -0.216218039393425, -0.06936819851398468, 0.059692610055208206, 0.010129396803677082, 0.07343055307865143, 0.12744076550006866, 0.006107857916504145, -0.006800741422921419, -0.004088897258043289, 0.01687788963317871, -0.006221074145287275, -0.05525081604719162, -0.03353184461593628));
	r += mul(s2_0, min16float4x4(0.03183916583657265, 0.05246476083993912, -0.09774957597255707, -0.017125533893704414, 0.10319302976131439, 0.17807145416736603, 0.2380945235490799, 0.4095302224159241, -0.021588033065199852, 0.009425555355846882, 0.0906328335404396, -0.014828118495643139, -0.35376355051994324, -0.12902572751045227, -0.03480231389403343, -0.045752957463264465));
	r += mul(s2_1, min16float4x4(0.11685238778591156, 0.05404062941670418, -0.0690557211637497, 0.004592872690409422, -0.2673390805721283, -0.07461860030889511, 0.05978778004646301, -0.11263556033372879, -0.046812355518341064, 0.06910555809736252, 0.14587002992630005, 0.049051206558942795, -0.03166932985186577, -0.04913853853940964, 0.11778116226196289, -0.17019811272621155));
	r += mul(s2_2, min16float4x4(-0.03132929280400276, 0.0790189802646637, 0.07875511795282364, 0.06520543247461319, 0.23095178604125977, -0.03988250717520714, -0.1697094887495041, -0.006677775178104639, -0.04357971251010895, 0.061080340296030045, 0.09789617359638214, 0.026962779462337494, 0.10928826779127121, -0.15085548162460327, -0.20003452897071838, -0.11270664632320404));
	r += mul(s2_3, min16float4x4(0.07449797540903091, -0.09757500886917114, -0.06067802757024765, 0.003985327668488026, 0.04869193211197853, -0.13613544404506683, 0.32434865832328796, 0.2476775199174881, -0.00526228966191411, 0.043346017599105835, 0.012725109234452248, -0.03542418032884598, -0.30949196219444275, -0.05909980833530426, -0.19984669983386993, 0.05703241378068924));
	r += mul(s2_4, min16float4x4(0.07450588047504425, -0.14700421690940857, -0.4365367293357849, -0.6250028610229492, -0.27843594551086426, -0.08887854218482971, 0.1597607582807541, -0.33885490894317627, 0.21884076297283173, -0.006361998617649078, -0.05545923113822937, -0.1579013615846634, -0.44906190037727356, -0.19776023924350739, 0.11527115106582642, -0.07042470574378967));
	r += mul(s2_5, min16float4x4(-0.0332208052277565, -0.04221689701080322, 0.11017132550477982, 0.08706868439912796, 0.22000594437122345, 0.04918753728270531, -0.15784429013729095, -0.009725763462483883, -0.06857385486364365, -0.05477815121412277, -0.011043276637792587, 0.06336972862482071, 0.046938758343458176, 0.09636536985635757, -0.09251514822244644, 0.0055954246781766415));
	r += mul(s2_6, min16float4x4(0.06850089877843857, -0.07080584019422531, 0.06034034863114357, -0.0018944153562188148, -0.10716614127159119, 0.05860092118382454, -0.12259475886821747, -0.06808968633413315, 0.03185957297682762, 0.018544118851423264, 0.012427957728505135, -0.003658240893855691, -0.059177983552217484, 0.025297338142991066, 0.1508776843547821, 0.07035674899816513));
	r += mul(s2_7, min16float4x4(-0.08033362030982971, 0.009834802709519863, -0.0827503502368927, -0.1019400879740715, 0.0033075909595936537, 0.10519428551197052, 0.07180599123239517, -0.020935891196131706, 0.015052920207381248, -0.0953749492764473, -0.17519508302211761, -0.0695948526263237, -0.06523546576499939, 0.09371182322502136, 0.22102738916873932, 0.1981939822435379));
	r += mul(s2_8, min16float4x4(0.015928423032164574, 0.021535953506827354, -0.016767660155892372, 0.0355553962290287, -0.06857272982597351, 0.07785831391811371, 0.07103385031223297, 0.022585630416870117, -0.008717034012079239, 0.011028452776372433, 0.014217909425497055, 0.0193172600120306, -0.01282967533916235, 0.004959693644195795, 0.029942220076918602, -0.014255456626415253));
	r += mul(s3_0, min16float4x4(-0.12008517980575562, -0.21455618739128113, -0.0010392683325335383, -0.06394381076097488, 0.05334855616092682, 0.1658109873533249, -0.047176580876111984, 0.027139777317643166, 0.03747755289077759, 0.03751542046666145, -0.02801639400422573, 0.07980610430240631, -0.02298508584499359, -0.01613602042198181, 0.04895015433430672, 0.017529064789414406));
	r += mul(s3_1, min16float4x4(-0.19189424812793732, -0.4636482000350952, -0.10807270556688309, -0.04188625514507294, -0.12186338007450104, 0.13433237373828888, 0.0017635251861065626, 0.04976605251431465, -0.08959800750017166, 0.03836594521999359, -0.026448607444763184, -0.15268129110336304, 0.03934655711054802, -0.018038176000118256, 0.08325228840112686, 0.055177949368953705));
	r += mul(s3_2, min16float4x4(-0.024317795410752296, -0.20970353484153748, -0.08618152141571045, -0.1710001677274704, -0.05801490694284439, -0.013132713735103607, -0.027437537908554077, -0.03140326589345932, 0.2534290552139282, 0.0628889799118042, -0.038725804537534714, -0.0617886558175087, 0.0012779379030689597, 0.07894130796194077, 0.010947075672447681, 0.061156779527664185));
	r += mul(s3_3, min16float4x4(-0.26266342401504517, 0.07841318845748901, 0.08036014437675476, 0.23228766024112701, -0.0018463650485500693, -0.07630940526723862, 0.0492669902741909, -0.08818750083446503, 0.05035892501473427, -0.045245423913002014, 0.026719702407717705, 0.024125127121806145, -0.0893751010298729, 0.03047507256269455, 0.019210975617170334, 0.011915957555174828));
	r += mul(s3_4, min16float4x4(0.34665653109550476, -0.12471909821033478, 0.8741152882575989, -0.0007195948273874819, -0.1557612419128418, -0.19961018860340118, 0.049607452005147934, 0.0901288390159607, 0.3097105026245117, -0.15596064925193787, -0.1425052434206009, -0.02125087007880211, 0.24316778779029846, 0.07018314301967621, 0.21240012347698212, 0.02423432096838951));
	r += mul(s3_5, min16float4x4(0.1745307594537735, -0.0007587933796457946, -0.044077929109334946, -0.07660915702581406, -0.034286633133888245, 0.048259980976581573, 0.1587369740009308, 0.012833990156650543, 0.6796977519989014, 0.035998888313770294, -0.3490343391895294, -0.14797663688659668, 0.02966243401169777, -0.03706430271267891, 0.044852372258901596, -0.06419166177511215));
	r += mul(s3_6, min16float4x4(-0.09133990108966827, 8.617687853984535e-05, -0.05812809616327286, 0.09702067077159882, 0.11403190344572067, 0.03228142112493515, -0.08417211472988129, -0.05159010365605354, -0.030830109491944313, 0.0649973526597023, -0.047446273267269135, 0.09060252457857132, 0.02902599796652794, 0.019079219549894333, 0.008342267945408821, -0.021068952977657318));
	r += mul(s3_7, min16float4x4(-0.02213655598461628, 0.015452111139893532, 0.12599867582321167, 0.01195195596665144, -0.03698785603046417, 0.04309576004743576, 0.07533213496208191, 0.13790777325630188, -0.12922433018684387, 0.10939928889274597, -0.18942725658416748, -0.19010262191295624, -0.018285004422068596, -0.028964795172214508, -0.06568130105733871, -0.019083451479673386));
	r += mul(s3_8, min16float4x4(0.002689947606995702, -0.006964691448956728, 0.017254546284675598, 0.0318429172039032, 0.004574540536850691, 0.010088370181620121, -0.027381066232919693, -0.019934285432100296, 0.20076219737529755, 0.041627321392297745, -0.11554022133350372, -0.09804406762123108, -0.012218884192407131, -0.004850990604609251, 0.02499169297516346, -0.027065230533480644));
	r += min16float4(0.003229890251532197, -0.005147153045982122, -0.0023788632825016975, -0.006776236463338137);
	return r;
}
float4 f1(float2 pt, float2 pos, min16float4 s0_0, min16float4 s0_1, min16float4 s0_2, min16float4 s0_3, min16float4 s0_4, min16float4 s0_5, min16float4 s0_6, min16float4 s0_7, min16float4 s0_8, min16float4 s1_0, min16float4 s1_1, min16float4 s1_2, min16float4 s1_3, min16float4 s1_4, min16float4 s1_5, min16float4 s1_6, min16float4 s1_7, min16float4 s1_8, min16float4 s2_0, min16float4 s2_1, min16float4 s2_2, min16float4 s2_3, min16float4 s2_4, min16float4 s2_5, min16float4 s2_6, min16float4 s2_7, min16float4 s2_8, min16float4 s3_0, min16float4 s3_1, min16float4 s3_2, min16float4 s3_3, min16float4 s3_4, min16float4 s3_5, min16float4 s3_6, min16float4 s3_7, min16float4 s3_8) {
	min16float4 r = 0.0;
	r += mul(s0_0, min16float4x4(0.08527729660272598, -0.05509471520781517, 0.005325425416231155, 0.0100432513281703, -0.2100515514612198, -0.012224284932017326, 0.007935754954814911, -0.016599280759692192, 0.1626291424036026, -0.07132626324892044, -0.08404842019081116, -0.07637490332126617, -0.04544537514448166, 0.04962373897433281, 0.015848644077777863, -0.011773749254643917));
	r += mul(s0_1, min16float4x4(-0.14521533250808716, -0.14297713339328766, -0.07790308445692062, 0.02818847820162773, -0.009592280723154545, 0.027257733047008514, 0.0032735138665884733, -0.0014655378181487322, -0.12734980881214142, -0.14660854637622833, 0.05798723176121712, 0.08804884552955627, 0.06971821933984756, 0.02827189490199089, 0.11095551401376724, 0.04239450395107269));
	r += mul(s0_2, min16float4x4(0.01763329654932022, -0.03295987471938133, -0.08934374153614044, -0.03184894844889641, -0.004419566597789526, -0.13523085415363312, 0.07050267606973648, -0.026659000664949417, 0.20100629329681396, 0.19987082481384277, 0.11337057501077652, 0.014219053089618683, 0.04230022057890892, 0.020824186503887177, 0.03866429626941681, -0.012616043910384178));
	r += mul(s0_3, min16float4x4(-0.04754343256354332, -0.03047839365899563, -0.06813016533851624, 0.05014678090810776, -0.2597365081310272, -0.11989317834377289, -0.04662815108895302, -0.32890549302101135, 0.014985483139753342, 0.07413304597139359, 0.2438761293888092, -0.30625760555267334, 0.05263528600335121, -0.12707550823688507, 0.2330312281847, -0.0020376350730657578));
	r += mul(s0_4, min16float4x4(-0.25905388593673706, 0.30784791707992554, -0.3330681324005127, -0.04269047826528549, -0.08558571338653564, -0.2246197909116745, 0.18003834784030914, 0.03625161945819855, 0.38909193873405457, 0.03452278673648834, 0.04131866618990898, 0.13817374408245087, 0.6613662242889404, -0.03572599217295647, 0.41577383875846863, 0.06617887318134308));
	r += mul(s0_5, min16float4x4(0.06024843826889992, 0.33016785979270935, 0.03773437440395355, 0.008544482290744781, 0.025485150516033173, 0.06256485730409622, -0.0002803668612614274, -0.017588097602128983, -0.198908731341362, -0.21023736894130707, -0.11989014595746994, 0.02562602609395981, -0.26647332310676575, -0.2446439415216446, -0.09588678181171417, -0.0005875224014744163));
	r += mul(s0_6, min16float4x4(0.048170775175094604, 0.041796475648880005, -0.008409077301621437, 0.032985005527734756, -0.010345378890633583, 0.11318805813789368, 0.014845645986497402, -0.028563661500811577, 0.05016867443919182, -0.20658977329730988, -0.06137615442276001, -0.10237646102905273, 0.34054452180862427, -0.44110360741615295, 0.3718951344490051, -0.17125217616558075));
	r += mul(s0_7, min16float4x4(0.11780523508787155, -0.11534449458122253, 0.2805708050727844, -0.09872013330459595, 0.11857926100492477, 0.09496515989303589, 0.07594640552997589, -0.016444914042949677, -0.03260895237326622, -0.06540805846452713, -0.07446102052927017, 0.011604848317801952, 0.29815995693206787, -1.0351554155349731, 0.07160988450050354, 0.1163562759757042));
	r += mul(s0_8, min16float4x4(0.049724727869033813, -0.04201868176460266, -0.03386285528540611, 0.05494847893714905, 0.03524082899093628, 0.013338085263967514, -0.030138101428747177, -0.022732283920049667, -0.07734717428684235, 0.06504528224468231, 0.047307875007390976, 0.06929589062929153, -0.14974407851696014, 0.09637086093425751, -0.007811505347490311, 0.038864072412252426));
	r += mul(s1_0, min16float4x4(0.03628070652484894, 0.009126289747655392, -0.024434512481093407, -0.009833276271820068, -0.051518939435482025, -0.048869237303733826, -0.13115829229354858, -0.01370997354388237, 0.11567559838294983, -0.1312515139579773, -0.0326056033372879, -0.023631222546100616, -0.025528760626912117, 0.08494550734758377, 0.013274476863443851, -0.006875751074403524));
	r += mul(s1_1, min16float4x4(-0.04606857895851135, -0.14013639092445374, -0.08709002286195755, -0.03365746885538101, -0.06867603212594986, -0.09275621920824051, 0.005101282149553299, 0.005285687744617462, -0.189865842461586, -0.021164095029234886, -0.02922542206943035, 0.05627484247088432, 0.037967294454574585, 0.03841489180922508, 0.02809629775583744, -0.003369690617546439));
	r += mul(s1_2, min16float4x4(-0.02480918914079666, -0.02703663520514965, -0.03345745801925659, 0.0076114581897854805, -0.028873097151517868, 0.07691609859466553, -0.02015131711959839, 0.005550968460738659, 0.1179490014910698, 0.11670509725809097, 0.009183337911963463, -0.020932001993060112, 0.01891777291893959, 0.009851569309830666, 0.00493756914511323, -0.0018632618011906743));
	r += mul(s1_3, min16float4x4(0.10648070275783539, 0.007697935216128826, -0.11106149852275848, -0.032035235315561295, 0.19253422319889069, -0.06024952605366707, 0.13336320221424103, 0.33778223395347595, -0.06087880954146385, 0.08570115268230438, 0.1264665275812149, -0.11937517672777176, 0.006877488922327757, -0.06476853042840958, -0.09574773162603378, -0.0349595844745636));
	r += mul(s1_4, min16float4x4(-0.205887570977211, -0.08212797343730927, 0.13299815356731415, 0.01435101218521595, 0.3205445110797882, 0.09421592950820923, 0.20538830757141113, -0.4406920075416565, 0.2193778157234192, -0.08297183364629745, 0.12109774351119995, 0.1594436764717102, -0.059691283851861954, -0.15507465600967407, 0.024470210075378418, -0.007900753989815712));
	r += mul(s1_5, min16float4x4(0.15863744914531708, -0.15909123420715332, -0.09350614994764328, -0.023621676489710808, -0.12898337841033936, -0.07019854336977005, -0.07065750658512115, 0.04452520236372948, 0.07781445235013962, -0.10781103372573853, 0.0019038397585973144, -0.07447035610675812, 0.020453117787837982, -0.018667984753847122, -0.003549072425812483, 0.006287619937211275));
	r += mul(s1_6, min16float4x4(-0.05039127916097641, 0.0453045591711998, 0.040433164685964584, -0.1557670682668686, -0.027862533926963806, -0.12455686181783676, 0.020302288234233856, 0.08239096403121948, -0.037408944219350815, 0.014385251328349113, -0.048748403787612915, 0.014129573479294777, 0.005942569114267826, -0.026740115135908127, 0.11453823000192642, -0.0625547245144844));
	r += mul(s1_7, min16float4x4(-0.026083655655384064, 0.48785340785980225, -0.16189627349376678, 0.1820676177740097, 0.030700769275426865, -0.15473516285419464, -0.0029150203336030245, -0.06568731367588043, 0.08099482208490372, -0.0484655424952507, -0.07250670343637466, -0.021315645426511765, -0.031191740185022354, -0.022516291588544846, -0.019080158323049545, 0.06437235325574875));
	r += mul(s1_8, min16float4x4(0.04267897829413414, 0.1549326330423355, 0.19681666791439056, 0.02855127677321434, -0.08070115000009537, -0.003808574518188834, 0.051428232342004776, 0.011001489125192165, -0.04618997126817703, -0.021224774420261383, -0.057809822261333466, 0.002676319098100066, 0.02482876554131508, -0.012263812124729156, 0.028737613931298256, -0.010763930156826973));
	r += mul(s2_0, min16float4x4(-0.09992197901010513, 0.01717148721218109, 0.04452630132436752, 0.070052370429039, -0.10171164572238922, 0.3056414723396301, 0.20488323271274567, 0.008180373348295689, 0.022033991292119026, -0.00014680555614177138, -0.06959042698144913, -0.03869105130434036, -0.1325601190328598, -0.1715225875377655, -0.09490475803613663, 0.06619954854249954));
	r += mul(s2_1, min16float4x4(-0.1347290426492691, -0.032794803380966187, -0.06367740780115128, 0.03321133553981781, 0.2864004969596863, 0.22119088470935822, 0.10845736414194107, -0.026530293747782707, -0.024114638566970825, 0.15517164766788483, 0.012972317636013031, 0.040681466460227966, 0.39609768986701965, 0.17326213419437408, 0.51151442527771, -0.03445068374276161));
	r += mul(s2_2, min16float4x4(-0.086729995906353, -0.053326815366744995, 0.021133553236722946, -0.013737154193222523, -0.1061924397945404, 0.000539488042704761, -0.05747669190168381, 0.04650326445698738, 0.035815320909023285, 0.05576733127236366, 0.02825319953262806, -0.027463732287287712, 0.019751545041799545, 0.08209750056266785, -0.01709905080497265, 0.02326824516057968));
	r += mul(s2_3, min16float4x4(-0.08766236156225204, -0.008805693127214909, -0.0007165209390223026, -0.03535832092165947, -0.073100745677948, 0.022773737087845802, -0.44416406750679016, -0.1055268868803978, -0.011776323430240154, 0.10082831233739853, 0.04111269488930702, 0.0397556908428669, 0.13781937956809998, 0.10401748865842819, 0.13243000209331512, -2.5377707481384277));
	r += mul(s2_4, min16float4x4(-0.2916058301925659, 0.16664130985736847, -0.10695594549179077, 0.13818103075027466, 0.1427544355392456, -0.4428847134113312, 0.03388502448797226, -0.04498482868075371, -0.021763917058706284, -0.1509414166212082, 0.011788144707679749, -0.009329543448984623, 0.11646192520856857, -0.2732001543045044, 0.7980926036834717, -0.2374727874994278));
	r += mul(s2_5, min16float4x4(0.04945896193385124, 0.15174557268619537, -0.07004430145025253, -0.007716307882219553, -0.13338613510131836, -0.11838977038860321, 0.05515538901090622, 0.04932182654738426, -0.12633772194385529, -0.027804939076304436, -0.1236930787563324, 0.020887771621346474, -0.06393133848905563, -0.1543947011232376, 0.039156943559646606, 0.05886058509349823));
	r += mul(s2_6, min16float4x4(0.02885008603334427, -0.017878638580441475, 0.005047644954174757, -0.08910489082336426, 0.0675879642367363, -0.06518769264221191, 0.15478765964508057, -0.12112551182508469, -0.027180178090929985, 0.0063911243341863155, 0.0036823705304414034, 0.07980881631374359, -0.004192679189145565, -0.13623034954071045, -0.0877499058842659, 0.13450077176094055));
	r += mul(s2_7, min16float4x4(0.14483118057250977, -0.09788855910301208, 0.10705780982971191, -0.037882380187511444, -0.17337293922901154, 0.2823652923107147, -0.03648848831653595, 0.07323526591062546, -0.0020373044535517693, -0.023465674370527267, 0.05185751989483833, 0.02951982617378235, 0.05255972594022751, -0.19559632241725922, -0.05434083193540573, 0.022813456133008003));
	r += mul(s2_8, min16float4x4(0.07341407984495163, -0.047722697257995605, -0.010250122286379337, -0.049874380230903625, -0.027071481570601463, 0.07522697001695633, -0.01019743550568819, 0.0572076216340065, -0.00979800894856453, -0.03754613175988197, -0.024015044793486595, -0.0341716893017292, -0.006974308285862207, -0.06622130423784256, 0.08836565911769867, 0.01921563409268856));
	r += mul(s3_0, min16float4x4(0.23177236318588257, 0.019344009459018707, 0.0711946114897728, -0.09666384011507034, -0.10401343554258347, 0.04616266489028931, 0.10432996600866318, 0.052640270441770554, -0.08993660658597946, 0.19778554141521454, 0.12939734756946564, 0.012549133971333504, 0.07282951474189758, -0.10211873799562454, -0.028067834675312042, -0.025366904214024544));
	r += mul(s3_1, min16float4x4(0.05950276553630829, -0.13332661986351013, -0.06558285653591156, -0.007105631288141012, 0.06517713516950607, 0.1881760209798813, -0.13037866353988647, -0.019394129514694214, 0.46035540103912354, 0.26856115460395813, 0.24071680009365082, -0.09472660720348358, 0.05959055945277214, -0.12926091253757477, 0.003357438836246729, -0.027599141001701355));
	r += mul(s3_2, min16float4x4(0.20118318498134613, 0.05193200707435608, 0.0942867174744606, -0.015916215255856514, -0.002267577452585101, 0.03061249665915966, 0.020104970782995224, -0.009185338392853737, -0.15575438737869263, 0.07053156942129135, 0.04238615557551384, 0.08285152167081833, -0.07833246886730194, -0.10944794863462448, 0.015595667995512486, -0.0012533015105873346));
	r += mul(s3_3, min16float4x4(0.2716008722782135, 0.05310579761862755, 0.12066339701414108, -0.24992990493774414, -0.05592998489737511, -0.06408412009477615, -0.381326287984848, 0.15620975196361542, 0.01316308043897152, -0.14452415704727173, -0.10751848667860031, -0.15845073759555817, 0.006914273835718632, 0.04369199648499489, 0.024003978818655014, -0.1103191077709198));
	r += mul(s3_4, min16float4x4(0.4129994809627533, -0.10578735172748566, 0.308633416891098, -0.24059940874576569, -0.13014964759349823, -0.06362389773130417, 0.0710371732711792, -0.16741108894348145, 0.029465314000844955, -0.48158594965934753, -0.22159752249717712, -0.04280070960521698, -0.09790016710758209, 0.19610674679279327, 0.011046386323869228, 0.03404490277171135));
	r += mul(s3_5, min16float4x4(-0.022084170952439308, -0.12340129911899567, -0.06567427515983582, -0.019284848123788834, 0.06860311329364777, -0.04746868833899498, -0.029425140470266342, -0.0008983623702079058, -0.12085883319377899, -0.07214387506246567, 0.022636622190475464, 0.0779116079211235, 0.041732728481292725, 0.12646421790122986, 0.04941021278500557, 0.014739662408828735));
	r += mul(s3_6, min16float4x4(0.060779064893722534, -0.08496049791574478, -0.12016883492469788, -0.32317012548446655, -0.08288583159446716, 0.14116285741329193, 0.08217355608940125, 0.054538995027542114, -0.04508177563548088, 0.0820346474647522, 0.020760666579008102, 0.05385097488760948, 0.010250489227473736, 0.026674099266529083, -0.0013938540359959006, 0.019708756357431412));
	r += mul(s3_7, min16float4x4(-0.058459073305130005, -0.07482896745204926, -0.12388956546783447, -0.01085614413022995, -0.010127187706530094, 0.06643970310688019, -0.0032047629356384277, 0.03694337606430054, 0.022768009454011917, 0.15574893355369568, 0.0886780396103859, -0.0490969642996788, -0.017629968002438545, -0.03117525950074196, 0.018572064116597176, -0.03452732414007187));
	r += mul(s3_8, min16float4x4(-0.02450479567050934, 0.090352863073349, 0.022826818749308586, 0.0012730304151773453, 0.042759403586387634, -0.005192437209188938, 0.031009718775749207, -0.026182252913713455, -0.11341948807239532, 0.09499836713075638, 0.007129739038646221, 0.06597524136304855, -0.00322897732257843, -0.03279184550046921, -0.03267504274845123, 0.002904631197452545));
	r += min16float4(0.004463737830519676, -0.004632571246474981, 0.0035999403335154057, -0.0029498699586838484);
	return r;
}
void Pass3(uint2 blockStart, uint3 tid) {
	float2 pt = float2(GetInputPt());
	uint2 gxy = Rmp8x8(tid.x) + blockStart;
	uint2 size = GetInputSize();
	if (gxy.x >= size.x || gxy.y >= size.y) {
		return;
	}
	float2 pos = (gxy + 0.5) * pt;
	min16float4 s0_0 = l0(-1.0, -1.0);
	min16float4 s0_1 = l0(0.0, -1.0);
	min16float4 s0_2 = l0(1.0, -1.0);
	min16float4 s0_3 = l0(-1.0, 0.0);
	min16float4 s0_4 = l0(0.0, 0.0);
	min16float4 s0_5 = l0(1.0, 0.0);
	min16float4 s0_6 = l0(-1.0, 1.0);
	min16float4 s0_7 = l0(0.0, 1.0);
	min16float4 s0_8 = l0(1.0, 1.0);
	min16float4 s1_0 = max(-s0_0, 0.0);
	min16float4 s1_1 = max(-s0_1, 0.0);
	min16float4 s1_2 = max(-s0_2, 0.0);
	min16float4 s1_3 = max(-s0_3, 0.0);
	min16float4 s1_4 = max(-s0_4, 0.0);
	min16float4 s1_5 = max(-s0_5, 0.0);
	min16float4 s1_6 = max(-s0_6, 0.0);
	min16float4 s1_7 = max(-s0_7, 0.0);
	min16float4 s1_8 = max(-s0_8, 0.0);
	s0_0 = max(s0_0, 0.0);
	s0_1 = max(s0_1, 0.0);
	s0_2 = max(s0_2, 0.0);
	s0_3 = max(s0_3, 0.0);
	s0_4 = max(s0_4, 0.0);
	s0_5 = max(s0_5, 0.0);
	s0_6 = max(s0_6, 0.0);
	s0_7 = max(s0_7, 0.0);
	s0_8 = max(s0_8, 0.0);
	min16float4 s2_0 = l1(-1.0, -1.0);
	min16float4 s2_1 = l1(0.0, -1.0);
	min16float4 s2_2 = l1(1.0, -1.0);
	min16float4 s2_3 = l1(-1.0, 0.0);
	min16float4 s2_4 = l1(0.0, 0.0);
	min16float4 s2_5 = l1(1.0, 0.0);
	min16float4 s2_6 = l1(-1.0, 1.0);
	min16float4 s2_7 = l1(0.0, 1.0);
	min16float4 s2_8 = l1(1.0, 1.0);
	min16float4 s3_0 = max(-s2_0, 0.0);
	min16float4 s3_1 = max(-s2_1, 0.0);
	min16float4 s3_2 = max(-s2_2, 0.0);
	min16float4 s3_3 = max(-s2_3, 0.0);
	min16float4 s3_4 = max(-s2_4, 0.0);
	min16float4 s3_5 = max(-s2_5, 0.0);
	min16float4 s3_6 = max(-s2_6, 0.0);
	min16float4 s3_7 = max(-s2_7, 0.0);
	min16float4 s3_8 = max(-s2_8, 0.0);
	s2_0 = max(s2_0, 0.0);
	s2_1 = max(s2_1, 0.0);
	s2_2 = max(s2_2, 0.0);
	s2_3 = max(s2_3, 0.0);
	s2_4 = max(s2_4, 0.0);
	s2_5 = max(s2_5, 0.0);
	s2_6 = max(s2_6, 0.0);
	s2_7 = max(s2_7, 0.0);
	s2_8 = max(s2_8, 0.0);
	conv2_0[gxy] = f0(pt, pos, s0_0, s0_1, s0_2, s0_3, s0_4, s0_5, s0_6, s0_7, s0_8, s1_0, s1_1, s1_2, s1_3, s1_4, s1_5, s1_6, s1_7, s1_8, s2_0, s2_1, s2_2, s2_3, s2_4, s2_5, s2_6, s2_7, s2_8, s3_0, s3_1, s3_2, s3_3, s3_4, s3_5, s3_6, s3_7, s3_8);
	conv2_1[gxy] = f1(pt, pos, s0_0, s0_1, s0_2, s0_3, s0_4, s0_5, s0_6, s0_7, s0_8, s1_0, s1_1, s1_2, s1_3, s1_4, s1_5, s1_6, s1_7, s1_8, s2_0, s2_1, s2_2, s2_3, s2_4, s2_5, s2_6, s2_7, s2_8, s3_0, s3_1, s3_2, s3_3, s3_4, s3_5, s3_6, s3_7, s3_8);
}
//!PASS 4
//!DESC CuNNy-2x8C-BILINEAR-CHROMA-NVL-DN-out
//!BLOCK_SIZE 8
//!NUM_THREADS 64
//!IN conv2_0, conv2_1
//!OUT out_0
#define O(t, p) t.SampleLevel(SP, pos + p * pt, 0)
#define l0(x, y) O(conv2_0, float2(x, y))
#define l1(x, y) O(conv2_1, float2(x, y))
float4 f0(float2 pt, float2 pos, min16float4 s0_0, min16float4 s0_1, min16float4 s0_2, min16float4 s0_3, min16float4 s0_4, min16float4 s0_5, min16float4 s0_6, min16float4 s0_7, min16float4 s0_8, min16float4 s1_0, min16float4 s1_1, min16float4 s1_2, min16float4 s1_3, min16float4 s1_4, min16float4 s1_5, min16float4 s1_6, min16float4 s1_7, min16float4 s1_8, min16float4 s2_0, min16float4 s2_1, min16float4 s2_2, min16float4 s2_3, min16float4 s2_4, min16float4 s2_5, min16float4 s2_6, min16float4 s2_7, min16float4 s2_8, min16float4 s3_0, min16float4 s3_1, min16float4 s3_2, min16float4 s3_3, min16float4 s3_4, min16float4 s3_5, min16float4 s3_6, min16float4 s3_7, min16float4 s3_8) {
	min16float4 r = 0.0;
	r += mul(s0_0, min16float4x4(-5.0798578740796074e-05, -0.025737112388014793, 0.002265072427690029, -0.014125881716609001, -0.001477869926020503, -0.0008210661471821368, 0.006221456453204155, 0.014742610976099968, 0.01088182907551527, 0.035593654960393906, -0.01871693693101406, 0.0034852309618145227, 0.011370668187737465, 0.023686407133936882, 0.0014578531263396144, 0.02175254561007023));
	r += mul(s0_1, min16float4x4(-0.013091977685689926, -0.005595809314399958, 0.002230011159554124, -0.009443564340472221, 0.010963081382215023, -0.0029144911095499992, 0.03163149952888489, -0.0017099141841754317, 0.025978364050388336, 0.008428947068750858, 0.023375509306788445, -0.009426344186067581, 0.07304325699806213, -0.0592343769967556, -0.0019952626898884773, 0.025554271414875984));
	r += mul(s0_2, min16float4x4(0.002051535528153181, -0.005449195392429829, -0.00227814307436347, 0.0022715087980031967, -0.009693938307464123, 0.00887882336974144, -0.013842243701219559, 0.014639957807958126, -0.006815045140683651, -0.01751699112355709, -0.0008057908853515983, 0.002868807874619961, 0.014630983583629131, 0.02178403176367283, 0.011067916639149189, 0.01355422381311655));
	r += mul(s0_3, min16float4x4(-0.022078990936279297, 0.02836008369922638, -0.10473679006099701, 0.004778258968144655, 0.015699801966547966, -0.00047378274030052125, -0.1252720057964325, 0.010093100368976593, -0.032555434852838516, 0.0489870123565197, 0.08943146467208862, 0.0818919986486435, 0.23292191326618195, -0.03330175578594208, 0.06685951352119446, -0.01988471858203411));
	r += mul(s0_4, min16float4x4(-0.047496285289525986, -0.143264040350914, 0.010347922332584858, -0.12061744183301926, 0.16795936226844788, 0.09668564051389694, -0.09874964505434036, -0.262696772813797, 0.03143764287233353, -0.10853388160467148, -0.0010321722365915775, -0.08763503283262253, 0.006278244312852621, -0.5246648192405701, 0.22392550110816956, -0.49267032742500305));
	r += mul(s0_5, min16float4x4(-0.00197086064144969, 0.014440110884606838, 0.005849883425980806, 0.024154428392648697, -0.00513550965115428, 0.10083156824111938, -0.0008354943711310625, 0.048462558537721634, -0.020443949848413467, 0.008263548836112022, -0.017689628526568413, 0.00969693623483181, -0.031200814992189407, -0.021097170189023018, -0.02013365738093853, -0.022614572197198868));
	r += mul(s0_6, min16float4x4(0.017292363569140434, -0.022929321974515915, 0.06518582999706268, 5.014148882764857e-06, -0.15995121002197266, 0.04610714316368103, 0.19580386579036713, -0.017316415905952454, 0.030235959216952324, 0.016870876774191856, -0.032873716205358505, 0.0018321424722671509, -0.04204258322715759, 0.005564151331782341, 0.08272607624530792, 0.005377554800361395));
	r += mul(s0_7, min16float4x4(-0.009204951114952564, 0.04333923012018204, -0.0642092227935791, 0.030795235186815262, -0.3341115117073059, -0.47885724902153015, 0.5448225140571594, 0.6933601498603821, -0.0008072281489148736, -0.0005087326862849295, 0.013248607516288757, -0.013598296791315079, 0.01775672845542431, 0.09856468439102173, -0.08129517734050751, -0.049467071890830994));
	r += mul(s0_8, min16float4x4(0.008231629617512226, -0.01728292927145958, 0.009350355714559555, -0.030838342383503914, 0.004823280964046717, -0.06469105929136276, -0.017039727419614792, 0.09692497551441193, -0.0003972953127231449, -0.004533771425485611, 0.005640492774546146, -0.005634097848087549, 0.01648302748799324, 0.005009612999856472, -0.0038929390721023083, 0.0056569380685687065));
	r += mul(s1_0, min16float4x4(0.047251902520656586, -0.0031835425179451704, -0.0078278798609972, 0.05939134582877159, 0.01275832299143076, -0.014803829602897167, -0.0012871937360614538, -2.9000544600421563e-05, -0.01966671645641327, -0.0378897488117218, 0.013091277331113815, -0.006225148215889931, 0.01122280303388834, -0.004768036305904388, 0.009204626083374023, -0.009937940165400505));
	r += mul(s1_1, min16float4x4(-0.00771304639056325, 0.026307735592126846, 0.0011032081674784422, 0.006447928957641125, -0.007968188263475895, 0.04236370697617531, -0.007452194578945637, 0.013524353504180908, 0.11810921132564545, 0.1178039014339447, -0.07103481143712997, -0.02268841490149498, -0.04383006691932678, -0.003579784883186221, -0.01893048733472824, 0.012448972091078758));
	r += mul(s1_2, min16float4x4(-0.003704637289047241, -0.012794623151421547, 0.006706609390676022, -0.010344240814447403, 0.005113824736326933, -0.01947157271206379, 0.015073058195412159, -0.009845842607319355, 0.02436203695833683, -0.012258490547537804, 0.025505907833576202, -0.0027754059992730618, -0.006841416470706463, -0.01799497753381729, -0.0018892640946432948, -0.0046842326410114765));
	r += mul(s1_3, min16float4x4(0.6392230987548828, -0.4845765233039856, 0.7441702485084534, -0.517611563205719, -0.005418946500867605, 0.007095810025930405, 0.047479383647441864, -0.035277560353279114, -0.07545813173055649, 0.03228817880153656, -0.18970432877540588, -0.015079588629305363, 0.004529417026787996, -0.010904571041464806, 0.08179446309804916, -0.008019521832466125));
	r += mul(s1_4, min16float4x4(-0.07544894516468048, 0.06204366683959961, -0.10415460169315338, 0.07215940952301025, -0.11120783537626266, -0.12530851364135742, -0.08532094210386276, 0.1010819524526596, -0.14404425024986267, -0.28613385558128357, 0.32914987206459045, -0.013298694975674152, 0.21591699123382568, 0.1616930216550827, 0.054449889808893204, 0.07596299797296524));
	r += mul(s1_5, min16float4x4(0.012501700781285763, -0.00308779114857316, 0.0036677729804068804, -0.011161379516124725, -0.016559584066271782, -0.038132194429636, 0.003356722416356206, -0.09643799066543579, -0.024191470816731453, 0.011995892971754074, -0.030539456754922867, 0.07152833044528961, -0.0027487974148243666, 0.09192010015249252, -0.020233020186424255, 0.05334816128015518));
	r += mul(s1_6, min16float4x4(-0.05731336399912834, 0.05238761007785797, -0.010817224159836769, -0.017822960391640663, 0.0004919551429338753, -0.000396329298382625, -0.04286721348762512, 0.00119152816478163, -0.0027708259876817465, -0.009711247868835926, 0.026520954445004463, 0.00028626099810935557, 0.016048086807131767, -0.0009090651292353868, -0.005276643671095371, -0.0007633031345903873));
	r += mul(s1_7, min16float4x4(0.005457089748233557, -0.026272976770997047, -0.0021571877878159285, -0.016055583953857422, 0.016553718596696854, 0.028280770406126976, -0.02753947116434574, -0.08561769872903824, 0.049071744084358215, 0.043679747730493546, -0.07153405249118805, -0.05249981954693794, -0.049646664410829544, -0.04626554623246193, 0.025164078921079636, 0.0113211153075099));
	r += mul(s1_8, min16float4x4(-0.002438683295622468, 0.011014736257493496, -0.0011670744279399514, 0.011025453917682171, -0.0015564713394269347, -0.007729847449809313, 0.001604297780431807, -0.009431558661162853, 0.0026900889351963997, 0.033928435295820236, -0.030556315556168556, -0.02484426647424698, 0.009642134420573711, -0.011695729568600655, 0.01849331520497799, 0.017107265070080757));
	r += mul(s2_0, min16float4x4(0.0003501694300211966, -0.0017920343670994043, -0.009899570606648922, -0.0031765743624418974, 0.03578614071011543, -0.04913001134991646, 0.021901587024331093, -0.004280316177755594, 0.0017579206032678485, -0.004993732552975416, 0.005965439137071371, 0.008912972174584866, 0.012385589070618153, 0.02908260002732277, 0.01793176494538784, 0.025940505787730217));
	r += mul(s2_1, min16float4x4(0.04259505495429039, 0.021775459870696068, 0.025820085778832436, -0.01730141043663025, -0.02012135274708271, 0.09740976244211197, 0.051187388598918915, 0.08167459815740585, -0.01580948382616043, 0.025940774008631706, -0.031604595482349396, 0.006360040511935949, 0.14403583109378815, -0.16650666296482086, 0.04684467613697052, -0.038462940603494644));
	r += mul(s2_2, min16float4x4(0.011074818670749664, 0.003342478070408106, 0.004285184666514397, 0.023013290017843246, 0.002723022596910596, -0.04990058019757271, -0.006237965542823076, -0.007470137905329466, 0.006045816466212273, 0.00015412435459438711, 0.008271615952253342, -0.01492510735988617, -0.8613404035568237, 0.9265211224555969, -0.11157049238681793, 0.21641971170902252));
	r += mul(s2_3, min16float4x4(0.03635838255286217, 0.03383180871605873, -0.06372197717428207, -0.0007890217239037156, 0.18434391915798187, 0.04961033910512924, -0.23586732149124146, 0.013695620000362396, 0.01995837688446045, -0.01787358894944191, 0.11975513398647308, 0.005613483488559723, 0.010095162317156792, 0.0437936931848526, -0.019153639674186707, 0.040653668344020844));
	r += mul(s2_4, min16float4x4(-0.024693883955478668, -0.1086302399635315, 0.0648377314209938, -0.0536872036755085, 0.28044939041137695, 0.510987401008606, -0.38182953000068665, -0.6816406846046448, -0.05692444369196892, 0.10465177893638611, -0.025818390771746635, 0.13388487696647644, 0.08294719457626343, -0.15629112720489502, 0.24267365038394928, -0.21045158803462982));
	r += mul(s2_5, min16float4x4(0.02584272250533104, 0.0467517115175724, -0.005824802443385124, 0.015807215124368668, -0.02388904243707657, -0.014435924589633942, 0.009212158620357513, 0.0011823533568531275, -0.0030942363664507866, -0.03676826134324074, -0.0011907246662303805, 0.0007617881055921316, -0.28300604224205017, 0.23419511318206787, -0.9779050350189209, 0.9824441075325012));
	r += mul(s2_6, min16float4x4(0.0463564358651638, -0.006965823005884886, 0.12858738005161285, 0.03138338401913643, -0.008303729817271233, -0.014497390016913414, 0.1042231023311615, 0.019098961725831032, -0.02196001447737217, 0.016874736174941063, -0.044935353100299835, -0.004270752891898155, -0.006566735450178385, 0.0011365895625203848, -0.012690593488514423, 0.011074603535234928));
	r += mul(s2_7, min16float4x4(-0.016625680029392242, 0.07398287951946259, -0.032625049352645874, 0.05043739825487137, -0.05291008576750755, -0.07348568737506866, 0.043074797838926315, 0.16260065138339996, 0.0073911407962441444, 0.0015904073370620608, 0.022009648382663727, 0.003229389898478985, -0.0016229755710810423, 0.03327947109937668, -0.013200139626860619, -0.010401224717497826));
	r += mul(s2_8, min16float4x4(-0.007695713546127081, -0.023549286648631096, 0.014544143341481686, 0.002313429955393076, 0.005548675078898668, -0.008410337381064892, -0.013170099817216396, -0.004927222151309252, -0.009213736280798912, -0.010643357411026955, -0.009585052728652954, -0.024096081033349037, -0.004535527899861336, -0.000936724420171231, 0.026439329609274864, -0.010551808401942253));
	r += mul(s3_0, min16float4x4(-0.027653899043798447, 0.019225750118494034, 0.021014345809817314, 0.01692209020256996, -0.0006809619953855872, 0.008025250397622585, -0.01091755460947752, 0.007028581108897924, 0.005904089659452438, -0.008556302636861801, -0.01840343326330185, -0.004698963835835457, 0.005612130276858807, -0.0017398195341229439, -0.01910964399576187, 0.0032883414532989264));
	r += mul(s3_1, min16float4x4(-0.04467529430985451, -0.011527824215590954, 0.014499706216156483, -0.007875164970755577, 0.041881680488586426, 0.026900453492999077, -0.010620811022818089, -0.026622265577316284, 0.05650191009044647, -0.009197734296321869, -0.0076624252833426, 0.00794545654207468, -0.07314150035381317, -0.002547191921621561, -0.029481029137969017, -0.008158296346664429));
	r += mul(s3_2, min16float4x4(-0.030321257188916206, -0.012204243801534176, -0.007313416805118322, -0.014409566298127174, 0.0012789429165422916, 0.0010399307357147336, 0.0058765895664691925, 0.010768155567348003, 0.0007597674848511815, 0.019157815724611282, 0.011215929873287678, 0.025746433064341545, 0.01150552649050951, 0.012250304222106934, 0.01155515294522047, -0.015427547506988049));
	r += mul(s3_3, min16float4x4(-0.0735321044921875, 0.043508242815732956, 0.042770422995090485, 0.026973357424139977, 0.0022796494886279106, -0.012007968500256538, -0.019748130813241005, 0.0053265830501914024, 0.09947388619184494, -0.02658979408442974, -0.144174724817276, -0.018790459260344505, 0.0005613424582406878, -0.003916086629033089, 0.03811955824494362, -0.0059534055180847645));
	r += mul(s3_4, min16float4x4(0.34667909145355225, -0.23682157695293427, -0.16566447913646698, -0.0014283638447523117, -0.018977519124746323, -0.03311716392636299, 0.05779796838760376, -0.006906005088239908, -0.6633131504058838, -0.08860527724027634, 0.36444705724716187, -0.04048595204949379, -0.0661620944738388, 0.024602893739938736, -0.1948259025812149, -0.003061843803152442));
	r += mul(s3_5, min16float4x4(-0.027839623391628265, 0.06724138557910919, 0.005911373067647219, 0.013231988064944744, 0.01984221488237381, 0.032094549387693405, -0.012997163459658623, 0.013314652256667614, 0.05609854683279991, -0.14189860224723816, -0.0795251652598381, 0.03774206340312958, 0.0028757459949702024, -0.0033797351643443108, 0.024708174169063568, 0.029547227546572685));
	r += mul(s3_6, min16float4x4(-0.0671396553516388, 0.025593718513846397, -0.1714164763689041, 0.02187356725335121, -0.0167778879404068, -0.004337115678936243, -0.06572098284959793, -0.027639703825116158, 0.008776792325079441, 0.006892218254506588, 0.029481422156095505, 0.004599700216203928, -0.002310092793777585, 0.004164899233728647, -0.014371645636856556, 0.00514261843636632));
	r += mul(s3_7, min16float4x4(-0.047099094837903976, -0.003263861173763871, 0.28612375259399414, -0.21415041387081146, 0.011827131733298302, -0.012466127052903175, 0.002819068031385541, -0.02019244246184826, 0.07549424469470978, -0.035541705787181854, 0.1120951920747757, 0.13130010664463043, 0.00256874761544168, -0.01710512489080429, 0.04034825414419174, 0.00840882956981659));
	r += mul(s3_8, min16float4x4(0.004348194692283869, 0.007478462532162666, -0.01071962621062994, 0.0669475570321083, -0.007546794600784779, 0.00618361821398139, -0.0026357469614595175, -0.0008286574156954885, 0.00038225873140618205, -0.0033998810686171055, 0.0020590825006365776, 0.1722813993692398, 0.007612329907715321, 0.008133405819535255, -0.016611138358712196, 0.003219426842406392));
	r += min16float4(-0.0004366364737506956, -0.0006159953773021698, -0.00020693705300800502, -0.000509569828864187);
	return tanh(r);
}
void Pass4(uint2 blockStart, uint3 tid) {
	float2 pt = float2(GetInputPt());
	uint2 gxy = Rmp8x8(tid.x) + blockStart;
	uint2 size = GetInputSize();
	if (gxy.x >= size.x || gxy.y >= size.y) {
		return;
	}
	float2 pos = (gxy + 0.5) * pt;
	min16float4 s0_0 = l0(-1.0, -1.0);
	min16float4 s0_1 = l0(0.0, -1.0);
	min16float4 s0_2 = l0(1.0, -1.0);
	min16float4 s0_3 = l0(-1.0, 0.0);
	min16float4 s0_4 = l0(0.0, 0.0);
	min16float4 s0_5 = l0(1.0, 0.0);
	min16float4 s0_6 = l0(-1.0, 1.0);
	min16float4 s0_7 = l0(0.0, 1.0);
	min16float4 s0_8 = l0(1.0, 1.0);
	min16float4 s1_0 = max(-s0_0, 0.0);
	min16float4 s1_1 = max(-s0_1, 0.0);
	min16float4 s1_2 = max(-s0_2, 0.0);
	min16float4 s1_3 = max(-s0_3, 0.0);
	min16float4 s1_4 = max(-s0_4, 0.0);
	min16float4 s1_5 = max(-s0_5, 0.0);
	min16float4 s1_6 = max(-s0_6, 0.0);
	min16float4 s1_7 = max(-s0_7, 0.0);
	min16float4 s1_8 = max(-s0_8, 0.0);
	s0_0 = max(s0_0, 0.0);
	s0_1 = max(s0_1, 0.0);
	s0_2 = max(s0_2, 0.0);
	s0_3 = max(s0_3, 0.0);
	s0_4 = max(s0_4, 0.0);
	s0_5 = max(s0_5, 0.0);
	s0_6 = max(s0_6, 0.0);
	s0_7 = max(s0_7, 0.0);
	s0_8 = max(s0_8, 0.0);
	min16float4 s2_0 = l1(-1.0, -1.0);
	min16float4 s2_1 = l1(0.0, -1.0);
	min16float4 s2_2 = l1(1.0, -1.0);
	min16float4 s2_3 = l1(-1.0, 0.0);
	min16float4 s2_4 = l1(0.0, 0.0);
	min16float4 s2_5 = l1(1.0, 0.0);
	min16float4 s2_6 = l1(-1.0, 1.0);
	min16float4 s2_7 = l1(0.0, 1.0);
	min16float4 s2_8 = l1(1.0, 1.0);
	min16float4 s3_0 = max(-s2_0, 0.0);
	min16float4 s3_1 = max(-s2_1, 0.0);
	min16float4 s3_2 = max(-s2_2, 0.0);
	min16float4 s3_3 = max(-s2_3, 0.0);
	min16float4 s3_4 = max(-s2_4, 0.0);
	min16float4 s3_5 = max(-s2_5, 0.0);
	min16float4 s3_6 = max(-s2_6, 0.0);
	min16float4 s3_7 = max(-s2_7, 0.0);
	min16float4 s3_8 = max(-s2_8, 0.0);
	s2_0 = max(s2_0, 0.0);
	s2_1 = max(s2_1, 0.0);
	s2_2 = max(s2_2, 0.0);
	s2_3 = max(s2_3, 0.0);
	s2_4 = max(s2_4, 0.0);
	s2_5 = max(s2_5, 0.0);
	s2_6 = max(s2_6, 0.0);
	s2_7 = max(s2_7, 0.0);
	s2_8 = max(s2_8, 0.0);
	out_0[gxy] = f0(pt, pos, s0_0, s0_1, s0_2, s0_3, s0_4, s0_5, s0_6, s0_7, s0_8, s1_0, s1_1, s1_2, s1_3, s1_4, s1_5, s1_6, s1_7, s1_8, s2_0, s2_1, s2_2, s2_3, s2_4, s2_5, s2_6, s2_7, s2_8, s3_0, s3_1, s3_2, s3_3, s3_4, s3_5, s3_6, s3_7, s3_8);
}
//!PASS 5
//!DESC CuNNy-2x8C-BILINEAR-CHROMA-NVL-DN-shuffle
//!STYLE PS
//!IN out_0, INPUT
float4 Pass5(float2 pos) {
	float2 pt = float2(GetInputPt());
	const static float3x3 rgb2yuv = {0.299, 0.587, 0.114, -0.169, -0.331, 0.5, 0.5, -0.419, -0.081};
	const static float3x3 yuv2rgb = {1, -0.00093, 1.401687, 1, -0.3437, -0.71417, 1, 1.77216, 0.00099};
	float4 r = 0.0;
	float2 size = float2(GetInputSize());
	float2 f = frac(pos * size);
	float3 yuv = mul(rgb2yuv, INPUT.SampleLevel(SL, pos, 0).rgb);
	int2 i = int2(f * 2.0);
	r.r = out_0.SampleLevel(SP, (float2(0.5, 0.5) - f) * pt + pos, 0)[2*i.y + i.x];
	r.r += yuv.r;
	r.a = 1.0;
	r.r = clamp(r, 0.0, 1.0);
	float3 px = mul(yuv2rgb, float3(r.r, yuv.yz));
	return float4(px, 1.0);
}
