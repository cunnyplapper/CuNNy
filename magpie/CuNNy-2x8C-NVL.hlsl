// CuNNy 2x8C BILINEAR CHROMA NVL
// Copyright (c) 2024 cunnyplapper

// This program is free software; you can redistribute it and/or
// modify it under the terms of the GNU Lesser General Public
// License as published by the Free Software Foundation; either
// version 3.0 of the License, or (at your option) any later version.
// 
// This program is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
// Lesser General Public License for more details.
// 
// You should have received a copy of the GNU Lesser General Public
// License along with this program.  If not, see <https://www.gnu.org/licenses/>.
/* ------------------------------------------------------------------- */

//!MAGPIE EFFECT
//!VERSION 3
//!OUTPUT_WIDTH INPUT_WIDTH * 2
//!OUTPUT_HEIGHT INPUT_HEIGHT * 2

//!TEXTURE
Texture2D INPUT;

//!SAMPLER
//!FILTER POINT
SamplerState SP;

//!SAMPLER
//!FILTER LINEAR
SamplerState SL;

//!TEXTURE
//!WIDTH INPUT_WIDTH
//!HEIGHT INPUT_HEIGHT
//!FORMAT R8G8B8A8_SNORM
Texture2D in_0;

//!TEXTURE
//!WIDTH INPUT_WIDTH
//!HEIGHT INPUT_HEIGHT
//!FORMAT R8G8B8A8_SNORM
Texture2D in_1;

//!TEXTURE
//!WIDTH INPUT_WIDTH
//!HEIGHT INPUT_HEIGHT
//!FORMAT R8G8B8A8_SNORM
Texture2D conv1_0;

//!TEXTURE
//!WIDTH INPUT_WIDTH
//!HEIGHT INPUT_HEIGHT
//!FORMAT R8G8B8A8_SNORM
Texture2D conv1_1;

//!TEXTURE
//!WIDTH INPUT_WIDTH
//!HEIGHT INPUT_HEIGHT
//!FORMAT R8G8B8A8_SNORM
Texture2D conv2_0;

//!TEXTURE
//!WIDTH INPUT_WIDTH
//!HEIGHT INPUT_HEIGHT
//!FORMAT R8G8B8A8_SNORM
Texture2D conv2_1;

//!TEXTURE
//!WIDTH INPUT_WIDTH
//!HEIGHT INPUT_HEIGHT
//!FORMAT R8G8B8A8_SNORM
Texture2D out_0;

//!PASS 1
//!DESC CuNNy-2x8C-BILINEAR-CHROMA-NVL-in
//!BLOCK_SIZE 8
//!NUM_THREADS 64
//!IN INPUT
//!OUT in_0, in_1
#define O(t, p) t.SampleLevel(SP, pos + p * pt, 0)
#define l0(x, y) (dot(float3(-0.5839959383010864, -1.0722298622131348, -0.25097811222076416), O(INPUT, float2(x, y)).rgb) + 1.4895704984664917)
float4 f0(float2 pt, float2 pos, min16float s0_0, min16float s0_1, min16float s0_2, min16float s0_3, min16float s0_4, min16float s0_5, min16float s0_6, min16float s0_7, min16float s0_8) {
	min16float4 r = 0.0;
	r += min16float4(-0.015671849250793457, 0.0022783742751926184, -0.004799928981810808, -0.019090645015239716) * s0_0;
	r += min16float4(0.007580129895359278, 0.002132290741428733, 0.005295655690133572, 0.3341123163700104) * s0_1;
	r += min16float4(0.10796929150819778, -0.0015219058841466904, 0.0021436261013150215, 0.004779596347361803) * s0_2;
	r += min16float4(-0.015450133010745049, 0.003259877674281597, 0.4231770634651184, 0.016486575827002525) * s0_3;
	r += min16float4(-0.3505859076976776, -0.0004887980758212507, -0.4189452528953552, -0.37488430738449097) * s0_4;
	r += min16float4(-0.09497065097093582, -0.3768583834171295, -0.003810957306995988, 0.015358978882431984) * s0_5;
	r += min16float4(0.23776179552078247, -0.0054052541963756084, -0.010664323344826698, -0.00015841743152122945) * s0_6;
	r += min16float4(0.1420963704586029, 0.0004588642332237214, 0.006700514815747738, 0.03201305493712425) * s0_7;
	r += min16float4(-0.018691759556531906, 0.3759765625, -0.0005640190793201327, -0.00882191862910986) * s0_8;
	r += min16float4(8.55963517096825e-05, -0.0001039485287037678, 0.00018357140652369708, 0.014002285897731781);
	return r;
}
float4 f1(float2 pt, float2 pos, min16float s0_0, min16float s0_1, min16float s0_2, min16float s0_3, min16float s0_4, min16float s0_5, min16float s0_6, min16float s0_7, min16float s0_8) {
	min16float4 r = 0.0;
	r += min16float4(-0.1625976264476776, 0.055075131356716156, -0.0014978453982621431, -0.0017027894500643015) * s0_0;
	r += min16float4(0.05850168690085411, 0.03980676457285881, 0.03278185799717903, 0.023504022508859634) * s0_1;
	r += min16float4(0.020279305055737495, -0.17041468620300293, 0.02950443886220455, -0.00515616312623024) * s0_2;
	r += min16float4(0.10372764617204666, -0.0013658535899594426, 0.005775227677077055, -0.009729505516588688) * s0_3;
	r += min16float4(0.32834523916244507, 0.2783174514770508, 0.036483269184827805, 0.04091271758079529) * s0_4;
	r += min16float4(0.02880999632179737, -0.2529175281524658, -0.28025105595588684, -0.0016216491349041462) * s0_5;
	r += min16float4(0.010700375773012638, -0.10909289866685867, 0.00896900799125433, 0.11232917010784149) * s0_6;
	r += min16float4(-0.12378417700529099, 0.08497732132673264, 0.0004520056245382875, -0.28770020604133606) * s0_7;
	r += min16float4(-0.26086705923080444, 0.07637334614992142, 0.11791989952325821, 0.045043084770441055) * s0_8;
	r += min16float4(-2.3533708372269757e-05, 0.000123634934425354, 0.07357972860336304, -0.033594921231269836);
	return r;
}
void Pass1(uint2 blockStart, uint3 tid) {
	float2 pt = float2(GetInputPt());
	uint2 gxy = Rmp8x8(tid.x) + blockStart;
	uint2 size = GetInputSize();
	if (gxy.x >= size.x || gxy.y >= size.y) {
		return;
	}
	float2 pos = (gxy + 0.5) * pt;
	min16float s0_0 = l0(-1.0, -1.0);
	min16float s0_1 = l0(0.0, -1.0);
	min16float s0_2 = l0(1.0, -1.0);
	min16float s0_3 = l0(-1.0, 0.0);
	min16float s0_4 = l0(0.0, 0.0);
	min16float s0_5 = l0(1.0, 0.0);
	min16float s0_6 = l0(-1.0, 1.0);
	min16float s0_7 = l0(0.0, 1.0);
	min16float s0_8 = l0(1.0, 1.0);
	in_0[gxy] = f0(pt, pos, s0_0, s0_1, s0_2, s0_3, s0_4, s0_5, s0_6, s0_7, s0_8);
	in_1[gxy] = f1(pt, pos, s0_0, s0_1, s0_2, s0_3, s0_4, s0_5, s0_6, s0_7, s0_8);
}
//!PASS 2
//!DESC CuNNy-2x8C-BILINEAR-CHROMA-NVL-conv1
//!BLOCK_SIZE 8
//!NUM_THREADS 64
//!IN in_0, in_1
//!OUT conv1_0, conv1_1
#define O(t, p) t.SampleLevel(SP, pos + p * pt, 0)
#define l0(x, y) O(in_0, float2(x, y))
#define l1(x, y) O(in_1, float2(x, y))
float4 f0(float2 pt, float2 pos, min16float4 s0_0, min16float4 s0_1, min16float4 s0_2, min16float4 s0_3, min16float4 s0_4, min16float4 s0_5, min16float4 s0_6, min16float4 s0_7, min16float4 s0_8, min16float4 s1_0, min16float4 s1_1, min16float4 s1_2, min16float4 s1_3, min16float4 s1_4, min16float4 s1_5, min16float4 s1_6, min16float4 s1_7, min16float4 s1_8, min16float4 s2_0, min16float4 s2_1, min16float4 s2_2, min16float4 s2_3, min16float4 s2_4, min16float4 s2_5, min16float4 s2_6, min16float4 s2_7, min16float4 s2_8, min16float4 s3_0, min16float4 s3_1, min16float4 s3_2, min16float4 s3_3, min16float4 s3_4, min16float4 s3_5, min16float4 s3_6, min16float4 s3_7, min16float4 s3_8) {
	min16float4 r = 0.0;
	r += mul(s0_0, min16float4x4(-0.07512243837118149, 0.01944607123732567, -0.07927916944026947, 0.07816725969314575, 0.19684922695159912, 0.03570335730910301, -0.6324336528778076, 0.47886422276496887, -0.029640834778547287, -0.09593772143125534, -0.00790607463568449, -0.0021715338807553053, -0.06241188198328018, -0.04637778550386429, 0.018196800723671913, 0.02912561595439911));
	r += mul(s0_1, min16float4x4(-0.23187348246574402, 0.10270259529352188, -0.026773229241371155, 0.2935696244239807, -0.005498301703482866, 0.1257726401090622, 0.17172658443450928, 0.1703163981437683, -0.026674723252654076, -0.05677776411175728, -0.1275198757648468, 0.16499851644039154, -0.02945215068757534, -0.03697805479168892, -0.05436123162508011, 0.06730053573846817));
	r += mul(s0_2, min16float4x4(-0.051428135484457016, 0.007131274789571762, -0.11384940892457962, 0.2286858856678009, 0.043598294258117676, 0.09053902328014374, -0.03425077721476555, 0.06302890181541443, 0.13338346779346466, 0.07823685556650162, -0.13108842074871063, 0.12142011523246765, 0.05189819261431694, -0.11010438948869705, 0.021778196096420288, -0.018237698823213577));
	r += mul(s0_3, min16float4x4(-0.012273506261408329, 0.08981651812791824, 0.06465895473957062, -0.04616639018058777, 0.18882688879966736, 0.4546213746070862, 0.002142168115824461, -0.5062916874885559, 0.002649888163432479, 0.08269300311803818, -0.12179872393608093, -0.08116790652275085, -0.0041623241268098354, -0.006564924027770758, -0.0694400891661644, 0.03857569769024849));
	r += mul(s0_4, min16float4x4(-0.46262821555137634, -0.3539890944957733, 0.029386144131422043, -0.032813359051942825, -0.19806937873363495, 0.359638512134552, -0.11156230419874191, 0.034696437418460846, 0.4736332297325134, -0.3720669746398926, -0.12819264829158783, -0.3095662593841553, -0.10570994019508362, -0.02799408510327339, 0.36782458424568176, -0.11933229118585587));
	r += mul(s0_5, min16float4x4(-0.3740697205066681, 0.17926082015037537, -0.09489279240369797, 0.03439595177769661, 0.009270288981497288, -0.012846658006310463, 0.1616605520248413, -0.0435917004942894, 0.10775189846754074, 1.006372332572937, -0.07255830615758896, 0.04675782844424248, -0.15384884178638458, -0.012873283587396145, -0.12551932036876678, -0.2532358765602112));
	r += mul(s0_6, min16float4x4(-0.040483299642801285, 0.03332572802901268, 0.016971569508314133, -0.03844597190618515, -0.07153846323490143, -0.09885405749082565, 0.0034959253389388323, -0.27419739961624146, 0.03332701697945595, -0.06486500054597855, -0.04724971950054169, 0.041337110102176666, -0.060098350048065186, 0.11385194212198257, -0.00488301320001483, 0.17232073843479156));
	r += mul(s0_7, min16float4x4(-0.16437816619873047, -0.2440711408853531, -0.0027217783499509096, -0.007558988872915506, -0.21573124825954437, -0.12763644754886627, -0.049959078431129456, -0.043038398027420044, -0.0911521166563034, -0.05190400779247284, 0.07402386516332626, -0.1309663951396942, -0.4637221693992615, 0.017260506749153137, -0.04135129973292351, 0.18242904543876648));
	r += mul(s0_8, min16float4x4(-0.04859007149934769, 0.04131132364273071, -0.04581071063876152, 0.005333768203854561, -0.06421834975481033, -0.005258507560938597, -0.041774675250053406, 0.05362140014767647, -0.006399478297680616, 0.047439709305763245, 0.11928297579288483, 0.04762783274054527, 0.3327271640300751, -0.04078970104455948, -0.1394716203212738, 0.021288035437464714));
	r += mul(s1_0, min16float4x4(-0.05039414390921593, -0.010700631886720657, 0.1058364287018776, -0.012364051304757595, -0.044883809983730316, 0.0913253054022789, -0.2880818545818329, 0.08917567133903503, -0.02544311061501503, 0.09451903402805328, -0.08520699292421341, -0.06271985173225403, -0.07494200021028519, 0.03698430955410004, -0.005933574866503477, 0.058434002101421356));
	r += mul(s1_1, min16float4x4(-0.09793991595506668, -0.029069172218441963, 0.012793280184268951, -0.030998336151242256, 0.16576534509658813, 0.17177879810333252, -0.04217703640460968, 0.34473440051078796, 0.0345742292702198, -0.04944818839430809, -0.0355568490922451, -0.07831450551748276, 0.03491012752056122, -0.08233096450567245, -0.04386698082089424, -0.019778704270720482));
	r += mul(s1_2, min16float4x4(-0.026468632742762566, -0.06113479286432266, 0.03253384307026863, -0.07436396926641464, -0.09492753446102142, -0.1232723519206047, -0.0035849702544510365, -0.04334251955151558, -0.06386399269104004, -0.006819643080234528, 0.264465868473053, 0.1692812293767929, 0.06370870769023895, -0.029539240524172783, 0.03035765141248703, 0.02887793630361557));
	r += mul(s1_3, min16float4x4(-0.2357923984527588, -0.034423649311065674, 0.07707110792398453, -0.01847289688885212, 0.20579102635383606, 0.29775941371917725, -0.07535926252603531, -0.3488696813583374, 0.052771538496017456, -0.13038764894008636, -0.03782585263252258, 0.12630051374435425, 0.0056430259719491005, -0.03348112106323242, -0.1562354415655136, -0.012012113817036152));
	r += mul(s1_4, min16float4x4(-0.38036224246025085, -0.1498374491930008, -0.27724286913871765, 0.26846277713775635, -0.14265276491641998, 0.14013788104057312, 0.19482998549938202, -0.06708785146474838, 0.18901097774505615, 0.3052004277706146, -1.1751503944396973, -0.045860953629016876, -0.16521085798740387, 0.2107769101858139, 0.04080469161272049, 0.22342519462108612));
	r += mul(s1_5, min16float4x4(-0.05057155713438988, -0.2898552417755127, 0.10720580071210861, 0.1713886260986328, -0.02768613025546074, 0.07104150950908661, -0.17563073337078094, 0.053077079355716705, 0.2446187138557434, 0.15956667065620422, 0.5410144329071045, -0.12387171387672424, 0.16160045564174652, -0.047241803258657455, 0.1569705456495285, -0.3216063678264618));
	r += mul(s1_6, min16float4x4(-0.1390896588563919, -0.06621348857879639, 0.05696047842502594, -0.018857844173908234, -0.0983908623456955, 0.1589379757642746, 0.08842573314905167, -0.3066335916519165, 0.16934096813201904, 0.046000875532627106, -0.06176750734448433, -0.03893817588686943, 0.058332718908786774, -0.11184513568878174, -0.0986582338809967, -0.22055292129516602));
	r += mul(s1_7, min16float4x4(-0.2150949388742447, 0.08083844929933548, -0.17135943472385406, 0.03909025341272354, -0.12212054431438446, -0.025508873164653778, 0.05902860313653946, 0.006713582668453455, 0.09154771268367767, -0.220393568277359, 0.02854323200881481, -0.5136675238609314, 0.24635258316993713, -0.15635260939598083, 0.12328682094812393, -0.5130366683006287));
	r += mul(s1_8, min16float4x4(-0.1518402099609375, -0.009240305051207542, 0.015525882132351398, 0.08602990210056305, -0.06394114345312119, -0.04764625430107117, 0.04500172287225723, -0.0665760412812233, 0.06091341748833656, -0.14630582928657532, 0.3177337050437927, -0.27047666907310486, 0.32722392678260803, -0.07356510311365128, 0.006584372371435165, -0.03532871976494789));
	r += mul(s2_0, min16float4x4(0.14304424822330475, 0.08741235733032227, 0.0294258464127779, -0.0490625761449337, -0.09844262897968292, 0.07840657979249954, -0.12331181019544601, -0.15524530410766602, 0.03785029053688049, 0.07268595695495605, 0.1231604665517807, -0.18050545454025269, -0.14070641994476318, -0.05660586804151535, 0.6556289792060852, 0.054697029292583466));
	r += mul(s2_1, min16float4x4(0.06552819162607193, -0.1200665682554245, 0.015781620517373085, -0.08340051770210266, -0.15278960764408112, 0.02445080503821373, 0.058025311678647995, 0.05457044020295143, -0.07474139332771301, 0.12738893926143646, 0.07728658616542816, -0.1821054369211197, 0.04964401200413704, -0.45836666226387024, 0.5010679960250854, -0.17240668833255768));
	r += mul(s2_2, min16float4x4(0.13622979819774628, 0.02693350240588188, -0.021571258082985878, -0.028864406049251556, -0.048868194222450256, 0.06710910052061081, -0.02839505486190319, 0.04333106055855751, -0.09118331968784332, -0.09208944439888, -0.11198720335960388, -0.20029203593730927, 0.266622930765152, 0.30913427472114563, 0.050439704209566116, 0.0832015722990036));
	r += mul(s2_3, min16float4x4(0.2646530568599701, -0.23150867223739624, 0.16071130335330963, 0.009210937656462193, -0.32939761877059937, -0.14880752563476562, 0.029144305735826492, -0.20713603496551514, -0.028396477922797203, -0.11001710593700409, 0.0850355327129364, 0.04759451374411583, 0.17875710129737854, -0.05672254040837288, 0.07158602029085159, -0.08636581152677536));
	r += mul(s2_4, min16float4x4(0.12647280097007751, 0.25186097621917725, -0.23974715173244476, -0.048279739916324615, -0.18418724834918976, 0.003931781277060509, 0.0787307545542717, 0.008926964364945889, 0.052560340613126755, -0.005410956218838692, -0.009168997406959534, 0.05576417222619057, -0.009163431823253632, 0.22496135532855988, -0.25509288907051086, 0.3907316029071808));
	r += mul(s2_5, min16float4x4(0.1955488622188568, -0.07277420908212662, 0.17488989233970642, -0.028962934389710426, -0.03338318318128586, 0.08713598549365997, 0.04320536553859711, 0.08643642067909241, 0.03174656257033348, -0.2043067365884781, -0.1273583024740219, 0.09034402668476105, 0.0010460654739290476, 0.2123367339372635, 0.0006483565084636211, -0.031677864491939545));
	r += mul(s2_6, min16float4x4(0.22924289107322693, -0.06193402782082558, 0.0894545167684555, 0.010624158196151257, 0.021254226565361023, 0.019442731514573097, -0.07430621981620789, 0.07745082676410675, 0.0047247945331037045, 0.041253264993429184, 0.0834185779094696, 0.33098775148391724, 0.009897558018565178, 0.03287417069077492, -0.09612122178077698, -0.09225838631391525));
	r += mul(s2_7, min16float4x4(0.3162664473056793, -0.0844443291425705, -0.08522792160511017, -0.047364428639411926, -0.0308038592338562, -0.13050046563148499, -0.07880187034606934, 0.11217989772558212, 0.06288018822669983, 0.10086078196763992, 0.016239650547504425, -0.08184625208377838, 0.03462310507893562, -0.02368144318461418, 0.011685697361826897, -0.09552151709794998));
	r += mul(s2_8, min16float4x4(0.15349864959716797, 0.04809326305985451, -0.04511067271232605, 0.0595768503844738, -0.1563069224357605, -0.0017287577502429485, 0.06627614051103592, -0.09545844048261642, -0.04535401239991188, -0.0177166648209095, -0.06274915486574173, 0.055119846016168594, 0.00023033337492961437, -0.016235189512372017, 0.07427248358726501, -0.14837178587913513));
	r += mul(s3_0, min16float4x4(0.10496561974287033, -0.047796089202165604, 0.03759824112057686, 0.0011870289454236627, 0.03544154763221741, 0.03894224017858505, 0.09428642690181732, 0.08530709147453308, 0.06788307428359985, 0.16378307342529297, 0.06690183281898499, 0.017541082575917244, -0.051320239901542664, 0.021146683022379875, 0.16906918585300446, -0.03418048843741417));
	r += mul(s3_1, min16float4x4(0.23738302290439606, -0.030733255669474602, -0.0221700482070446, 0.03953691944479942, 0.11219547688961029, 0.12075848132371902, 0.037459176033735275, -0.17243972420692444, -0.10004451870918274, -0.04606635868549347, -0.12850035727024078, 0.06252317130565643, -0.22535459697246552, 0.06906729191541672, 0.08184827119112015, -0.019954795017838478));
	r += mul(s3_2, min16float4x4(0.04541628435254097, -0.06573401391506195, -0.05386975035071373, -0.03610596805810928, 0.06962690502405167, 0.01972724311053753, 0.06893463432788849, -0.06453840434551239, 0.15518487989902496, 0.12479245662689209, 0.052561238408088684, 0.19567953050136566, -0.13715752959251404, -0.09338439255952835, -0.14415907859802246, -0.1724497228860855));
	r += mul(s3_3, min16float4x4(0.2958984076976776, 0.16449595987796783, -0.010335504077374935, 0.029554277658462524, -0.2007429599761963, -0.023489130660891533, -0.15245307981967926, 0.06015288457274437, -0.14848361909389496, -0.12602850794792175, 0.0637102872133255, 0.008218114264309406, 0.040832605212926865, 0.07815402746200562, -0.02825165167450905, 0.14856433868408203));
	r += mul(s3_4, min16float4x4(0.4344092011451721, -0.49774739146232605, 0.1698240488767624, -0.025098973885178566, -0.33870577812194824, 0.10663124918937683, -0.022086605429649353, -0.02059015817940235, -0.15224795043468475, -0.16615279018878937, -0.41698652505874634, -0.10214082151651382, 0.23386982083320618, 0.00365647510625422, -0.02916114591062069, 0.05054304748773575));
	r += mul(s3_5, min16float4x4(0.06475851684808731, -0.010295715183019638, -0.16673396527767181, -0.013043606653809547, -0.17797152698040009, -0.10658206045627594, -0.08589063584804535, 0.04534340649843216, 0.027014246210455894, 0.06218976154923439, 0.2093615084886551, -0.16850249469280243, 0.04150329902768135, -0.09758998453617096, -0.050375796854496, 0.039413582533597946));
	r += mul(s3_6, min16float4x4(0.19026030600070953, 0.1407538205385208, -0.05600053444504738, 0.12940563261508942, -0.18191257119178772, -0.08931802213191986, 0.024469811469316483, 0.14301079511642456, 0.23423194885253906, -0.13829076290130615, -0.08818583935499191, 0.865501344203949, 0.015324776992201805, 0.020681113004684448, 0.08011869341135025, -0.020940519869327545));
	r += mul(s3_7, min16float4x4(0.14717444777488708, 0.1802583932876587, 0.04658887907862663, 0.10799865424633026, -0.3449421226978302, 0.04629877209663391, -0.22684994339942932, 0.1749769002199173, 0.02235168218612671, 0.06188894435763359, 0.08965730667114258, -0.1976112425327301, 0.035441551357507706, -0.03275318071246147, 0.024370815604925156, -0.02089880406856537));
	r += mul(s3_8, min16float4x4(0.20494596660137177, 0.035645198076963425, 0.06754692643880844, -0.07692145556211472, -0.09873279929161072, 0.015440456569194794, -0.012314818799495697, 0.11629132181406021, 0.10028968751430511, 0.04993128404021263, -0.029874294996261597, 0.022398395463824272, 0.0175926573574543, 0.01369364932179451, -0.06066272035241127, 0.007392785511910915));
	r += min16float4(0.012339625507593155, 0.0023140613920986652, -0.008026836439967155, 0.0038487613201141357);
	return r;
}
float4 f1(float2 pt, float2 pos, min16float4 s0_0, min16float4 s0_1, min16float4 s0_2, min16float4 s0_3, min16float4 s0_4, min16float4 s0_5, min16float4 s0_6, min16float4 s0_7, min16float4 s0_8, min16float4 s1_0, min16float4 s1_1, min16float4 s1_2, min16float4 s1_3, min16float4 s1_4, min16float4 s1_5, min16float4 s1_6, min16float4 s1_7, min16float4 s1_8, min16float4 s2_0, min16float4 s2_1, min16float4 s2_2, min16float4 s2_3, min16float4 s2_4, min16float4 s2_5, min16float4 s2_6, min16float4 s2_7, min16float4 s2_8, min16float4 s3_0, min16float4 s3_1, min16float4 s3_2, min16float4 s3_3, min16float4 s3_4, min16float4 s3_5, min16float4 s3_6, min16float4 s3_7, min16float4 s3_8) {
	min16float4 r = 0.0;
	r += mul(s0_0, min16float4x4(-0.017755964770913124, 0.005692557897418737, -0.09636934101581573, -0.006837544031441212, 0.16559702157974243, 0.15653176605701447, 0.268645316362381, -0.23583994805812836, 0.009353104047477245, 0.04605255275964737, 0.0011844326509162784, 0.0250717643648386, 0.08277928084135056, 0.06466139853000641, -0.018872786313295364, 0.06934881210327148));
	r += mul(s0_1, min16float4x4(-0.07178766280412674, 0.29656749963760376, -0.2763573229312897, -0.048900436609983444, 0.08833198249340057, -0.07004489004611969, -0.20693573355674744, 0.27240583300590515, -0.059996046125888824, 0.054456282407045364, 0.03412874415516853, -0.09854710102081299, -0.0505305677652359, 0.05332211032509804, 0.06909970194101334, 0.043398190289735794));
	r += mul(s0_2, min16float4x4(0.02527807280421257, 0.07885905355215073, -0.07597704231739044, -0.03856842219829559, -0.02200521156191826, 0.00995676126331091, 0.12656717002391815, 0.04897097125649452, -0.00997790414839983, -0.17814631760120392, 0.08868998289108276, 0.14743410050868988, 0.045280929654836655, -0.0816803053021431, 0.05028356984257698, 0.09406690299510956));
	r += mul(s0_3, min16float4x4(-0.028740184381604195, 0.02162202075123787, 0.015397918410599232, -0.028402848169207573, -0.07887718081474304, 0.009848019108176231, -0.07919920235872269, -0.09583839774131775, -0.005430718883872032, -0.03908492624759674, -0.04299401491880417, 0.06420924514532089, 0.0731973797082901, -0.13716872036457062, -0.12378561496734619, -0.022830354049801826));
	r += mul(s0_4, min16float4x4(-0.017322614789009094, 0.3202034533023834, -0.2903897166252136, 0.18457698822021484, 0.09145139902830124, -0.04828721657395363, 0.11688052862882614, 0.13264399766921997, -0.04657493159174919, -0.10110685229301453, 0.5416144132614136, 0.018626565113663673, 0.15358412265777588, -0.03187180310487747, -0.09519821405410767, 0.41307926177978516));
	r += mul(s0_5, min16float4x4(-0.19499608874320984, 0.23872272670269012, -0.17360229790210724, 0.0010655916994437575, 0.222897469997406, 0.03509880602359772, -0.08173536509275436, 0.08993013948202133, -0.08471764624118805, 0.18531712889671326, 0.23774583637714386, -0.23887360095977783, 0.04487578570842743, 0.16403590142726898, -0.06165194511413574, -0.10087879747152328));
	r += mul(s0_6, min16float4x4(-0.025082960724830627, 0.05515548214316368, -0.10315017402172089, 0.08566981554031372, -0.12498560547828674, 0.08589723706245422, -0.021184543147683144, 0.039061274379491806, 0.05729586258530617, -0.03562924265861511, 0.05163990333676338, 0.002987596672028303, -0.13771572709083557, -7.604269194416702e-05, -0.04841073974967003, -0.4137505292892456));
	r += mul(s0_7, min16float4x4(-0.03150499612092972, 0.15576261281967163, -0.1977735310792923, -0.08521610498428345, -0.025153370574116707, 0.14125731587409973, -0.08609282970428467, 0.17637455463409424, -0.39330747723579407, -0.10397115349769592, 0.20939114689826965, -0.2973012924194336, -0.48333051800727844, -0.18465512990951538, 0.2516408860683441, -0.6503909826278687));
	r += mul(s0_8, min16float4x4(0.030958538874983788, 0.17040765285491943, -0.058912284672260284, 0.03064235858619213, 0.06608834862709045, 0.1103404089808464, -0.01628917269408703, -0.04711330682039261, -0.27320876717567444, -0.1396341621875763, 0.1146056056022644, -0.0031909893732517958, -0.12367425858974457, 0.03259218856692314, 0.054838892072439194, -0.07086341083049774));
	r += mul(s1_0, min16float4x4(0.10561397671699524, 0.12937816977500916, 0.05354781076312065, 0.025218775495886803, 0.17941918969154358, 0.4234963655471802, 0.11357942223548889, -0.46237167716026306, -0.000986521365121007, -0.007706248201429844, -0.04049849137663841, 0.014662563800811768, 0.02953878976404667, 0.09820881485939026, -0.06065230071544647, -0.0009240926010534167));
	r += mul(s1_1, min16float4x4(0.1423068344593048, 0.08253533393144608, -0.11234114319086075, -0.021546291187405586, 0.21604587137699127, -0.1673826277256012, 0.18892550468444824, 0.17667406797409058, 0.3742581009864807, -0.0859542042016983, 0.04416554793715477, 0.23904936015605927, -0.02377571165561676, -0.032236214727163315, -0.023648587986826897, 0.024752382189035416));
	r += mul(s1_2, min16float4x4(0.005957010667771101, 0.15878358483314514, -0.031126540154218674, -0.01312203798443079, 0.040750253945589066, 0.041378989815711975, -0.1333046853542328, -0.04161085933446884, 0.3796178102493286, -0.04198400303721428, -0.016407238319516182, -0.11571462452411652, -0.02155209518969059, -0.051137056201696396, 0.03590124100446701, -0.01674964651465416));
	r += mul(s1_3, min16float4x4(0.02194678597152233, 0.27641162276268005, -0.1529899537563324, 0.11598800867795944, -0.2546706199645996, 0.023869933560490608, 0.3530089259147644, -0.26930931210517883, -0.008699782192707062, -0.01960892789065838, 0.05483188480138779, -0.07878537476062775, -0.04749670252203941, 0.2646782398223877, -0.015737559646368027, -0.13134613633155823));
	r += mul(s1_4, min16float4x4(0.03739374876022339, 0.16268940269947052, -0.4829327464103699, -0.11053191870450974, 0.2124343067407608, 0.1320112645626068, -0.08842043578624725, 0.22107119858264923, -0.02745252661406994, -0.267596572637558, 0.44434854388237, -0.2259320616722107, 0.005117116495966911, -0.30947962403297424, -0.04087826982140541, 0.29670724272727966));
	r += mul(s1_5, min16float4x4(-0.02214483730494976, 0.22898398339748383, -0.3659300208091736, 0.15812940895557404, -0.1707616150379181, -0.003628403414040804, 0.023494383320212364, -0.08526243269443512, 0.6853681802749634, -0.2682238519191742, 0.41687431931495667, -0.15970464050769806, 0.13190282881259918, 0.010507539846003056, 0.1167827844619751, -0.23638132214546204));
	r += mul(s1_6, min16float4x4(-0.03806023672223091, 0.11203346401453018, -0.03021625056862831, -0.08271526545286179, -0.24957077205181122, -0.0031907083466649055, -0.11265222728252411, 0.31156596541404724, -0.02773614414036274, -0.18021413683891296, 0.06115316227078438, 0.05042940750718117, -0.051070041954517365, 0.1617494523525238, -0.09055715799331665, 0.04963921010494232));
	r += mul(s1_7, min16float4x4(0.03488535061478615, 0.19948740303516388, -0.03685419261455536, -0.03000451810657978, -0.07043091952800751, -0.076215460896492, -0.0394202321767807, -0.048099786043167114, -0.2276797741651535, 0.15478001534938812, -0.22388936579227448, 0.15813925862312317, 0.2053881734609604, 0.533195436000824, -0.036845654249191284, 0.39924439787864685));
	r += mul(s1_8, min16float4x4(-0.004363253712654114, 0.08351106941699982, -0.1515321135520935, 0.01931738667190075, -0.10864294320344925, -0.027974853292107582, -0.0493679940700531, 0.09267430752515793, -0.09531822800636292, 0.020423611626029015, -0.05006931349635124, -0.22021274268627167, 0.01628466136753559, -0.084182009100914, -0.16146700084209442, -0.014009397476911545));
	r += mul(s2_0, min16float4x4(0.00879561435431242, -0.2210361510515213, 0.058316104114055634, -0.010670163668692112, 0.0077408985234797, -0.02236347459256649, -0.1102324053645134, -0.05275212600827217, -0.08716409653425217, -0.12216822803020477, -0.06888851523399353, -0.024126090109348297, 0.08569150418043137, 0.20901410281658173, 0.022930463775992393, 0.12381374090909958));
	r += mul(s2_1, min16float4x4(-0.09032592922449112, -0.3431612551212311, 0.11694221198558807, -0.0021949417423456907, -0.011178117245435715, 0.08744090050458908, -0.02444353699684143, -0.026480965316295624, 0.006333253812044859, 0.06242881715297699, -0.08683445304632187, -0.03274187818169594, 0.576445460319519, -0.12278394401073456, -0.5476908683776855, 0.3968001902103424));
	r += mul(s2_2, min16float4x4(-0.0406569242477417, -0.1791817992925644, 0.16299556195735931, 0.03384149447083473, 0.019093107432127, 0.03894961252808571, -0.07494842261075974, 0.028692325577139854, -0.07349862903356552, -0.057851504534482956, -0.05577454715967178, -0.02122374065220356, -0.24990001320838928, -0.09654013812541962, 0.010377279482781887, 0.2427324801683426));
	r += mul(s2_3, min16float4x4(0.026895705610513687, -0.15927603840827942, 0.40941140055656433, 0.10596906393766403, 0.053315091878175735, 0.37802284955978394, -0.20519036054611206, 0.1556180864572525, -0.03345036506652832, -0.06868037581443787, 0.030908742919564247, 0.19695571064949036, -0.0894017368555069, -0.15403461456298828, 0.088577039539814, -0.029026394709944725));
	r += mul(s2_4, min16float4x4(-0.09819071739912033, -0.5063297152519226, 0.2705104947090149, -0.1488797664642334, -0.05919340252876282, 0.2666285037994385, -0.20635011792182922, 0.07970241457223892, -0.05411524698138237, 0.07664703577756882, 0.16044020652770996, 0.029680805280804634, 0.3857120871543884, -0.07750608772039413, 0.2924578785896301, -0.2788369357585907));
	r += mul(s2_5, min16float4x4(-0.02161121554672718, -0.15870848298072815, 0.1099054217338562, 0.044422250241041183, -0.02359657734632492, 0.14249861240386963, -0.011147478595376015, -0.015999548137187958, -0.1274433583021164, 0.044519562274217606, -0.0015287826536223292, -0.06904743611812592, 0.12204992771148682, 0.02748294733464718, 0.11483757197856903, -0.09743357449769974));
	r += mul(s2_6, min16float4x4(0.05630965903401375, -0.23443086445331573, 0.007461258675903082, 0.06976355612277985, 0.10260368883609772, -0.022657478228211403, -0.14264068007469177, 0.2434772402048111, 0.24730829894542694, 0.09248258173465729, 0.0028992388397455215, 0.006764434743672609, -0.09053212404251099, -0.027352476492524147, 0.05098506063222885, 0.04228877276182175));
	r += mul(s2_7, min16float4x4(0.13094758987426758, -0.023301033303141594, 0.11113615334033966, -0.01853201724588871, 0.13936808705329895, 0.08475346863269806, -0.08790376037359238, 0.11653344333171844, 0.10800395905971527, 0.0388571098446846, 0.016730478033423424, -0.1860501915216446, -0.15101522207260132, 0.14297360181808472, 0.13020291924476624, -0.14856573939323425));
	r += mul(s2_8, min16float4x4(0.12413613498210907, -0.05670228973031044, 0.13134682178497314, -0.05773703381419182, 0.011145454831421375, 0.0655839592218399, -0.11502363532781601, 0.052127111703157425, 0.06950431317090988, -0.05965721234679222, -0.08667711913585663, 0.0739847794175148, -0.15728288888931274, -0.1340923309326172, 0.060715802013874054, -0.01712133176624775));
	r += mul(s3_0, min16float4x4(0.004339086357504129, -0.18116584420204163, 0.09039068967103958, 0.08576681464910507, 0.07012275606393814, 0.10950510948896408, 0.050430212169885635, -0.009521779604256153, 0.07487664371728897, 0.01878812536597252, 0.1221567764878273, -0.09907560050487518, -0.011799106374382973, 0.08111896365880966, -0.09406380355358124, 0.022961847484111786));
	r += mul(s3_1, min16float4x4(-0.06737735867500305, -0.1510273963212967, 0.21549971401691437, -0.005621011834591627, 0.03400154411792755, 0.08415698260068893, 0.09174179285764694, -0.020922480151057243, 0.06306596845388412, -0.06897839158773422, -0.04989522695541382, 0.02118837833404541, -0.20212142169475555, -0.027368392795324326, -0.1722089797258377, 0.05086223781108856));
	r += mul(s3_2, min16float4x4(0.13232389092445374, -0.05114675313234329, 0.03908839449286461, -0.05553450435400009, 0.05748022347688675, -0.029583703726530075, 0.058445535600185394, 0.021178193390369415, 0.21698231995105743, 0.08937051147222519, 0.16717305779457092, 0.006559938658028841, 0.00272911018691957, 0.03757404536008835, 0.08177600055932999, -0.16542494297027588));
	r += mul(s3_3, min16float4x4(-0.07223807275295258, -0.37911471724510193, 0.05391744151711464, -0.14905571937561035, -0.19730447232723236, 0.12366189062595367, -0.2687337100505829, -0.18597523868083954, -0.5610358715057373, -0.18889689445495605, -0.5252982974052429, 0.11749943345785141, -0.038947734981775284, -0.12846726179122925, 0.15083901584148407, -0.11462180316448212));
	r += mul(s3_4, min16float4x4(-0.08178713917732239, -0.27443698048591614, 0.11383695155382156, 0.3190552890300751, -0.01942923292517662, 0.26302921772003174, -0.5367620587348938, 0.10799599438905716, 0.04511210694909096, -0.13430850207805634, 0.20242127776145935, 0.05304646119475365, 0.11256382614374161, -0.03401684761047363, 0.22440190613269806, 0.02405519038438797));
	r += mul(s3_5, min16float4x4(-0.07406110316514969, -0.17286457121372223, 0.17555536329746246, -0.1550552099943161, -0.06204444169998169, 0.13641293346881866, -0.1520586907863617, 0.07388909161090851, 0.18126609921455383, 0.04178875684738159, 0.0757058709859848, -0.023784032091498375, 0.03929555043578148, -0.010834126733243465, 0.050276730209589005, -0.026510009542107582));
	r += mul(s3_6, min16float4x4(-0.003891360480338335, -0.22021152079105377, 0.24743050336837769, -0.13536573946475983, 0.05622774735093117, 0.18719232082366943, 0.027777984738349915, -0.04509735107421875, 0.3642593324184418, -0.009732947684824467, 0.1451209932565689, -0.5997464060783386, -0.0008486559963785112, -0.01991979405283928, -0.03672914579510689, 0.02887951023876667));
	r += mul(s3_7, min16float4x4(-0.08614937216043472, -0.35121825337409973, 0.23561370372772217, -0.16186228394508362, 0.09178367257118225, 0.16771300137043, -0.11177150905132294, 0.23092448711395264, -0.043515343219041824, -0.05199601128697395, -0.0691322460770607, 0.11375504732131958, 0.025563888251781464, 0.05051933601498604, -0.14877283573150635, 0.048029545694589615));
	r += mul(s3_8, min16float4x4(-0.13667400181293488, -0.17564325034618378, 0.13718102872371674, 0.017272435128688812, 0.053664859384298325, 0.1198204755783081, -0.127309188246727, 0.01725407876074314, 0.018442213535308838, 0.06101250275969505, 0.11548656970262527, -0.17260880768299103, 0.0760534405708313, 0.048768557608127594, -0.09596575796604156, 0.10996030271053314));
	r += min16float4(0.0036584960762411356, -0.0017221653833985329, 0.0036223845090717077, 0.01780744642019272);
	return r;
}
void Pass2(uint2 blockStart, uint3 tid) {
	float2 pt = float2(GetInputPt());
	uint2 gxy = Rmp8x8(tid.x) + blockStart;
	uint2 size = GetInputSize();
	if (gxy.x >= size.x || gxy.y >= size.y) {
		return;
	}
	float2 pos = (gxy + 0.5) * pt;
	min16float4 s0_0 = l0(-1.0, -1.0);
	min16float4 s0_1 = l0(0.0, -1.0);
	min16float4 s0_2 = l0(1.0, -1.0);
	min16float4 s0_3 = l0(-1.0, 0.0);
	min16float4 s0_4 = l0(0.0, 0.0);
	min16float4 s0_5 = l0(1.0, 0.0);
	min16float4 s0_6 = l0(-1.0, 1.0);
	min16float4 s0_7 = l0(0.0, 1.0);
	min16float4 s0_8 = l0(1.0, 1.0);
	min16float4 s1_0 = max(-s0_0, 0.0);
	min16float4 s1_1 = max(-s0_1, 0.0);
	min16float4 s1_2 = max(-s0_2, 0.0);
	min16float4 s1_3 = max(-s0_3, 0.0);
	min16float4 s1_4 = max(-s0_4, 0.0);
	min16float4 s1_5 = max(-s0_5, 0.0);
	min16float4 s1_6 = max(-s0_6, 0.0);
	min16float4 s1_7 = max(-s0_7, 0.0);
	min16float4 s1_8 = max(-s0_8, 0.0);
	s0_0 = max(s0_0, 0.0);
	s0_1 = max(s0_1, 0.0);
	s0_2 = max(s0_2, 0.0);
	s0_3 = max(s0_3, 0.0);
	s0_4 = max(s0_4, 0.0);
	s0_5 = max(s0_5, 0.0);
	s0_6 = max(s0_6, 0.0);
	s0_7 = max(s0_7, 0.0);
	s0_8 = max(s0_8, 0.0);
	min16float4 s2_0 = l1(-1.0, -1.0);
	min16float4 s2_1 = l1(0.0, -1.0);
	min16float4 s2_2 = l1(1.0, -1.0);
	min16float4 s2_3 = l1(-1.0, 0.0);
	min16float4 s2_4 = l1(0.0, 0.0);
	min16float4 s2_5 = l1(1.0, 0.0);
	min16float4 s2_6 = l1(-1.0, 1.0);
	min16float4 s2_7 = l1(0.0, 1.0);
	min16float4 s2_8 = l1(1.0, 1.0);
	min16float4 s3_0 = max(-s2_0, 0.0);
	min16float4 s3_1 = max(-s2_1, 0.0);
	min16float4 s3_2 = max(-s2_2, 0.0);
	min16float4 s3_3 = max(-s2_3, 0.0);
	min16float4 s3_4 = max(-s2_4, 0.0);
	min16float4 s3_5 = max(-s2_5, 0.0);
	min16float4 s3_6 = max(-s2_6, 0.0);
	min16float4 s3_7 = max(-s2_7, 0.0);
	min16float4 s3_8 = max(-s2_8, 0.0);
	s2_0 = max(s2_0, 0.0);
	s2_1 = max(s2_1, 0.0);
	s2_2 = max(s2_2, 0.0);
	s2_3 = max(s2_3, 0.0);
	s2_4 = max(s2_4, 0.0);
	s2_5 = max(s2_5, 0.0);
	s2_6 = max(s2_6, 0.0);
	s2_7 = max(s2_7, 0.0);
	s2_8 = max(s2_8, 0.0);
	conv1_0[gxy] = f0(pt, pos, s0_0, s0_1, s0_2, s0_3, s0_4, s0_5, s0_6, s0_7, s0_8, s1_0, s1_1, s1_2, s1_3, s1_4, s1_5, s1_6, s1_7, s1_8, s2_0, s2_1, s2_2, s2_3, s2_4, s2_5, s2_6, s2_7, s2_8, s3_0, s3_1, s3_2, s3_3, s3_4, s3_5, s3_6, s3_7, s3_8);
	conv1_1[gxy] = f1(pt, pos, s0_0, s0_1, s0_2, s0_3, s0_4, s0_5, s0_6, s0_7, s0_8, s1_0, s1_1, s1_2, s1_3, s1_4, s1_5, s1_6, s1_7, s1_8, s2_0, s2_1, s2_2, s2_3, s2_4, s2_5, s2_6, s2_7, s2_8, s3_0, s3_1, s3_2, s3_3, s3_4, s3_5, s3_6, s3_7, s3_8);
}
//!PASS 3
//!DESC CuNNy-2x8C-BILINEAR-CHROMA-NVL-conv2
//!BLOCK_SIZE 8
//!NUM_THREADS 64
//!IN conv1_0, conv1_1
//!OUT conv2_0, conv2_1
#define O(t, p) t.SampleLevel(SP, pos + p * pt, 0)
#define l0(x, y) O(conv1_0, float2(x, y))
#define l1(x, y) O(conv1_1, float2(x, y))
float4 f0(float2 pt, float2 pos, min16float4 s0_0, min16float4 s0_1, min16float4 s0_2, min16float4 s0_3, min16float4 s0_4, min16float4 s0_5, min16float4 s0_6, min16float4 s0_7, min16float4 s0_8, min16float4 s1_0, min16float4 s1_1, min16float4 s1_2, min16float4 s1_3, min16float4 s1_4, min16float4 s1_5, min16float4 s1_6, min16float4 s1_7, min16float4 s1_8, min16float4 s2_0, min16float4 s2_1, min16float4 s2_2, min16float4 s2_3, min16float4 s2_4, min16float4 s2_5, min16float4 s2_6, min16float4 s2_7, min16float4 s2_8, min16float4 s3_0, min16float4 s3_1, min16float4 s3_2, min16float4 s3_3, min16float4 s3_4, min16float4 s3_5, min16float4 s3_6, min16float4 s3_7, min16float4 s3_8) {
	min16float4 r = 0.0;
	r += mul(s0_0, min16float4x4(-0.002156475093215704, -0.06165337935090065, -0.18777257204055786, -0.022674385458230972, 0.005811573937535286, -0.01580568589270115, -0.02035432681441307, -0.030708525329828262, 0.11001282185316086, -0.001220915000885725, 0.01350244227796793, -0.1247323527932167, 0.10521925985813141, -0.03410714119672775, 0.003829629858955741, -0.06608415395021439));
	r += mul(s0_1, min16float4x4(0.05376053601503372, 0.02647264301776886, 0.22436150908470154, -0.36230432987213135, -0.008730299770832062, -0.019596416503190994, -0.006479809060692787, -0.06678923964500427, 0.007039989810436964, 0.011119007132947445, -0.18860001862049103, -0.06751463562250137, -0.04901130124926567, 0.03512647747993469, 0.06517723947763443, 0.1772364377975464));
	r += mul(s0_2, min16float4x4(0.09603260457515717, -0.003878846298903227, -0.1268218606710434, 0.1780531108379364, -0.011623894795775414, 0.012080030515789986, 0.07446363568305969, 0.0025884918868541718, -0.05036133527755737, 0.03358770161867142, -0.041816920042037964, -0.05476401001214981, 0.01432096865028143, -0.030233807861804962, 0.1324281394481659, -0.016798611730337143));
	r += mul(s0_3, min16float4x4(0.11881036311388016, -0.048935890197753906, 0.21130454540252686, 0.19434016942977905, 0.04677046835422516, 0.007126303389668465, 0.02974414825439453, 0.21812833845615387, 0.9489774703979492, -2.384634017944336, -0.1263049691915512, -0.08430273085832596, 0.08640648424625397, 0.04299675673246384, 0.06343590468168259, 0.13996043801307678));
	r += mul(s0_4, min16float4x4(0.22606748342514038, -0.05895893648266792, -0.09823428839445114, -0.12432128190994263, 0.2123980075120926, -0.18017584085464478, -0.276372492313385, -0.4903165102005005, -0.05716182291507721, -0.04757001996040344, 0.13311533629894257, 0.1782410889863968, -0.014547700993716717, 0.023340649902820587, 0.42305415868759155, 0.5325136184692383));
	r += mul(s0_5, min16float4x4(0.03625303506851196, 0.004937055520713329, 0.05150212347507477, 0.15505999326705933, 0.012512519024312496, -0.002073228359222412, -0.09521109610795975, -0.017588095739483833, -0.04467356950044632, -0.009858896024525166, -0.14500899612903595, -0.1303708255290985, -0.07550682872533798, -0.06692159175872803, 0.01343188714236021, -0.3153858482837677));
	r += mul(s0_6, min16float4x4(0.027236755937337875, 0.009698949754238129, -0.011628742329776287, 0.00598536292091012, 0.20166082680225372, -0.11960648745298386, -0.0403880774974823, -0.075821653008461, 0.17333118617534637, -0.029221311211586, -0.014952141791582108, -0.2419031709432602, -0.13465368747711182, 0.02232806384563446, -0.0004031840362586081, -0.06924194097518921));
	r += mul(s0_7, min16float4x4(-0.061642199754714966, -0.11813738197088242, 0.140367791056633, 0.15701694786548615, 0.12925900518894196, 0.01499067060649395, 0.04379597678780556, -0.05429034307599068, 0.35410135984420776, -0.22271010279655457, -0.07693267613649368, 0.1325889229774475, -0.04407067224383354, 0.019442500546574593, 0.19617897272109985, 0.13140620291233063));
	r += mul(s0_8, min16float4x4(0.05722968280315399, -0.0528668574988842, 0.06022174656391144, -0.05969421565532684, -0.00376634462736547, 0.08815719932317734, 0.029184553772211075, 0.03820763900876045, -0.025058865547180176, -0.05302849039435387, 0.055228978395462036, 0.05513966083526611, 0.04172650724649429, -0.07264609634876251, 0.1882251799106598, 0.1770407259464264));
	r += mul(s1_0, min16float4x4(0.2416357398033142, -0.0662909671664238, -0.15172258019447327, 0.10072421282529831, -0.02736368402838707, 0.056266698986291885, 0.02984045445919037, -0.06323207914829254, -0.0030868679750710726, -0.0026282016187906265, -0.0012484267354011536, 0.04432566836476326, -0.16767002642154694, 0.08140522986650467, -0.03917413577437401, -0.025774670764803886));
	r += mul(s1_1, min16float4x4(0.09937212616205215, -0.1565845012664795, 0.3590409457683563, -0.22098107635974884, -0.03574712201952934, 0.012956991791725159, -0.09690684080123901, 0.16917015612125397, -0.006313889753073454, 0.033779971301555634, 0.07050894945859909, -0.03354683518409729, 0.003691194811835885, -0.05849213898181915, -0.23984934389591217, -0.02982419542968273));
	r += mul(s1_2, min16float4x4(0.011346586979925632, -0.0005648836377076805, -0.0013377618743106723, 0.025589043274521828, 0.07641607522964478, -0.04469620808959007, 0.027469368651509285, -0.13230249285697937, 0.035738009959459305, -0.018711606040596962, -0.05138043686747551, -0.021583817899227142, -0.0748211145401001, 0.06724468618631363, 0.13269831240177155, 0.106203094124794));
	r += mul(s1_3, min16float4x4(-0.13037459552288055, 0.07185274362564087, 0.04462995380163193, 0.12057361006736755, 0.057426683604717255, -0.1662909984588623, 0.03222668543457985, -0.08094330132007599, 0.08986847847700119, -0.038203753530979156, -0.01527209859341383, -0.04379981383681297, -0.07011918723583221, -0.045021917670965195, 0.09829317033290863, 0.07868251204490662));
	r += mul(s1_4, min16float4x4(-0.09654374420642853, -0.0010982535313814878, 0.1333000659942627, -0.260407418012619, 0.5630741119384766, -0.20071528851985931, 0.10521580278873444, -0.4566038250923157, -0.03674526885151863, -0.11791932582855225, 0.03718647360801697, 0.2121068835258484, 0.30220791697502136, 0.059949856251478195, 0.20052076876163483, -0.04746874049305916));
	r += mul(s1_5, min16float4x4(0.1608007699251175, -0.09631399810314178, -0.1958571821451187, -0.03466705232858658, 0.10807417333126068, 0.04003702104091644, -0.09623865783214569, -0.04615349695086479, 0.18406827747821808, -0.037256017327308655, 0.2569321095943451, -0.051338739693164825, -0.13730476796627045, 0.10081873834133148, -0.009334210306406021, -0.06652750819921494));
	r += mul(s1_6, min16float4x4(0.062481291592121124, -0.039505571126937866, 0.005684589501470327, 0.018849177286028862, 0.044054821133613586, 0.01263011246919632, -0.040779490023851395, -0.03395981714129448, -0.0557841993868351, 0.027729716151952744, -0.016912121325731277, 0.01132012065500021, 0.16845721006393433, -0.09204228222370148, 0.05283733084797859, 0.04870811849832535));
	r += mul(s1_7, min16float4x4(-0.10511045157909393, 0.03605601564049721, -0.10222972184419632, -0.17598004639148712, 0.058021921664476395, -0.22587135434150696, 0.06266099214553833, 0.1498955935239792, 0.11501853168010712, 0.02067652903497219, 0.015390326268970966, -0.04958523437380791, -0.035753801465034485, 0.05055060237646103, -0.14208635687828064, -0.1934783011674881));
	r += mul(s1_8, min16float4x4(0.04214897006750107, 0.03997433930635452, -0.047989122569561005, 0.19185352325439453, -0.05716386437416077, -0.21144187450408936, -0.07980770617723465, -0.12221332639455795, 0.09002242237329483, 0.049702130258083344, -0.032172322273254395, -0.09643644094467163, -0.007571508642286062, 0.12036065012216568, -0.06323347240686417, -0.02714337594807148));
	r += mul(s2_0, min16float4x4(-0.08165444433689117, 0.012007196433842182, -0.030269933864474297, -0.01641913130879402, -0.07629820704460144, 0.0022942707873880863, -0.055510666221380234, 0.11911755055189133, 0.036776281893253326, -0.00113737303763628, 0.025216473266482353, 0.11617006361484528, 0.06271526962518692, -0.09158426523208618, 0.12852953374385834, 0.13228842616081238));
	r += mul(s2_1, min16float4x4(-0.037752680480480194, 0.026434320956468582, 0.010899856686592102, -0.05255892500281334, 0.022765668109059334, 0.06439618766307831, -0.20923548936843872, 0.1072026938199997, -0.026773346588015556, -0.1378355771303177, 0.014129039831459522, 0.14081962406635284, -0.10291201621294022, 0.09035041183233261, -0.004167602863162756, -0.11196336895227432));
	r += mul(s2_2, min16float4x4(0.05218035727739334, -0.009083869867026806, 0.03205455467104912, 0.055302973836660385, -0.02340734750032425, 0.01752842403948307, -0.07845702767372131, -0.05770280212163925, -0.02615807205438614, -0.0449802465736866, 0.1711188703775406, -0.07209581881761551, -0.04994367063045502, 0.019395941868424416, 0.042911119759082794, 0.20751573145389557));
	r += mul(s2_3, min16float4x4(0.21558764576911926, -0.09833362698554993, -0.1290668100118637, -0.15256285667419434, 0.12141115218400955, 0.041042786091566086, -0.08524851500988007, -0.1094946637749672, 0.07906124740839005, 0.006071333773434162, -0.2024790346622467, -0.09933902323246002, -0.02606171928346157, 0.045011699199676514, -0.007382325362414122, 0.010666088201105595));
	r += mul(s2_4, min16float4x4(-0.03701318800449371, 0.0016921261558309197, 0.07693106681108475, 0.1923036426305771, -0.5113418698310852, 0.1948241889476776, -0.1459968537092209, 0.3495078384876251, -0.1635662168264389, 0.09720581024885178, 0.18309204280376434, 0.12919823825359344, -0.0671977624297142, -0.051953550428152084, 0.20056398212909698, 0.33356308937072754));
	r += mul(s2_5, min16float4x4(0.14110831916332245, -0.06450697779655457, 0.1606397032737732, 0.09611966460943222, -0.10450863838195801, 0.042423538863658905, 0.05141539126634598, 0.037259768694639206, -0.02558554895222187, -0.07881787419319153, 0.153807133436203, -0.07675614207983017, 0.0157488826662302, 0.010999525897204876, -0.03848482295870781, 0.11359477043151855));
	r += mul(s2_6, min16float4x4(0.12328688055276871, 0.01124601624906063, 0.06425528228282928, 0.14794990420341492, -0.03956134244799614, 0.03576065972447395, -0.04587581753730774, 0.012421165592968464, 0.03138116002082825, -0.04247787967324257, -0.010518395341932774, -0.02082124724984169, -0.1634155809879303, 0.1420961171388626, -0.09496694803237915, -0.12329744547605515));
	r += mul(s2_7, min16float4x4(-0.4893060028553009, -0.0023976676166057587, -0.20226021111011505, -0.18212449550628662, 0.14397703111171722, 0.004073570016771555, 0.008247974328696728, 0.041687071323394775, 0.04358241334557533, 0.1966087818145752, -0.08748162537813187, -0.12377205491065979, 0.07934530824422836, -0.035921815782785416, 0.2297053337097168, 0.29269343614578247));
	r += mul(s2_8, min16float4x4(0.048832546919584274, -0.002280460437759757, -0.0030549680814146996, 0.05040893703699112, -0.09127000719308853, -0.07731535285711288, -0.09576346725225449, -0.0881585106253624, 0.1440429985523224, -0.20072117447853088, -0.01980685070157051, 0.010397224687039852, 0.019491219893097878, -0.117889903485775, -0.012884160503745079, 0.051872994750738144));
	r += mul(s3_0, min16float4x4(0.09514132142066956, -0.11546618491411209, 0.07446277886629105, 0.01224942971020937, -0.03666213899850845, 0.008767741732299328, 0.11645282804965973, -0.032863181084394455, -0.19089309871196747, 0.12821270525455475, 0.2548826336860657, -0.06502632051706314, -0.2351495772600174, 0.2123851329088211, 0.05777513235807419, -0.030794234946370125));
	r += mul(s3_1, min16float4x4(0.028312774375081062, 0.008022594265639782, 0.22344274818897247, 0.05385642871260643, 0.11071819812059402, -0.046723224222660065, -0.09449253231287003, 0.3553352355957031, -0.15151873230934143, 0.05698271095752716, -0.2492043524980545, 0.11109242588281631, -0.11236324161291122, 0.05795595049858093, -0.08351375162601471, 0.1399732381105423));
	r += mul(s3_2, min16float4x4(-0.035191670060157776, 0.03620495647192001, -0.2055746614933014, 0.07606202363967896, 0.05381591618061066, -0.09433776885271072, 0.07017263770103455, -0.15486952662467957, 0.04748670011758804, -0.014315910637378693, -0.045753031969070435, 0.06318995356559753, 0.006455621216446161, 0.019564520567655563, 0.25489968061447144, 0.0057000769302248955));
	r += mul(s3_3, min16float4x4(-0.028629545122385025, 0.040077634155750275, 0.02198031358420849, 0.17353525757789612, -0.032165609300136566, -0.07099325209856033, 0.03658420220017433, -0.22710198163986206, 0.12029758840799332, -0.19205990433692932, 0.026811107993125916, -0.21893884241580963, -0.1058151125907898, 0.018633784726262093, -0.02547929808497429, -0.08788588643074036));
	r += mul(s3_4, min16float4x4(-0.11209501326084137, 0.0391889251768589, -0.027897274121642113, 0.1380845606327057, 0.049765802919864655, -0.4932655990123749, 0.27467334270477295, 0.3877028822898865, 0.5921543836593628, -0.28222689032554626, -0.013797933235764503, 0.5060173273086548, -0.3193323016166687, 0.057668741792440414, 0.09044843912124634, 0.10511375218629837));
	r += mul(s3_5, min16float4x4(0.0018718310166150331, -0.020627589896321297, -0.03916606679558754, 0.13726019859313965, -0.05037409067153931, 0.11526260524988174, -0.08515935391187668, -0.14011983573436737, 0.07153491675853729, 0.08945990353822708, 0.17342036962509155, -0.17984892427921295, -0.13039079308509827, 0.08035814762115479, 0.2646135687828064, 0.10033462196588516));
	r += mul(s3_6, min16float4x4(-0.044039640575647354, 0.05622754618525505, -0.03794723004102707, -0.043115947395563126, -0.14501948654651642, -0.03180934116244316, -0.013512130826711655, -0.031924620270729065, -0.09497945010662079, 0.028945012018084526, 0.06174193322658539, 0.029410693794488907, 0.019777240231633186, 0.019546885043382645, 0.03643173724412918, 0.05779925733804703));
	r += mul(s3_7, min16float4x4(0.04722439870238304, -0.06567677855491638, 0.19193051755428314, 0.23269426822662354, 0.07638712972402573, -0.06346719712018967, 0.02084004133939743, 0.005660160444676876, -0.004905345384031534, -0.07448775321245193, 0.14157836139202118, 0.011324466206133366, 0.213705912232399, -0.05291895195841789, -0.01804439350962639, -0.029286840930581093));
	r += mul(s3_8, min16float4x4(-0.10571403056383133, -0.06763403117656708, -0.03258592262864113, -0.09208891540765762, 0.050657086074352264, -0.01607741415500641, 0.04570862650871277, 0.09554332494735718, -0.028600376099348068, 0.1148788258433342, 0.05693107843399048, -0.009657938964664936, -0.0895802304148674, 0.09463576227426529, -0.000924126070458442, -0.04405151680111885));
	r += min16float4(0.005057132337242365, -9.50634857872501e-05, 0.0005660158349201083, 0.006523872725665569);
	return r;
}
float4 f1(float2 pt, float2 pos, min16float4 s0_0, min16float4 s0_1, min16float4 s0_2, min16float4 s0_3, min16float4 s0_4, min16float4 s0_5, min16float4 s0_6, min16float4 s0_7, min16float4 s0_8, min16float4 s1_0, min16float4 s1_1, min16float4 s1_2, min16float4 s1_3, min16float4 s1_4, min16float4 s1_5, min16float4 s1_6, min16float4 s1_7, min16float4 s1_8, min16float4 s2_0, min16float4 s2_1, min16float4 s2_2, min16float4 s2_3, min16float4 s2_4, min16float4 s2_5, min16float4 s2_6, min16float4 s2_7, min16float4 s2_8, min16float4 s3_0, min16float4 s3_1, min16float4 s3_2, min16float4 s3_3, min16float4 s3_4, min16float4 s3_5, min16float4 s3_6, min16float4 s3_7, min16float4 s3_8) {
	min16float4 r = 0.0;
	r += mul(s0_0, min16float4x4(-0.15185552835464478, -0.1323402374982834, -0.05968720093369484, -0.04828209429979324, -0.03637195751070976, 0.034478019922971725, -0.08085092902183533, 0.04015636816620827, 0.04617719724774361, 0.013630451634526253, 0.12191779166460037, -0.14960306882858276, -0.04943689703941345, 0.09735013544559479, 0.024601683020591736, -0.0526769794523716));
	r += mul(s0_1, min16float4x4(-0.08289133757352829, 0.08928870409727097, -0.1310807168483734, 0.08791211992502213, -0.1411159187555313, -0.0025942507199943066, -0.106439508497715, 0.06872610002756119, -0.029310718178749084, 0.2666018307209015, -0.2857421934604645, -0.012555808760225773, 0.11694062501192093, -0.026155821979045868, 0.048278503119945526, 0.00971597246825695));
	r += mul(s0_2, min16float4x4(0.11643704026937485, 0.1315271258354187, -0.10471442341804504, -0.12904424965381622, -0.01403571106493473, -0.0025392109528183937, 0.06170313060283661, 0.05059347674250603, -0.0430915430188179, -0.015765223652124405, -0.06062240153551102, 0.12646429240703583, -0.011498352512717247, 0.007995661348104477, 0.2623017728328705, -0.02842276357114315));
	r += mul(s0_3, min16float4x4(0.1847286820411682, 0.07054737210273743, -0.11987666040658951, 0.03259551525115967, -0.24809758365154266, 0.08436836302280426, 0.026756590232253075, -0.08170097321271896, -0.657191812992096, 0.1616264283657074, -0.13135090470314026, 0.202018141746521, 0.009217237122356892, 0.3110339939594269, -0.008102360181510448, -0.03374745696783066));
	r += mul(s0_4, min16float4x4(-0.2638334333896637, -0.3252662122249603, 0.07253917306661606, 0.09691122174263, -0.3291017711162567, 0.21376773715019226, -0.2019527554512024, -0.2572154402732849, 0.3384370505809784, -0.20384301245212555, -0.09249915182590485, -0.5140795111656189, 0.7285065650939941, -0.387671560049057, 0.11017308384180069, -0.25472143292427063));
	r += mul(s0_5, min16float4x4(0.09580785036087036, 0.10350918769836426, 0.09558209776878357, 0.13525281846523285, 0.038559284061193466, 0.11010798811912537, -0.12183967232704163, -0.023314738646149635, -0.17953914403915405, -0.18831324577331543, 0.06994527578353882, -0.19559699296951294, -0.10475199669599533, -0.10723286122083664, 0.2529246211051941, -0.18063850700855255));
	r += mul(s0_6, min16float4x4(-0.039566949009895325, 0.23710355162620544, 0.034224458038806915, -0.023235533386468887, -0.22116340696811676, 0.16292732954025269, 0.0387420579791069, 0.01175239123404026, -0.1023283377289772, 0.14055834710597992, 0.04310847446322441, 0.030178947374224663, -0.0029955836944282055, -0.014571400359272957, 0.04774397611618042, 0.09594402462244034));
	r += mul(s0_7, min16float4x4(-0.023842617869377136, -0.2272908091545105, 0.014127879403531551, -0.06531481444835663, -0.03440689668059349, -0.032825689762830734, -0.016643397510051727, -0.13063758611679077, -0.00026966709992848337, 0.5097652673721313, 0.08715230226516724, -0.027369167655706406, 0.019087383523583412, -0.5193156599998474, 0.06195760518312454, 0.06005535647273064));
	r += mul(s0_8, min16float4x4(-0.15654821693897247, -0.03470036759972572, 0.009422866627573967, 0.07120007276535034, 0.05595417693257332, 0.020882191136479378, 0.00699426606297493, 0.03868003562092781, 0.07493215054273605, -0.15061281621456146, 0.010990354232490063, -0.12833057343959808, 0.06666309386491776, -0.17812484502792358, 0.008070873096585274, 0.1255803257226944));
	r += mul(s1_0, min16float4x4(-0.17040306329727173, 0.2388187050819397, -0.0068144421093165874, -0.08247046172618866, 0.0002265239745611325, 0.05298515409231186, -0.03569137305021286, 0.05634509399533272, -0.0068063982762396336, -0.030388243496418, -0.050170913338661194, 0.0017398993950337172, -0.015177278779447079, -0.07043800503015518, 0.015772579237818718, 0.15598677098751068));
	r += mul(s1_1, min16float4x4(-0.24951417744159698, -0.2103486806154251, -0.0901830643415451, -0.3856928050518036, 0.04801272973418236, -0.01663021557033062, -0.08763302117586136, 0.04669544845819473, 0.012723728083074093, -0.017155034467577934, 0.046564169228076935, -0.031380653381347656, -0.276604026556015, 0.06255462020635605, 0.0513935349881649, 0.025609133765101433));
	r += mul(s1_2, min16float4x4(0.11614851653575897, -0.009069470688700676, -0.3779311776161194, -0.04071248695254326, -0.13217702507972717, 0.15352340042591095, -0.3866247534751892, -0.05944834277033806, 0.008822737261652946, -0.036418505012989044, -0.016434621065855026, -0.08959843963384628, 0.11695563793182373, 0.00037318337126635015, 0.4242226183414459, 0.14794830977916718));
	r += mul(s1_3, min16float4x4(-0.01616719365119934, 0.027371058240532875, 0.07983407378196716, 0.1508815884590149, -0.09155455976724625, 0.0981290191411972, 0.07273482531309128, 0.0073348102159798145, -0.020521366968750954, 0.061700884252786636, 0.008147693239152431, -0.05773620679974556, 0.05231969431042671, -0.24920912086963654, 0.05141204968094826, -0.05450138822197914));
	r += mul(s1_4, min16float4x4(0.18067489564418793, -0.463873028755188, 0.1743016391992569, -0.11743979156017303, -0.3715132176876068, -0.3311077654361725, 0.1163346990942955, -0.3031218647956848, 0.13522662222385406, 0.09176456928253174, -0.03628487139940262, 0.12951719760894775, -0.075099416077137, 0.0046210880391299725, -0.0694367066025734, 0.1209680438041687));
	r += mul(s1_5, min16float4x4(0.05860414355993271, 0.29003897309303284, -0.1292281597852707, -0.26465460658073425, 0.262844979763031, 0.12511569261550903, 0.18433839082717896, -0.592517077922821, -0.14702308177947998, 0.07741469144821167, 0.027589226141572, 0.1902083307504654, 0.15239308774471283, 0.06801304966211319, -0.1614741086959839, -0.061914753168821335));
	r += mul(s1_6, min16float4x4(0.057052381336688995, -0.041615456342697144, -0.030195090919733047, -0.0027867902535945177, 0.06471703946590424, 0.05791101232171059, -0.03629163280129433, -0.08471879363059998, -0.035519201308488846, 0.0535476952791214, 0.015326043590903282, 0.032250430434942245, -0.005722828209400177, 0.07494447380304337, -0.020553411915898323, 0.03741997480392456));
	r += mul(s1_7, min16float4x4(0.028518633916974068, -0.07125817984342575, -0.004166911356151104, 0.01121626328676939, 0.12810423970222473, -0.24677354097366333, -0.05693472921848297, -0.2607417106628418, -0.048000700771808624, 0.060379382222890854, 0.012501062825322151, -0.11365441232919693, -0.02521982043981552, 0.0033586143981665373, -0.022581186145544052, -0.06144067272543907));
	r += mul(s1_8, min16float4x4(0.21235188841819763, 0.16885250806808472, -0.05997219681739807, -0.10719563812017441, -0.07642251253128052, 0.10692384839057922, 0.09825067967176437, 0.10667449235916138, -0.11156756430864334, 0.16244111955165863, -0.032706163823604584, -0.009784648194909096, 0.0813436210155487, 0.006246419157832861, -0.00458693178370595, -0.06936486810445786));
	r += mul(s2_0, min16float4x4(0.03963552415370941, -0.03099352866411209, -0.06518823653459549, 0.0700763463973999, 0.1566593497991562, -0.1342822164297104, -0.047671813517808914, -0.09517852216959, 0.00886788871139288, 0.05315089970827103, 0.050444718450307846, -0.059707969427108765, 0.09152944386005402, -0.08016441017389297, 0.011973610147833824, -0.10260361433029175));
	r += mul(s2_1, min16float4x4(-0.034254517406225204, -0.05478624999523163, 0.04203799366950989, 0.13723808526992798, 0.12507866322994232, -0.023263268172740936, -0.030374126508831978, -0.0979376956820488, -0.10009139776229858, -0.04941714555025101, -0.004846569150686264, 0.017420316115021706, -0.11204437166452408, -0.16455461084842682, 0.11068135499954224, 0.06615746766328812));
	r += mul(s2_2, min16float4x4(0.05590080842375755, 0.06858891248703003, -0.046220794320106506, 0.010641765780746937, -0.054120659828186035, -0.03587116301059723, -0.10554978996515274, -0.13134607672691345, -0.077389657497406, -0.08812747150659561, 0.1674117147922516, 0.09583507478237152, 0.18994057178497314, 0.02020985819399357, -0.13845248520374298, 0.14040176570415497));
	r += mul(s2_3, min16float4x4(0.09105542302131653, 0.10591041296720505, 0.0663084015250206, -0.26621854305267334, 0.049676936119794846, -0.02597668766975403, -0.09488017112016678, -0.09696943312883377, -0.13134126365184784, -0.06492732465267181, -0.008966833353042603, -0.07871726900339127, -0.03080361895263195, 0.08232662081718445, -0.03607397899031639, 0.09384775161743164));
	r += mul(s2_4, min16float4x4(-0.0457807257771492, -0.28070271015167236, -0.13181105256080627, -0.12022999674081802, 0.041126739233732224, 0.22151604294776917, -0.02977485954761505, 0.4764370322227478, 0.09182631224393845, 0.24968312680721283, 0.15659241378307343, -0.10335559397935867, 0.21994611620903015, -0.33761066198349, 0.14386144280433655, -0.028293633833527565));
	r += mul(s2_5, min16float4x4(0.09349864721298218, 0.043443791568279266, -0.011381170712411404, -0.032589033246040344, -0.07067641615867615, -0.2117355465888977, 0.22788366675376892, 0.17915761470794678, -0.027831217274069786, -0.17903058230876923, -0.13920757174491882, -0.16991285979747772, 0.09916163235902786, -0.0705002024769783, 0.12251362204551697, -0.15257300436496735));
	r += mul(s2_6, min16float4x4(0.17522244155406952, 0.08602625131607056, -0.024454643949866295, -0.046621207147836685, -0.018320303410291672, 0.07300733774900436, 0.00872618705034256, 0.006276424042880535, -0.02506810612976551, -0.014219628646969795, 0.0455598421394825, 0.0542784221470356, -0.02339264564216137, -0.11737580597400665, 0.0015387277817353606, -0.029821433126926422));
	r += mul(s2_7, min16float4x4(0.1597113460302353, -0.5644535422325134, -0.030915435403585434, -0.1568938046693802, 0.04324403032660484, 0.1480252593755722, -0.02808329463005066, -0.06067729741334915, 0.0250875111669302, 0.18876780569553375, -0.05329528823494911, 0.2424086332321167, 0.19287344813346863, -0.1295313537120819, -0.03026307187974453, 0.08761008083820343));
	r += mul(s2_8, min16float4x4(0.005939081311225891, 0.1460159718990326, -0.0693463534116745, 0.11453226208686829, -0.011080334894359112, -0.13281786441802979, 0.02510235831141472, -0.16304409503936768, 0.10171087831258774, 0.007589359767735004, 0.05742613226175308, -0.2348613440990448, 0.030281316488981247, 0.10418295860290527, 0.007071903441101313, 0.06370346248149872));
	r += mul(s3_0, min16float4x4(-0.06942242383956909, -0.005308569874614477, -0.05537145584821701, -0.04348084703087807, 0.10642282664775848, 0.06761329621076584, 0.05431642383337021, 0.08045461028814316, 0.19032610952854156, -0.12497112154960632, -8.839452493702993e-05, 0.13440102338790894, 0.13261356949806213, -0.1938019096851349, 0.06088244915008545, 0.06680600345134735));
	r += mul(s3_1, min16float4x4(0.2096167951822281, -0.16832667589187622, -0.062276650220155716, -0.10766628384590149, 0.23207572102546692, -0.03664940968155861, -0.04718101769685745, -0.09545565396547318, 0.16651831567287445, 0.026132049039006233, -0.021551327779889107, 0.39941802620887756, -0.1105971485376358, 0.01814969815313816, 0.20887769758701324, 0.25385695695877075));
	r += mul(s3_2, min16float4x4(0.04426627978682518, 0.03662146255373955, -0.736328125, -0.021399805322289467, -0.11317937076091766, -0.006069814320653677, -0.23124535381793976, -0.15764561295509338, -0.03366217762231827, 0.1294649988412857, 0.034601327031850815, 0.15347820520401, -0.07025417685508728, 0.09967803210020065, 0.6649823188781738, 0.15808051824569702));
	r += mul(s3_3, min16float4x4(0.0005478283273987472, -0.11203116923570633, -0.09054343402385712, -0.009900247678160667, -0.02721938118338585, 0.04823899641633034, 0.11862871795892715, 0.018802199512720108, 0.06583414226770401, -0.20101822912693024, 0.011299796402454376, -0.2587205469608307, -0.034434784203767776, -0.13510136306285858, 0.05043643340468407, 0.05774235725402832));
	r += mul(s3_4, min16float4x4(0.16888980567455292, 0.011988702230155468, 0.029584767296910286, -0.15576329827308655, 0.24026226997375488, -0.03360241651535034, 0.10718333721160889, -0.02747129276394844, 0.20487037301063538, 0.24637095630168915, -0.2861032783985138, -0.5550695657730103, 0.3715016543865204, -0.05473344400525093, -0.17046399414539337, 0.40307584404945374));
	r += mul(s3_5, min16float4x4(-0.007344008889049292, -0.08417046070098877, 0.04543519765138626, -0.020474335178732872, -0.15179912745952606, -0.05018135532736778, 0.03754209354519844, 0.23289738595485687, -0.19444338977336884, -0.07559425383806229, -0.17197182774543762, -0.11063383519649506, 0.15184707939624786, -0.1359686553478241, 0.07101134210824966, 0.3410499095916748));
	r += mul(s3_6, min16float4x4(-0.05546265095472336, -0.016859091818332672, 0.017420392483472824, -0.015203367918729782, 0.034190163016319275, -0.29312586784362793, -0.05094551667571068, -0.04100995883345604, -0.04356766492128372, 0.0009592980495654047, 0.03741640970110893, 0.059404972940683365, 0.06214342266321182, 0.0261678583920002, -0.03458036109805107, 0.04910958930850029));
	r += mul(s3_7, min16float4x4(0.0963013768196106, -0.0055048055946826935, 0.038413867354393005, 0.0793445035815239, 0.024596380069851875, -0.08316798508167267, -0.07907962054014206, -0.10469947755336761, -0.13622865080833435, -0.20569314062595367, 0.06716205924749374, -0.005462998989969492, -0.023816831409931183, 0.09668263047933578, -0.01646372489631176, -0.19269973039627075));
	r += mul(s3_8, min16float4x4(-0.11051719635725021, -0.07248404622077942, 0.013642918318510056, 0.0420442558825016, 0.050842683762311935, 0.11253064125776291, -0.04064692184329033, 0.007148201111704111, -0.06017346307635307, -0.10391999036073685, -0.059626996517181396, 0.1587083786725998, -0.0076703522354364395, -0.14282649755477905, -0.009014623239636421, 0.08277618139982224));
	r += min16float4(0.0011415390763431787, -0.0077257235534489155, -0.011196033097803593, -0.008237693458795547);
	return r;
}
void Pass3(uint2 blockStart, uint3 tid) {
	float2 pt = float2(GetInputPt());
	uint2 gxy = Rmp8x8(tid.x) + blockStart;
	uint2 size = GetInputSize();
	if (gxy.x >= size.x || gxy.y >= size.y) {
		return;
	}
	float2 pos = (gxy + 0.5) * pt;
	min16float4 s0_0 = l0(-1.0, -1.0);
	min16float4 s0_1 = l0(0.0, -1.0);
	min16float4 s0_2 = l0(1.0, -1.0);
	min16float4 s0_3 = l0(-1.0, 0.0);
	min16float4 s0_4 = l0(0.0, 0.0);
	min16float4 s0_5 = l0(1.0, 0.0);
	min16float4 s0_6 = l0(-1.0, 1.0);
	min16float4 s0_7 = l0(0.0, 1.0);
	min16float4 s0_8 = l0(1.0, 1.0);
	min16float4 s1_0 = max(-s0_0, 0.0);
	min16float4 s1_1 = max(-s0_1, 0.0);
	min16float4 s1_2 = max(-s0_2, 0.0);
	min16float4 s1_3 = max(-s0_3, 0.0);
	min16float4 s1_4 = max(-s0_4, 0.0);
	min16float4 s1_5 = max(-s0_5, 0.0);
	min16float4 s1_6 = max(-s0_6, 0.0);
	min16float4 s1_7 = max(-s0_7, 0.0);
	min16float4 s1_8 = max(-s0_8, 0.0);
	s0_0 = max(s0_0, 0.0);
	s0_1 = max(s0_1, 0.0);
	s0_2 = max(s0_2, 0.0);
	s0_3 = max(s0_3, 0.0);
	s0_4 = max(s0_4, 0.0);
	s0_5 = max(s0_5, 0.0);
	s0_6 = max(s0_6, 0.0);
	s0_7 = max(s0_7, 0.0);
	s0_8 = max(s0_8, 0.0);
	min16float4 s2_0 = l1(-1.0, -1.0);
	min16float4 s2_1 = l1(0.0, -1.0);
	min16float4 s2_2 = l1(1.0, -1.0);
	min16float4 s2_3 = l1(-1.0, 0.0);
	min16float4 s2_4 = l1(0.0, 0.0);
	min16float4 s2_5 = l1(1.0, 0.0);
	min16float4 s2_6 = l1(-1.0, 1.0);
	min16float4 s2_7 = l1(0.0, 1.0);
	min16float4 s2_8 = l1(1.0, 1.0);
	min16float4 s3_0 = max(-s2_0, 0.0);
	min16float4 s3_1 = max(-s2_1, 0.0);
	min16float4 s3_2 = max(-s2_2, 0.0);
	min16float4 s3_3 = max(-s2_3, 0.0);
	min16float4 s3_4 = max(-s2_4, 0.0);
	min16float4 s3_5 = max(-s2_5, 0.0);
	min16float4 s3_6 = max(-s2_6, 0.0);
	min16float4 s3_7 = max(-s2_7, 0.0);
	min16float4 s3_8 = max(-s2_8, 0.0);
	s2_0 = max(s2_0, 0.0);
	s2_1 = max(s2_1, 0.0);
	s2_2 = max(s2_2, 0.0);
	s2_3 = max(s2_3, 0.0);
	s2_4 = max(s2_4, 0.0);
	s2_5 = max(s2_5, 0.0);
	s2_6 = max(s2_6, 0.0);
	s2_7 = max(s2_7, 0.0);
	s2_8 = max(s2_8, 0.0);
	conv2_0[gxy] = f0(pt, pos, s0_0, s0_1, s0_2, s0_3, s0_4, s0_5, s0_6, s0_7, s0_8, s1_0, s1_1, s1_2, s1_3, s1_4, s1_5, s1_6, s1_7, s1_8, s2_0, s2_1, s2_2, s2_3, s2_4, s2_5, s2_6, s2_7, s2_8, s3_0, s3_1, s3_2, s3_3, s3_4, s3_5, s3_6, s3_7, s3_8);
	conv2_1[gxy] = f1(pt, pos, s0_0, s0_1, s0_2, s0_3, s0_4, s0_5, s0_6, s0_7, s0_8, s1_0, s1_1, s1_2, s1_3, s1_4, s1_5, s1_6, s1_7, s1_8, s2_0, s2_1, s2_2, s2_3, s2_4, s2_5, s2_6, s2_7, s2_8, s3_0, s3_1, s3_2, s3_3, s3_4, s3_5, s3_6, s3_7, s3_8);
}
//!PASS 4
//!DESC CuNNy-2x8C-BILINEAR-CHROMA-NVL-out
//!BLOCK_SIZE 8
//!NUM_THREADS 64
//!IN conv2_0, conv2_1
//!OUT out_0
#define O(t, p) t.SampleLevel(SP, pos + p * pt, 0)
#define l0(x, y) O(conv2_0, float2(x, y))
#define l1(x, y) O(conv2_1, float2(x, y))
float4 f0(float2 pt, float2 pos, min16float4 s0_0, min16float4 s0_1, min16float4 s0_2, min16float4 s0_3, min16float4 s0_4, min16float4 s0_5, min16float4 s0_6, min16float4 s0_7, min16float4 s0_8, min16float4 s1_0, min16float4 s1_1, min16float4 s1_2, min16float4 s1_3, min16float4 s1_4, min16float4 s1_5, min16float4 s1_6, min16float4 s1_7, min16float4 s1_8, min16float4 s2_0, min16float4 s2_1, min16float4 s2_2, min16float4 s2_3, min16float4 s2_4, min16float4 s2_5, min16float4 s2_6, min16float4 s2_7, min16float4 s2_8, min16float4 s3_0, min16float4 s3_1, min16float4 s3_2, min16float4 s3_3, min16float4 s3_4, min16float4 s3_5, min16float4 s3_6, min16float4 s3_7, min16float4 s3_8) {
	min16float4 r = 0.0;
	r += mul(s0_0, min16float4x4(-0.15390661358833313, -0.05751461163163185, -0.022784050554037094, -0.008685091510415077, -0.36834248900413513, 0.007372887339442968, 0.24078436195850372, 0.09617690742015839, 0.04328133910894394, 0.008569115772843361, 0.021423988044261932, -0.0019308400806039572, -0.004403071478009224, -0.0025259130634367466, -0.0019137730123475194, 0.0017424223478883505));
	r += mul(s0_1, min16float4x4(-0.0891113132238388, -0.18212886154651642, -0.10062830150127411, -0.03698740899562836, -0.3382781445980072, -1.0420756340026855, 0.4951184093952179, 0.6247289776802063, 0.03006325475871563, 0.06271235644817352, -0.012199715711176395, 0.017081059515476227, -0.05017105117440224, -0.02757360227406025, -0.022171925753355026, -0.008765875361859798));
	r += mul(s0_2, min16float4x4(-0.013335363008081913, -0.04029344767332077, -0.03045499697327614, -0.08862318098545074, -0.09017125517129898, 0.13688404858112335, -0.11589816212654114, -0.07704606652259827, 0.00019587659335229546, 0.00942925177514553, 0.01046791672706604, 0.008436663076281548, -0.028586504980921745, -0.07105344533920288, -0.007082066964358091, -0.0328378826379776));
	r += mul(s0_3, min16float4x4(0.036292511969804764, 0.007312757428735495, -0.14990240335464478, -0.06372064352035522, -0.09082607179880142, -0.095394067466259, 0.17377157509326935, -0.06276820600032806, -0.11770839989185333, -0.03451434522867203, 0.07544104754924774, 0.028876623138785362, 0.11059338599443436, 0.02618153765797615, 0.0020252179820090532, -0.019236085936427116));
	r += mul(s0_4, min16float4x4(0.044507574290037155, 0.07776995003223419, 0.11544597893953323, -0.06676751375198364, 0.6894946694374084, 0.27441003918647766, -0.9016786813735962, 0.1645219773054123, 0.028201216831803322, -0.05093232914805412, 0.07998958230018616, 0.1691400557756424, 0.08462007343769073, 0.18953189253807068, -0.06910508126020432, 0.04210266098380089));
	r += mul(s0_5, min16float4x4(0.09229756891727448, 0.12445304542779922, 0.11115451902151108, 0.19695082306861877, 0.024829629808664322, 0.5097658038139343, 0.2118283361196518, -0.687504231929779, -0.002663212362676859, -0.03358400613069534, 0.015617919154465199, -0.06326257437467575, -0.09127874672412872, -0.09252510219812393, -0.09889210015535355, -0.15576165914535522));
	r += mul(s0_6, min16float4x4(-0.013839378952980042, -0.011642185971140862, 0.06140146031975746, 0.014516136609017849, 0.013018892146646976, 0.004205696284770966, -0.019683871418237686, -0.020569754764437675, 0.026788290590047836, 0.009596980176866055, -0.11825024336576462, -0.025151709094643593, -0.010519346222281456, 0.0013890523696318269, 0.06323181837797165, 0.018587691709399223));
	r += mul(s0_7, min16float4x4(0.004276750143617392, 0.002350293565541506, -0.014301957562565804, 0.0343017540872097, -0.015605048276484013, 0.05296734720468521, 0.013502596877515316, -0.013615871779620647, -0.035623811185359955, 0.011761090718209743, -0.05504031106829643, -0.16273486614227295, 0.003993047866970301, -0.03210289031267166, 0.10320477932691574, 0.09449909627437592));
	r += mul(s0_8, min16float4x4(0.015698667615652084, 0.020934520289301872, 0.028046539053320885, 0.02867727540433407, -0.07106834650039673, -0.12189371883869171, 0.12285324931144714, 0.13037389516830444, -0.028078284114599228, -0.06616213172674179, -0.056041453033685684, -0.05334489420056343, 0.011201448738574982, 0.029851915314793587, 0.01727285608649254, 0.05693398788571358));
	r += mul(s1_0, min16float4x4(0.14015984535217285, 0.08590666949748993, 0.00755339814350009, -0.02083406411111355, 0.050659842789173126, 0.02545645274221897, 0.009246522560715675, 0.0049015493132174015, 0.04921916872262955, -0.042001381516456604, -0.10150253027677536, 0.03836445510387421, 0.044290076941251755, -0.0017267398070544004, -0.07842980325222015, 0.03445766121149063));
	r += mul(s1_1, min16float4x4(0.3388669490814209, 0.23583966493606567, -0.05406976118683815, -0.03924672678112984, 0.05938541144132614, 0.08012891560792923, 0.030203567817807198, -0.004517420660704374, 0.11866588890552521, -0.32325661182403564, 0.08385566622018814, 0.021609853953123093, 0.28233397006988525, -0.26306256651878357, 0.06685183197259903, 0.06021113693714142));
	r += mul(s1_2, min16float4x4(0.016686435788869858, 0.1564251333475113, 0.006573953200131655, 0.012680888175964355, 0.013396390713751316, 0.028146399185061455, 0.00982386339455843, 0.03577283397316933, -0.02193213440477848, 0.013480864465236664, -0.0013653641799464822, -0.01593531295657158, 0.014550993219017982, 0.05262034758925438, 0.01625300757586956, 0.03802939131855965));
	r += mul(s1_3, min16float4x4(-0.04916185140609741, -0.06694000214338303, 0.2495245635509491, 0.039183229207992554, -0.0163340475410223, 0.013473226688802242, 0.03650503233075142, 0.030729176476597786, 0.11499001830816269, -0.06181308627128601, 0.17233483493328094, -0.1918945014476776, -0.14501963555812836, -0.04332415387034416, 0.0920393317937851, -0.029140600934624672));
	r += mul(s1_4, min16float4x4(0.03257536515593529, 0.17432472109794617, -0.334961861371994, -0.07690965384244919, -0.017267297953367233, -0.13181793689727783, -0.03430478647351265, -0.0401606522500515, -0.5238862633705139, 0.6191496849060059, -0.22893960773944855, -0.054316673427820206, 0.22510020434856415, -0.4556102454662323, 0.5527389645576477, -0.5839865803718567));
	r += mul(s1_5, min16float4x4(-0.1987297087907791, -0.3240079879760742, 0.004245169460773468, -0.013728544116020203, -0.030577512457966805, 0.07001926004886627, -0.03873716667294502, 0.025112975388765335, 0.03031097538769245, 0.006834662519395351, -0.0988779291510582, 0.13916312158107758, 0.04415794089436531, 0.1645573079586029, 0.07748113572597504, 0.1577160656452179));
	r += mul(s1_6, min16float4x4(0.0130714550614357, 0.013764752075076103, -0.06773506850004196, -0.011318917386233807, 0.012709098868072033, 0.008833377622067928, -0.012160291895270348, 0.00411588791757822, -0.043797727674245834, 0.021309640258550644, 0.029482431709766388, 0.03552202507853508, 0.0031924054492264986, 0.021002043038606644, -0.11584993451833725, 0.009953085333108902));
	r += mul(s1_7, min16float4x4(-0.029571035876870155, -0.02079729549586773, 0.07693026959896088, -0.05532737448811531, -0.011565675027668476, 0.00956517644226551, -0.005801630672067404, -0.01836019568145275, 0.12433222681283951, -0.10362666845321655, -0.05451957881450653, 0.265593945980072, 0.02664314955472946, 0.012057885527610779, -0.04816656932234764, -0.1569131314754486));
	r += mul(s1_8, min16float4x4(-0.01969858631491661, -0.03465019538998604, -0.04828279837965965, 0.0036405096761882305, -0.007315570022910833, -0.0241142176091671, 0.0009435617830604315, -0.0022044689394533634, 0.1469723880290985, -0.012858053669333458, 0.24658773839473724, -0.16136127710342407, -0.018134191632270813, -0.025061393156647682, -0.05660027265548706, -0.01739744283258915));
	r += mul(s2_0, min16float4x4(-0.04522998631000519, -0.0036892767529934645, -0.010639558546245098, 0.0030059167183935642, 0.1372072696685791, -0.017167333513498306, 0.031164586544036865, -0.04107430949807167, 0.004355378448963165, -0.01262185163795948, -0.0031541280914098024, -0.0008559910347685218, 0.002379158977419138, -0.04868119955062866, -0.07849825173616409, -0.06280846148729324));
	r += mul(s2_1, min16float4x4(0.047474250197410583, -0.028529377654194832, 0.02957640029489994, -0.002894768724218011, -0.572266697883606, 0.564508318901062, -0.17822764813899994, 0.31934139132499695, -0.011522050946950912, 0.010655312798917294, 0.003146418370306492, 0.013718185015022755, -0.2744135856628418, -0.05472927540540695, 0.12255770713090897, 0.021046362817287445));
	r += mul(s2_2, min16float4x4(0.03455452620983124, 0.08310499042272568, 0.003987309522926807, 0.04176162928342819, -0.04292866960167885, 0.044525645673274994, -0.001021943287923932, -0.024174487218260765, -0.001361524104140699, -0.005422323942184448, -0.006557544227689505, -0.012729032896459103, 0.06293462961912155, -0.07348641008138657, -0.012291736900806427, 0.07299378514289856));
	r += mul(s2_3, min16float4x4(-0.01764252595603466, 0.01045153383165598, -0.07718539237976074, -0.00438301358371973, -0.04322543367743492, -0.043361809104681015, 0.12744377553462982, 0.014241336844861507, 0.11450094729661942, -0.038738150149583817, -0.03924929350614548, -0.01422898843884468, 0.39085397124290466, 0.07553419470787048, -0.592126190662384, -0.05504227429628372));
	r += mul(s2_4, min16float4x4(-0.21533209085464478, -0.19775390625, -0.02874845638871193, -0.1889648735523224, -0.10537587106227875, 0.008639393374323845, -0.45431840419769287, 0.2626954913139343, -0.07163386046886444, 0.141119122505188, -0.041827473789453506, -0.07256623357534409, 0.4469388723373413, 0.6582043170928955, -0.06644055992364883, -0.8682954907417297));
	r += mul(s2_5, min16float4x4(0.0978974848985672, 0.06853799521923065, 0.10424796491861343, 0.16540953516960144, -0.018807334825396538, -0.09790497273206711, -0.06273968517780304, -0.003841564990580082, 0.0017506832955405116, -0.05098088085651398, -0.01680622808635235, -0.0037739111576229334, 0.015885135158896446, 0.09518696367740631, -0.019777117297053337, 0.19190065562725067));
	r += mul(s2_6, min16float4x4(-0.00603626249358058, -0.008880401961505413, 0.02690744772553444, 0.005076950415968895, 0.018232813104987144, 0.002283073728904128, -0.038492899388074875, -0.025336304679512978, -0.43333956599235535, -0.26269522309303284, 0.5729163885116577, 0.38972604274749756, -0.056680966168642044, -0.04150194674730301, 0.10470142960548401, 0.024816952645778656));
	r += mul(s2_7, min16float4x4(0.017022276297211647, 0.017352499067783356, -0.10726901888847351, -0.01947358436882496, -0.028249727562069893, 0.02912536822259426, -0.03507713973522186, 0.003683047369122505, 0.005603409837931395, -0.153630793094635, -0.020021051168441772, 0.19983789324760437, -0.016501182690262794, -0.041257575154304504, -0.0204588882625103, 0.09850815683603287));
	r += mul(s2_8, min16float4x4(-0.009548320434987545, 0.001143464120104909, -0.002295954618602991, -0.04968567192554474, -0.013941772282123566, -0.008088389411568642, -0.010255977511405945, -0.05601964145898819, -0.008985387161374092, -0.022458674386143684, 0.028213169425725937, 0.03794342651963234, 0.003565372433513403, 0.0017285754438489676, 0.01913817971944809, -0.0047578876838088036));
	r += mul(s3_0, min16float4x4(0.061156369745731354, 0.00683401757851243, -0.003669638419523835, -0.0019690634217113256, -0.07543948292732239, -0.020447244867682457, -0.0037138976622372866, 0.01254956517368555, 0.003167919348925352, 0.015682540833950043, -1.8198903717348003e-07, -0.0008799981442280114, 0.1342773735523224, 0.04749058932065964, 0.016200082376599312, -0.004995489493012428));
	r += mul(s3_1, min16float4x4(-0.062067508697509766, 0.0031270349863916636, -0.015090632252395153, 0.030049370601773262, -0.016802938655018806, -0.07785650342702866, -0.01524929516017437, -0.04106028005480766, 0.0026554453652352095, -0.006155607756227255, 0.001023305463604629, -0.006852852646261454, -0.007557743228971958, 0.10473603010177612, 0.026570945978164673, 0.048656776547431946));
	r += mul(s3_2, min16float4x4(-0.05285149812698364, 0.006359726190567017, -0.02206466719508171, -0.07007410377264023, 0.016784632578492165, 0.025455448776483536, -0.001568614854477346, -0.005423292983323336, 0.004195732995867729, 0.009433277882635593, 0.002073016483336687, 0.0043992772698402405, -0.011416247114539146, -0.035780567675828934, -0.006281460169702768, -0.009003275074064732));
	r += mul(s3_3, min16float4x4(-0.05628024414181709, 0.0058024125173687935, 0.0866694226861, 0.02505875751376152, 0.04724116250872612, 0.01994577795267105, -0.07328686118125916, -0.03417658433318138, -0.08375001698732376, -0.05899125710129738, 0.05860021337866783, 0.06054428964853287, -0.0065566436387598515, -0.021517347544431686, 0.15674079954624176, 0.06518447399139404));
	r += mul(s3_4, min16float4x4(0.42983847856521606, 0.09691369533538818, 0.2055482417345047, -0.09339237958192825, 0.07775885611772537, 0.05786249414086342, 0.12795916199684143, 0.020042529329657555, 0.05456586554646492, -0.0033838660456240177, 0.023525871336460114, 0.0016110187862068415, -0.03576702997088432, -0.0034550493583083153, -0.13348282873630524, 0.01581498794257641));
	r += mul(s3_5, min16float4x4(-0.06371906399726868, -0.17744775116443634, -0.13916082680225372, -0.04673036187887192, 0.021473193541169167, 0.06117565184831619, 0.009796760976314545, 0.09594758599996567, 9.092269465327263e-06, 0.02136918529868126, 0.010040417313575745, 0.02344653382897377, -0.040113504976034164, -0.08216369897127151, -0.042719341814517975, -0.11093588918447495));
	r += mul(s3_6, min16float4x4(0.01821831241250038, 0.019460588693618774, -0.06799958646297455, 0.006833634804934263, -0.007504478096961975, -0.003328036516904831, 0.036964502185583115, 0.014446256682276726, -0.02607058919966221, 0.03006277233362198, -0.1606457531452179, -0.06650135666131973, 0.011444388888776302, 0.0022432394325733185, -0.0313715934753418, -0.012417824938893318));
	r += mul(s3_7, min16float4x4(-0.055052123963832855, -0.03501657396554947, 0.10668682307004929, 0.093593530356884, 0.006044011563062668, 0.003831630339846015, -0.010098679922521114, 0.041431281715631485, 0.015198335982859135, -0.06133783608675003, 0.06595654040575027, -0.021796714514493942, -0.006428026594221592, 0.010518033057451248, 0.017637252807617188, -0.016847960650920868));
	r += mul(s3_8, min16float4x4(0.01308984961360693, 0.019820822402834892, 0.03918704763054848, -0.015488323755562305, 0.017129598185420036, 0.02002658136188984, 0.03728024661540985, 0.019344087690114975, -0.011346966959536076, -0.007719060871750116, -0.015189213678240776, -0.011826947331428528, 0.0007892308058217168, -0.008967028930783272, -0.006173961795866489, -0.007491469848901033));
	r += min16float4(-0.00017334750737063587, -1.7958351236302406e-05, -0.0005217036814428866, -0.0006346858572214842);
	return tanh(r);
}
void Pass4(uint2 blockStart, uint3 tid) {
	float2 pt = float2(GetInputPt());
	uint2 gxy = Rmp8x8(tid.x) + blockStart;
	uint2 size = GetInputSize();
	if (gxy.x >= size.x || gxy.y >= size.y) {
		return;
	}
	float2 pos = (gxy + 0.5) * pt;
	min16float4 s0_0 = l0(-1.0, -1.0);
	min16float4 s0_1 = l0(0.0, -1.0);
	min16float4 s0_2 = l0(1.0, -1.0);
	min16float4 s0_3 = l0(-1.0, 0.0);
	min16float4 s0_4 = l0(0.0, 0.0);
	min16float4 s0_5 = l0(1.0, 0.0);
	min16float4 s0_6 = l0(-1.0, 1.0);
	min16float4 s0_7 = l0(0.0, 1.0);
	min16float4 s0_8 = l0(1.0, 1.0);
	min16float4 s1_0 = max(-s0_0, 0.0);
	min16float4 s1_1 = max(-s0_1, 0.0);
	min16float4 s1_2 = max(-s0_2, 0.0);
	min16float4 s1_3 = max(-s0_3, 0.0);
	min16float4 s1_4 = max(-s0_4, 0.0);
	min16float4 s1_5 = max(-s0_5, 0.0);
	min16float4 s1_6 = max(-s0_6, 0.0);
	min16float4 s1_7 = max(-s0_7, 0.0);
	min16float4 s1_8 = max(-s0_8, 0.0);
	s0_0 = max(s0_0, 0.0);
	s0_1 = max(s0_1, 0.0);
	s0_2 = max(s0_2, 0.0);
	s0_3 = max(s0_3, 0.0);
	s0_4 = max(s0_4, 0.0);
	s0_5 = max(s0_5, 0.0);
	s0_6 = max(s0_6, 0.0);
	s0_7 = max(s0_7, 0.0);
	s0_8 = max(s0_8, 0.0);
	min16float4 s2_0 = l1(-1.0, -1.0);
	min16float4 s2_1 = l1(0.0, -1.0);
	min16float4 s2_2 = l1(1.0, -1.0);
	min16float4 s2_3 = l1(-1.0, 0.0);
	min16float4 s2_4 = l1(0.0, 0.0);
	min16float4 s2_5 = l1(1.0, 0.0);
	min16float4 s2_6 = l1(-1.0, 1.0);
	min16float4 s2_7 = l1(0.0, 1.0);
	min16float4 s2_8 = l1(1.0, 1.0);
	min16float4 s3_0 = max(-s2_0, 0.0);
	min16float4 s3_1 = max(-s2_1, 0.0);
	min16float4 s3_2 = max(-s2_2, 0.0);
	min16float4 s3_3 = max(-s2_3, 0.0);
	min16float4 s3_4 = max(-s2_4, 0.0);
	min16float4 s3_5 = max(-s2_5, 0.0);
	min16float4 s3_6 = max(-s2_6, 0.0);
	min16float4 s3_7 = max(-s2_7, 0.0);
	min16float4 s3_8 = max(-s2_8, 0.0);
	s2_0 = max(s2_0, 0.0);
	s2_1 = max(s2_1, 0.0);
	s2_2 = max(s2_2, 0.0);
	s2_3 = max(s2_3, 0.0);
	s2_4 = max(s2_4, 0.0);
	s2_5 = max(s2_5, 0.0);
	s2_6 = max(s2_6, 0.0);
	s2_7 = max(s2_7, 0.0);
	s2_8 = max(s2_8, 0.0);
	out_0[gxy] = f0(pt, pos, s0_0, s0_1, s0_2, s0_3, s0_4, s0_5, s0_6, s0_7, s0_8, s1_0, s1_1, s1_2, s1_3, s1_4, s1_5, s1_6, s1_7, s1_8, s2_0, s2_1, s2_2, s2_3, s2_4, s2_5, s2_6, s2_7, s2_8, s3_0, s3_1, s3_2, s3_3, s3_4, s3_5, s3_6, s3_7, s3_8);
}
//!PASS 5
//!DESC CuNNy-2x8C-BILINEAR-CHROMA-NVL-shuffle
//!STYLE PS
//!IN out_0, INPUT
float4 Pass5(float2 pos) {
	float2 pt = float2(GetInputPt());
	const static float3x3 rgb2yuv = {0.299, 0.587, 0.114, -0.169, -0.331, 0.5, 0.5, -0.419, -0.081};
	const static float3x3 yuv2rgb = {1, -0.00093, 1.401687, 1, -0.3437, -0.71417, 1, 1.77216, 0.00099};
	float4 r = 0.0;
	float2 size = float2(GetInputSize());
	float2 f = frac(pos * size);
	float3 yuv = mul(rgb2yuv, INPUT.SampleLevel(SL, pos, 0).rgb);
	int2 i = int2(f * 2.0);
	r.r = out_0.SampleLevel(SP, (float2(0.5, 0.5) - f) * pt + pos, 0)[2*i.y + i.x];
	r.r += yuv.r;
	r.a = 1.0;
	r.r = clamp(r, 0.0, 1.0);
	float3 px = mul(yuv2rgb, float3(r.r, yuv.yz));
	return float4(px, 1.0);
}
