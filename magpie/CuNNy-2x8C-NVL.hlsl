// CuNNy 2x8C BILINEAR NVL
// Copyright (c) 2024 cunnyplapper

// This program is free software; you can redistribute it and/or
// modify it under the terms of the GNU Lesser General Public
// License as published by the Free Software Foundation; either
// version 3.0 of the License, or (at your option) any later version.
// 
// This program is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
// Lesser General Public License for more details.
// 
// You should have received a copy of the GNU Lesser General Public
// License along with this program.  If not, see <https://www.gnu.org/licenses/>.
/* ------------------------------------------------------------------- */

//!MAGPIE EFFECT
//!VERSION 3
//!OUTPUT_WIDTH INPUT_WIDTH * 2
//!OUTPUT_HEIGHT INPUT_HEIGHT * 2

//!TEXTURE
Texture2D INPUT;


//!SAMPLER
//!FILTER POINT
SamplerState SP;

//!SAMPLER
//!FILTER LINEAR
SamplerState SL;

//!TEXTURE
//!WIDTH INPUT_WIDTH
//!HEIGHT INPUT_HEIGHT
//!FORMAT R8G8B8A8_SNORM
Texture2D up_0;

//!TEXTURE
//!WIDTH INPUT_WIDTH
//!HEIGHT INPUT_HEIGHT
//!FORMAT R8G8B8A8_SNORM
Texture2D up_1;

//!TEXTURE
//!WIDTH INPUT_WIDTH
//!HEIGHT INPUT_HEIGHT
//!FORMAT R8G8B8A8_SNORM
Texture2D conv1_0;

//!TEXTURE
//!WIDTH INPUT_WIDTH
//!HEIGHT INPUT_HEIGHT
//!FORMAT R8G8B8A8_SNORM
Texture2D conv1_1;

//!TEXTURE
//!WIDTH INPUT_WIDTH
//!HEIGHT INPUT_HEIGHT
//!FORMAT R8G8B8A8_SNORM
Texture2D conv2_0;

//!TEXTURE
//!WIDTH INPUT_WIDTH
//!HEIGHT INPUT_HEIGHT
//!FORMAT R8G8B8A8_SNORM
Texture2D conv2_1;

//!TEXTURE
//!WIDTH INPUT_WIDTH
//!HEIGHT INPUT_HEIGHT
//!FORMAT R8G8B8A8_SNORM
Texture2D down;

//!PASS 1
//!DESC CuNNy-2x8C-BILINEAR-NVL-up
//!BLOCK_SIZE 8
//!NUM_THREADS 64
//!IN INPUT
//!OUT up_0, up_1
#define O(t, p) t.SampleLevel(SP, pos + p * pt, 0)
#define l0(x, y) dot(float3(0.299, 0.587, 0.114), O(INPUT, float2(x, y)).rgb)
float4 f0(float2 pt, float2 pos, min16float s0_0, min16float s0_1, min16float s0_2, min16float s0_3, min16float s0_4, min16float s0_5, min16float s0_6, min16float s0_7, min16float s0_8) {
	min16float4 r = 0.0;
	r += min16float4(0.2397460639476776, 0.0003979084431193769, -0.01777872070670128, -0.07723420858383179) * s0_0;
	r += min16float4(-0.1801692545413971, 0.007083719130605459, 0.39155709743499756, 0.1971810907125473) * s0_1;
	r += min16float4(-0.06118665635585785, 0.008367536589503288, -0.07307671010494232, 0.19482268393039703) * s0_2;
	r += min16float4(0.22152003645896912, 0.01094294898211956, -0.2900252342224121, 0.028760092332959175) * s0_3;
	r += min16float4(-0.14208978414535522, 0.0328289195895195, -0.1423874944448471, 0.07807070016860962) * s0_4;
	r += min16float4(-0.07083554565906525, 0.025867382064461708, 0.1274414211511612, -0.25860223174095154) * s0_5;
	r += min16float4(-0.04846213757991791, 0.11807148158550262, 0.09193631261587143, 0.04309825599193573) * s0_6;
	r += min16float4(-0.006731098052114248, -0.3842388391494751, -0.05203906446695328, -0.1014682725071907) * s0_7;
	r += min16float4(0.049438029527664185, 0.11503958702087402, -0.03250503912568092, -0.10537547618150711) * s0_8;
	r += float4(2.711986417125445e-05, -0.00344667537137866, -0.0037444732151925564, 0.0001364505587844178);
	return r;
}
float4 f1(float2 pt, float2 pos, min16float s0_0, min16float s0_1, min16float s0_2, min16float s0_3, min16float s0_4, min16float s0_5, min16float s0_6, min16float s0_7, min16float s0_8) {
	min16float4 r = 0.0;
	r += min16float4(-0.06713294982910156, -0.0007298039272427559, -0.0003007608756888658, 0.012550433166325092) * s0_0;
	r += min16float4(0.17924751341342926, 0.0021018811967223883, -0.0017498803790658712, -0.11386933922767639) * s0_1;
	r += min16float4(-0.11111006140708923, -0.0009941759053617716, 0.0005304360529407859, -0.17136937379837036) * s0_2;
	r += min16float4(0.033915676176548004, 0.3875056207180023, -0.3314835727214813, 0.12572410702705383) * s0_3;
	r += min16float4(-0.09300584346055984, -0.3837895691394806, 0.0015662298537790775, 0.153102844953537) * s0_4;
	r += min16float4(0.331105500459671, -0.001839773147366941, 0.001906112884171307, -0.19007262587547302) * s0_5;
	r += min16float4(0.03413766250014305, -0.0011968587059527636, 0.33105459809303284, -0.12885774672031403) * s0_6;
	r += min16float4(-0.093994140625, 0.0005979342386126518, 0.002068879548460245, 0.24401766061782837) * s0_7;
	r += min16float4(-0.2069287747144699, 4.0160477510653436e-05, -0.0023292223922908306, 0.067138671875) * s0_8;
	r += float4(0.002064669271931052, 8.26645100460155e-06, 3.4644847346498864e-06, 0.0022842981852591038);
	return r;
}
void Pass1(uint2 blockStart, uint3 tid) {
	float2 pt = float2(GetInputPt());
	uint2 gxy = Rmp8x8(tid.x) + blockStart;
	uint2 size = GetInputSize();
	if (gxy.x >= size.x || gxy.y >= size.y) {
		return;
	}
	float2 pos = (gxy + 0.5) * pt;
	min16float s0_0 = l0(-1.0, -1.0);
	min16float s0_1 = l0(0.0, -1.0);
	min16float s0_2 = l0(1.0, -1.0);
	min16float s0_3 = l0(-1.0, 0.0);
	min16float s0_4 = l0(0.0, 0.0);
	min16float s0_5 = l0(1.0, 0.0);
	min16float s0_6 = l0(-1.0, 1.0);
	min16float s0_7 = l0(0.0, 1.0);
	min16float s0_8 = l0(1.0, 1.0);
	up_0[gxy] = f0(pt, pos, s0_0, s0_1, s0_2, s0_3, s0_4, s0_5, s0_6, s0_7, s0_8);
	up_1[gxy] = f1(pt, pos, s0_0, s0_1, s0_2, s0_3, s0_4, s0_5, s0_6, s0_7, s0_8);
}
//!PASS 2
//!DESC CuNNy-2x8C-BILINEAR-NVL-conv1
//!BLOCK_SIZE 8
//!NUM_THREADS 64
//!IN up_0, up_1
//!OUT conv1_0, conv1_1
#define O(t, p) t.SampleLevel(SP, pos + p * pt, 0)
#define l0(x, y) O(up_0, float2(x, y))
#define l1(x, y) O(up_1, float2(x, y))
float4 f0(float2 pt, float2 pos, min16float4 s0_0, min16float4 s0_1, min16float4 s0_2, min16float4 s0_3, min16float4 s0_4, min16float4 s0_5, min16float4 s0_6, min16float4 s0_7, min16float4 s0_8, min16float4 s1_0, min16float4 s1_1, min16float4 s1_2, min16float4 s1_3, min16float4 s1_4, min16float4 s1_5, min16float4 s1_6, min16float4 s1_7, min16float4 s1_8, min16float4 s2_0, min16float4 s2_1, min16float4 s2_2, min16float4 s2_3, min16float4 s2_4, min16float4 s2_5, min16float4 s2_6, min16float4 s2_7, min16float4 s2_8, min16float4 s3_0, min16float4 s3_1, min16float4 s3_2, min16float4 s3_3, min16float4 s3_4, min16float4 s3_5, min16float4 s3_6, min16float4 s3_7, min16float4 s3_8) {
	min16float4 r = 0.0;
	r += mul(s0_0, min16float4x4(0.018672548234462738, 0.08032552897930145, 0.018061408773064613, 0.05872976779937744, -0.06355293840169907, -0.04127924144268036, -0.1477481573820114, 0.20686845481395721, -0.0791129395365715, -0.05874628201127052, -0.07482969015836716, 0.07445644587278366, 0.23924057185649872, 0.38381218910217285, -0.15385697782039642, 0.13130250573158264));
	r += mul(s0_1, min16float4x4(-0.26214170455932617, -0.22194673120975494, 0.07454469054937363, -0.11165938526391983, -0.9365696310997009, 0.8579282164573669, 0.34830591082572937, -0.11034388095140457, 0.18802577257156372, 0.09873802959918976, -0.1100258082151413, -0.2803531885147095, -0.07495535165071487, -0.1474948227405548, 0.011248295195400715, -0.04492347314953804));
	r += mul(s0_2, min16float4x4(0.1293857991695404, 0.18809181451797485, 0.025458915159106255, 0.17122036218643188, -0.15463842451572418, 0.35032153129577637, 0.03210555016994476, -0.12360864877700806, 0.17798353731632233, 0.07076317816972733, -0.050204623490571976, -0.20492415130138397, -0.00695914076641202, 0.09923400729894638, -0.02578924037516117, 0.051459137350320816));
	r += mul(s0_3, min16float4x4(-0.06014486029744148, 0.15442878007888794, -0.15619757771492004, 0.041450656950473785, 0.3405868709087372, -0.3127112090587616, -0.17505282163619995, 0.03545001894235611, 0.07156094908714294, 0.0010060211643576622, -0.04316364973783493, -0.15939228236675262, -0.1850479394197464, 0.4767402112483978, -0.010188654065132141, 0.12486185878515244));
	r += mul(s0_4, min16float4x4(-0.25451168417930603, 0.07366330176591873, -0.21123461425304413, 0.17413721978664398, 0.6343658566474915, -0.36621034145355225, -0.030317090451717377, 0.1939818114042282, -0.2214338630437851, -0.11431501805782318, -0.0021601731423288584, -0.14930686354637146, -0.01761983521282673, 0.3217826783657074, 0.10412389039993286, 0.37380045652389526));
	r += mul(s0_5, min16float4x4(0.042363472282886505, 0.35506099462509155, 0.02366008795797825, 0.04638105630874634, 0.36501938104629517, 0.0832238718867302, -0.004148883745074272, 0.2829422652721405, -0.18067432940006256, 0.07562655955553055, -0.08351797610521317, -0.19505706429481506, 0.07516669481992722, 0.3466782867908478, -0.10634689778089523, 0.10090749710798264));
	r += mul(s0_6, min16float4x4(0.16661648452281952, -0.0007130008889362216, 0.009941011667251587, 0.024823637679219246, 0.1498953253030777, 0.015111557208001614, -0.08715064078569412, 0.06503729522228241, -0.1450228989124298, 0.04438425973057747, 0.02371281199157238, 0.11795272678136826, 0.0533079095184803, 0.11645186692476273, -0.09309496730566025, 0.04482653737068176));
	r += mul(s0_7, min16float4x4(-0.09415534138679504, 0.19017493724822998, 0.1761820912361145, -0.16614949703216553, 0.10365702211856842, 0.016712790355086327, -0.02553935907781124, -0.0949985608458519, 0.25179409980773926, -0.40092724561691284, -0.07741916179656982, 0.27633774280548096, 0.14898467063903809, -0.21530768275260925, 0.05881703272461891, 0.06345465779304504));
	r += mul(s0_8, min16float4x4(0.0939803421497345, 0.20211081206798553, 0.04122091457247734, -0.05564510449767113, -0.03355273976922035, 0.03758186101913452, 0.0852130800485611, 0.054255541414022446, -0.04551822319626808, -0.30169105529785156, -0.0859820768237114, -0.1246030181646347, 0.03723153844475746, -0.09130369126796722, 0.01735314540565014, 0.08998213708400726));
	r += mul(s1_0, min16float4x4(-0.007432965096086264, -0.034162215888500214, 0.0389481782913208, -0.004420116543769836, -0.0012766055297106504, 0.0985642820596695, -0.10934887081384659, 0.009733363054692745, 0.06908875703811646, -0.025169219821691513, 0.028150498867034912, -0.0654345229268074, -0.08514443039894104, -0.13675449788570404, 0.14520931243896484, 0.012577231042087078));
	r += mul(s1_1, min16float4x4(0.09033621847629547, 0.1899298131465912, -0.08520196378231049, 0.10022764652967453, 0.2732493579387665, 0.047627393156290054, -0.05529202148318291, 0.3459753394126892, -0.14144036173820496, -0.06232387572526932, 0.014428703114390373, 0.1984904259443283, 0.11787936836481094, 0.28970929980278015, -0.050536759197711945, 0.2802215814590454));
	r += mul(s1_2, min16float4x4(-0.19616390764713287, -0.1391860395669937, -0.05123415216803551, -0.10425453633069992, 0.0931604877114296, 0.18840748071670532, 0.04195380583405495, -0.49119511246681213, -0.12452007085084915, -0.1791997253894806, 0.014782767742872238, -0.12658526003360748, 0.03259843587875366, 0.036869049072265625, -0.007221273612231016, -0.06106116995215416));
	r += mul(s1_3, min16float4x4(-0.07581309974193573, 0.0291226115077734, -0.15346166491508484, 0.20362251996994019, -0.09675273299217224, -0.013262603431940079, 0.04019999876618385, 0.08693443238735199, -0.04072705656290054, -0.12330549210309982, -0.0882798284292221, 0.08745084702968597, -0.006569131277501583, -0.1164914146065712, 0.3056595027446747, 0.25495195388793945));
	r += mul(s1_4, min16float4x4(-0.1573086678981781, 0.18742676079273224, -0.045479968190193176, 0.32714956998825073, -0.13494227826595306, 0.0024011635687202215, -0.012947149574756622, -0.031306732445955276, 0.45147427916526794, 0.12869058549404144, -0.18987327814102173, 0.03846544399857521, 0.08355911076068878, 0.3740234375, -0.0017888423753902316, -0.15953579545021057));
	r += mul(s1_5, min16float4x4(-0.3086766302585602, -0.08033622801303864, 0.010134672746062279, -0.601639449596405, -0.1563042551279068, -0.12724849581718445, 0.06465210765600204, 0.004771232604980469, -0.06825726479291916, -0.13890165090560913, -0.011344763450324535, -0.12905484437942505, -0.11443188786506653, -0.2529260516166687, 0.060203880071640015, 0.050780344754457474));
	r += mul(s1_6, min16float4x4(-0.021723957732319832, -0.002863303991034627, -0.22392863035202026, -0.03453449904918671, -0.06028055399656296, -0.06368069350719452, -0.0016715138917788863, -0.028223324567079544, -0.03051997348666191, -0.17337322235107422, 0.0018125871429219842, -0.06673374027013779, -0.16949965059757233, 0.020728040486574173, 0.13927415013313293, 0.29319965839385986));
	r += mul(s1_7, min16float4x4(0.2911786735057831, 0.15316930413246155, -0.26849475502967834, -0.04889049008488655, 0.04346943274140358, -0.025557266548275948, 0.024891115725040436, 0.08037292957305908, -0.42242997884750366, 0.23888084292411804, 0.05575718730688095, -0.21830755472183228, -0.1318928450345993, 0.39252880215644836, 0.10951711982488632, -0.05988336354494095));
	r += mul(s1_8, min16float4x4(0.33389970660209656, 0.3212898373603821, 0.0956348180770874, -0.3905537724494934, 0.061858855187892914, -0.05987986922264099, -0.06167031452059746, 0.0031624154653400183, -0.38770365715026855, 0.11341698467731476, 0.20847027003765106, 0.012774225324392319, -0.06798285990953445, 0.12110096961259842, -0.031329672783613205, 0.06877809017896652));
	r += mul(s2_0, min16float4x4(-0.09307150542736053, 0.014222625643014908, -0.15798580646514893, -0.1105259358882904, 0.1313166320323944, -0.20275269448757172, -0.11424722522497177, -0.14905895292758942, 0.12539483606815338, 0.04383012652397156, -0.3200289011001587, -0.10130829364061356, -0.02103414386510849, 0.17477548122406006, -0.13218791782855988, -0.09152260422706604));
	r += mul(s2_1, min16float4x4(-0.3511101007461548, -0.2758347690105438, 0.06129140406847, 0.4015171229839325, 0.4149443805217743, 0.08458070456981659, 0.09646543115377426, -0.39252856373786926, 0.3616841733455658, -0.15855462849140167, 0.3601236045360565, 0.011175624094903469, 0.19551952183246613, -0.06952809542417526, -0.005015270784497261, -0.08872518688440323));
	r += mul(s2_2, min16float4x4(0.003727126168087125, -0.18028199672698975, 0.03430017828941345, 0.187313973903656, 0.09121575206518173, 0.37402501702308655, -0.047374993562698364, -0.30751439929008484, 0.5484290719032288, -0.15631960332393646, 0.10234491527080536, -0.529490053653717, -0.053044237196445465, -0.04871904477477074, -0.03734540194272995, -0.08905267715454102));
	r += mul(s2_3, min16float4x4(0.11519965529441833, -0.1674814522266388, 0.18393751978874207, 0.019336314871907234, -0.03676804527640343, -0.09248808026313782, 1.496924877166748, -0.07644761353731155, 0.14887002110481262, 0.11479178071022034, -0.02204420045018196, 0.04078270494937897, 0.05227243900299072, 0.38633352518081665, 0.008255958557128906, -0.04177478700876236));
	r += mul(s2_4, min16float4x4(-0.3221370577812195, -0.24046479165554047, -0.13577477633953094, -0.3233599066734314, -1.1747771501541138, -0.6276112198829651, -0.16781634092330933, -0.5221796631813049, -0.15618263185024261, 0.03740920126438141, 0.9550838470458984, -0.20805561542510986, -0.2209888994693756, -0.0005125151365064085, -0.1302391141653061, -0.26148173213005066));
	r += mul(s2_5, min16float4x4(0.024861767888069153, 0.19070617854595184, -0.0547800250351429, 0.023510215803980827, 0.027556100860238075, -0.5073292851448059, -0.15874844789505005, 0.03529837727546692, -0.516191840171814, -0.3543464243412018, -0.1173170655965805, 0.04657251387834549, -0.04720629006624222, -0.20067863166332245, -0.028178097680211067, 0.12769131362438202));
	r += mul(s2_6, min16float4x4(-0.022783661261200905, 0.15087617933750153, 0.09789203852415085, -0.09048320353031158, -0.28217613697052, 0.10706445574760437, 0.2345656454563141, 0.05851525813341141, 0.035037051886320114, -0.0036169204395264387, -0.015992943197488785, -0.010578692890703678, 0.14116111397743225, 0.0570199079811573, -0.15654340386390686, -0.1589169204235077));
	r += mul(s2_7, min16float4x4(-0.03797716647386551, 0.049740735441446304, 0.03521020710468292, -0.06523273885250092, -0.1665051132440567, -0.3076418936252594, 0.2101811021566391, 0.32324156165122986, -0.1420927345752716, 0.18105660378932953, 0.03022008202970028, 0.033548228442668915, 0.045709945261478424, 0.024962780997157097, 0.06469592452049255, -0.09063507616519928));
	r += mul(s2_8, min16float4x4(-0.12743228673934937, 0.07169993966817856, 0.041915323585271835, 0.025678837671875954, -0.17919538915157318, -0.4578889310359955, -0.08935315907001495, 0.1879151314496994, 0.11660844087600708, -0.0713985487818718, -0.21594266593456268, 0.21644681692123413, -0.005692036356776953, -0.13329985737800598, 0.06486023962497711, 0.03593715280294418));
	r += mul(s3_0, min16float4x4(0.0541827529668808, 0.013805551454424858, -0.1439446359872818, -0.12797324359416962, -0.011520801112055779, -0.012912181206047535, 0.23158642649650574, -0.07583459466695786, -0.027545316144824028, 0.00654275668784976, 0.2964527904987335, 0.10047540068626404, -0.047210656106472015, -0.15550385415554047, 0.17208009958267212, -0.1204170361161232));
	r += mul(s3_1, min16float4x4(0.35838091373443604, 0.2920078635215759, -0.2073814421892166, -0.9040261507034302, -0.3470328450202942, -0.27860569953918457, 0.2547525465488434, -0.26313671469688416, -0.6069297194480896, -0.18875756859779358, 0.8915538787841797, 0.06342215836048126, -0.39629897475242615, -0.039628613740205765, 0.028534866869449615, -0.02624439261853695));
	r += mul(s3_2, min16float4x4(0.098875992000103, 0.1352023035287857, -0.04688934609293938, -0.004941822495311499, 0.07649154216051102, -0.15049804747104645, 0.010936548933386803, 0.1557614654302597, 0.1610320508480072, -0.45535537600517273, -0.4298061430454254, -0.1251637488603592, 0.009878749027848244, -0.007477916311472654, 0.0499601885676384, -0.06080862507224083));
	r += mul(s3_3, min16float4x4(-0.20733419060707092, 0.23949867486953735, -0.05958033725619316, -0.1476721465587616, 0.04896191135048866, -0.03852837532758713, 0.24110880494117737, -0.10813746601343155, -0.04196915030479431, -0.10885564982891083, 0.05650748685002327, -0.020764345303177834, -0.0662212073802948, -0.38374948501586914, -0.07398183643817902, -0.23070774972438812));
	r += mul(s3_4, min16float4x4(0.2180098444223404, 0.03375663608312607, -0.048012491315603256, -0.046573705971241, 0.06804313510656357, -0.38238707184791565, 0.7352413535118103, -0.15209020674228668, -0.08267329633235931, 0.15408946573734283, 0.2568296194076538, 0.0574970468878746, 0.05729766562581062, -0.048149991780519485, 0.08764615654945374, 0.015326948836445808));
	r += mul(s3_5, min16float4x4(0.07016792893409729, -0.09744378924369812, -0.05977630615234375, 0.08757708966732025, -0.5870622396469116, -0.44990772008895874, -0.010661924257874489, -1.0896213054656982, -0.15615308284759521, -0.16379138827323914, -0.19699639081954956, 0.11657687276601791, 0.046652670949697495, 0.11768177896738052, -0.049576714634895325, -0.3847447633743286));
	r += mul(s3_6, min16float4x4(-0.00737582566216588, -0.1573479026556015, 0.26975545287132263, -0.26619115471839905, 0.2172621488571167, 0.0556592121720314, -0.044826690107584, -0.0363590233027935, -0.027179323136806488, 0.017911840230226517, -0.041099172085523605, 0.07098562270402908, -0.024702729657292366, -0.24124468863010406, 0.08820110559463501, -0.1269959956407547));
	r += mul(s3_7, min16float4x4(-0.06448575109243393, -0.058564502745866776, -0.01927454024553299, -0.10337033867835999, -0.17628519237041473, 0.399219810962677, -0.07876399904489517, -0.08492328226566315, 0.056792233139276505, -0.12996768951416016, -0.023824719712138176, -0.028615660965442657, -0.024995438754558563, -0.08415830135345459, -0.048073045909404755, -0.1100907176733017));
	r += mul(s3_8, min16float4x4(0.10472848266363144, -0.10296065360307693, -0.12645591795444489, 0.01233826857060194, -0.21341802179813385, 0.12268306314945221, -0.14697350561618805, 0.0438392236828804, -0.013781342655420303, 0.0836162343621254, -0.06720046699047089, 0.1561187356710434, -0.016128448769450188, 0.06710836291313171, -0.06863448768854141, -0.08723470568656921));
	r += float4(0.00386460917070508, 0.00348661164753139, 0.0031500498298555613, -0.0031209264416247606);
	return r;
}
float4 f1(float2 pt, float2 pos, min16float4 s0_0, min16float4 s0_1, min16float4 s0_2, min16float4 s0_3, min16float4 s0_4, min16float4 s0_5, min16float4 s0_6, min16float4 s0_7, min16float4 s0_8, min16float4 s1_0, min16float4 s1_1, min16float4 s1_2, min16float4 s1_3, min16float4 s1_4, min16float4 s1_5, min16float4 s1_6, min16float4 s1_7, min16float4 s1_8, min16float4 s2_0, min16float4 s2_1, min16float4 s2_2, min16float4 s2_3, min16float4 s2_4, min16float4 s2_5, min16float4 s2_6, min16float4 s2_7, min16float4 s2_8, min16float4 s3_0, min16float4 s3_1, min16float4 s3_2, min16float4 s3_3, min16float4 s3_4, min16float4 s3_5, min16float4 s3_6, min16float4 s3_7, min16float4 s3_8) {
	min16float4 r = 0.0;
	r += mul(s0_0, min16float4x4(-0.01873517595231533, 0.04059542715549469, 0.03795505687594414, -0.0871565043926239, -0.2622622847557068, 0.3588235676288605, 0.00482685724273324, -0.23404265940189362, 0.01954996958374977, -0.051478587090969086, -0.16449111700057983, 0.11121664196252823, -0.21230816841125488, 0.3274901509284973, -0.22919905185699463, -0.036024365574121475));
	r += mul(s0_1, min16float4x4(0.03017481416463852, 0.024278445169329643, -0.045870017260313034, 0.19262591004371643, -0.5669052004814148, 0.8415179252624512, 0.04242999106645584, 0.10226591676473618, 0.06175752729177475, -0.05461926758289337, 0.16460543870925903, -0.1343020647764206, -0.21923866868019104, -0.015221529640257359, 0.05924762785434723, 0.17761242389678955));
	r += mul(s0_2, min16float4x4(-0.04388076439499855, 0.05501612648367882, -0.06823065131902695, 0.04954966530203819, -0.20456890761852264, 0.05948914587497711, -0.005670648999512196, 0.13073208928108215, 0.1083117425441742, -0.02695288509130478, 0.09191808849573135, 0.02151084691286087, -0.035436514765024185, 0.06475361436605453, -0.036627162247896194, 0.1037624180316925));
	r += mul(s0_3, min16float4x4(0.051600173115730286, 0.1768941432237625, -0.14635269343852997, -0.03537769615650177, 0.06641604006290436, -0.27263930439949036, 0.04182492196559906, -0.14304253458976746, 0.12744402885437012, 0.19897009432315826, 0.05606938526034355, -0.1372351199388504, -0.18426039814949036, 0.44636011123657227, 0.4063877463340759, 0.18792986869812012));
	r += mul(s0_4, min16float4x4(-0.2507842183113098, 0.2623150646686554, 0.14149518311023712, -0.181728795170784, 0.33469057083129883, -0.43692007660865784, -0.08830396831035614, -0.03356700390577316, 0.14808762073516846, 0.03432753309607506, -0.13732151687145233, 0.3884858191013336, -0.33158591389656067, -0.13107840716838837, -0.36618372797966003, 0.19980640709400177));
	r += mul(s0_5, min16float4x4(0.1870127171278, -0.2575131356716156, 0.01255799364298582, -0.2802753746509552, -0.04138178005814552, -0.1357680857181549, -0.0016372227109968662, 0.05171692743897438, 0.28479722142219543, 0.22018802165985107, -0.20796479284763336, 0.00810832530260086, -0.0989556685090065, 0.06913977116346359, 0.04006519913673401, 0.0686001181602478));
	r += mul(s0_6, min16float4x4(-0.25384292006492615, 0.07755433022975922, -0.1289781928062439, 0.031002221629023552, 0.0970659852027893, 0.0991719514131546, -0.015638893470168114, 0.056614406406879425, -0.1589040458202362, 0.11887834966182709, -0.12030549347400665, -0.1635567843914032, -0.2124042809009552, 0.26708030700683594, -0.026687638834118843, -0.08608631789684296));
	r += mul(s0_7, min16float4x4(0.0682440847158432, -0.08616146445274353, -0.004332592710852623, 0.389451265335083, -0.02125558815896511, 0.10418505221605301, -0.029540525749325752, 0.11534719169139862, 0.17058582603931427, -0.17698915302753448, 0.00466936407610774, -0.4640793800354004, -0.2637662887573242, -0.15776069462299347, -0.07208400219678879, -0.1859603226184845));
	r += mul(s0_8, min16float4x4(-0.17153406143188477, -0.34620147943496704, -0.006829990539699793, 0.205657958984375, 0.022428428754210472, 0.05029631033539772, 0.05142362043261528, 0.14821915328502655, 0.22565706074237823, 0.12141653150320053, -0.0194915272295475, -0.4623602032661438, -0.12907685339450836, -0.00467852083966136, 0.009192151017487049, 0.03510856255888939));
	r += mul(s1_0, min16float4x4(-0.07564709335565567, -0.022175149992108345, -0.048543624579906464, 0.10378456860780716, 0.18213312327861786, 0.05973147973418236, 0.02950623631477356, -0.03106255829334259, 0.04210738092660904, -0.014363236725330353, 0.045291267335414886, -0.0650712177157402, -0.24894729256629944, -0.20451633632183075, 0.06968256086111069, 0.19565674662590027));
	r += mul(s1_1, min16float4x4(-0.012654260732233524, -0.04403433948755264, -0.1322091519832611, -0.07056871056556702, 0.08410970121622086, -0.05503520369529724, 0.03324969857931137, -0.1180187463760376, 0.01565280370414257, 0.04841335862874985, 0.04619995877146721, 0.14794057607650757, -0.07619878649711609, -0.03967418149113655, -0.07578495144844055, -0.007212881464511156));
	r += mul(s1_2, min16float4x4(0.02210349030792713, -0.022722773253917694, 0.10448151081800461, 0.001089535653591156, -0.09766031056642532, 0.10327991098165512, -0.09448204189538956, -0.10666476935148239, -0.019787942990660667, -0.03375464305281639, -0.052962854504585266, 0.01256971713155508, -0.05518045276403427, -0.06901951879262924, 0.05234520509839058, -0.051497042179107666));
	r += mul(s1_3, min16float4x4(-0.19334042072296143, -0.07153474539518356, -0.20263531804084778, -0.06518172472715378, 0.08050718903541565, 0.06771144270896912, 0.02662624605000019, 0.033638570457696915, 0.021286338567733765, -0.005086277145892382, -0.1378071904182434, 0.0030615541618317366, -0.5111010670661926, -0.32377439737319946, -0.4878218472003937, 0.01877780072391033));
	r += mul(s1_4, min16float4x4(-0.1411716490983963, 0.12404338270425797, -0.344178169965744, -0.2418101578950882, -0.04873945191502571, 0.16711287200450897, 0.051688261330127716, 0.26827290654182434, 0.23565486073493958, -0.12951260805130005, 0.47753897309303284, -0.10128852725028992, -0.1736648827791214, 0.0529080405831337, 0.009401274845004082, 0.2610243260860443));
	r += mul(s1_5, min16float4x4(-0.3377327024936676, 0.19653169810771942, -0.12055213749408722, -0.13622286915779114, -0.03264186903834343, -0.052625954151153564, -0.03723805025219917, 0.13370263576507568, 0.23621515929698944, -0.060692958533763885, -0.10767185688018799, -0.08188854157924652, -0.07675787806510925, -0.08600928634405136, -0.07244371622800827, -0.03484736755490303));
	r += mul(s1_6, min16float4x4(0.2903209924697876, 0.05840814858675003, -0.016734013333916664, 0.10940876603126526, -0.10317867249250412, -0.09897327423095703, 0.003651631297543645, -0.07626411318778992, 0.325783371925354, -0.027998685836791992, 0.007932152599096298, -0.11186829954385757, -0.36222895979881287, -0.09279932826757431, 0.05121075361967087, 0.06941968202590942));
	r += mul(s1_7, min16float4x4(-0.052879322320222855, 0.015699220821261406, -0.070205919444561, 0.2202473133802414, 0.0006590174743905663, -0.07486584782600403, -0.0022369634825736284, -0.06807883083820343, 0.0939159020781517, 0.07862673699855804, 0.13058654963970184, 0.14300662279129028, -0.1870528608560562, 0.07564998418092728, 0.013758092187345028, 0.38187509775161743));
	r += mul(s1_8, min16float4x4(0.03571499511599541, -0.016424747183918953, 0.08762513101100922, 0.4091912508010864, -0.10335641354322433, -0.11865788698196411, 0.009948006831109524, -0.08088502287864685, -0.0011293735587969422, 0.08057985454797745, -0.1726696640253067, 0.017826493829488754, -0.13720545172691345, 0.00497119827196002, -0.01470976136624813, -0.04648225009441376));
	r += mul(s2_0, min16float4x4(0.13578486442565918, 0.020342132076621056, -0.3470471203327179, -0.18797673285007477, 0.1781206727027893, -0.21435396373271942, -0.5000168681144714, 0.016033608466386795, 0.21728546917438507, 0.12237250059843063, -0.27641409635543823, -0.08084241300821304, 0.10267189890146255, 0.24997994303703308, -0.17155969142913818, -0.10142217576503754));
	r += mul(s2_1, min16float4x4(0.11982598155736923, -0.09983187168836594, 0.25681912899017334, 0.08425513654947281, 0.011607575230300426, -0.3351203203201294, 0.7871119379997253, 0.22704914212226868, -0.02783796191215515, -0.3848395049571991, -0.1562383770942688, -0.333050936460495, 0.24500411748886108, 0.015234675258398056, 0.09170440584421158, -0.14338257908821106));
	r += mul(s2_2, min16float4x4(0.09409768879413605, -0.019852519035339355, -0.0962311252951622, 0.05066695064306259, -0.3562336266040802, 0.1531020551919937, 0.0779372975230217, 0.2675463855266571, 0.1950705647468567, 0.05393458157777786, 0.308293879032135, 0.5335370898246765, 0.04920187219977379, 0.08103407174348831, -0.03918842971324921, 0.004127978812903166));
	r += mul(s2_3, min16float4x4(0.17192654311656952, -0.23016993701457977, -0.15920700132846832, -0.14968936145305634, 0.07948176562786102, -0.2679492235183716, -0.26473328471183777, 0.11723259091377258, -0.04428325220942497, 0.15863534808158875, 0.022332770749926567, -0.02020331844687462, 0.2181658148765564, 0.47753849625587463, 0.27534303069114685, -0.03049769625067711));
	r += mul(s2_4, min16float4x4(0.002582025248557329, 0.1889837235212326, 0.06810535490512848, 0.18036788702011108, -0.31753382086753845, -0.2751018702983856, 0.27129727602005005, 0.3997825086116791, -0.1973375529050827, -0.30043426156044006, -0.5549238324165344, 0.14351704716682434, 0.08580625057220459, 0.21042996644973755, 0.009456729516386986, -0.15577347576618195));
	r += mul(s2_5, min16float4x4(0.14117451012134552, 0.007458480075001717, 0.026022663339972496, -0.023336974903941154, 0.07447241991758347, 0.19181236624717712, 0.1313527226448059, -0.4875698685646057, -0.2658378481864929, 0.6425818204879761, 0.07662221044301987, -0.2829132676124573, 0.14577655494213104, -0.0676698312163353, 0.1185700073838234, 0.03414370119571686));
	r += mul(s2_6, min16float4x4(-0.05947386473417282, -0.13909710943698883, 0.22753192484378815, 0.17889676988124847, -0.11056489497423172, 0.040801066905260086, -0.03280232101678848, 0.13206037878990173, 0.023093195632100105, 0.02519199810922146, 0.07430300861597061, -0.016548192128539085, 0.36055228114128113, 0.1262427270412445, 0.2142976075410843, 0.010709487833082676));
	r += mul(s2_7, min16float4x4(-0.053769879043102264, -0.06759278476238251, -0.01072156522423029, -0.02642872743308544, -0.09513414651155472, -0.11682738363742828, -0.06820467859506607, -0.4121202528476715, -0.10281691700220108, -0.02516230382025242, -0.09211956709623337, 0.08766064047813416, 0.06763283908367157, -0.08620999753475189, -0.024643315002322197, 0.01777520589530468));
	r += mul(s2_8, min16float4x4(-0.1515786051750183, 0.05202591419219971, 0.007159358821809292, 0.037891119718551636, 0.12890684604644775, 0.17542752623558044, 0.06906142830848694, -0.35253962874412537, -0.17429044842720032, 0.18028053641319275, -0.15938793122768402, -0.330351322889328, 0.05694032087922096, 0.11169162392616272, 0.011275635100901127, -0.11406723409891129));
	r += mul(s3_0, min16float4x4(0.04088074341416359, 0.23418214917182922, -0.006971191614866257, 0.08453720808029175, -0.006760944612324238, -0.028621360659599304, 0.3064268231391907, -0.028680691495537758, -0.17411741614341736, -0.007683792617172003, -0.08390249311923981, 0.13134656846523285, 0.1712317317724228, -0.23477981984615326, -0.08497162163257599, -0.1072612777352333));
	r += mul(s3_1, min16float4x4(0.016409294679760933, -0.15542861819267273, -0.12797658145427704, -0.15689222514629364, -0.21728691458702087, -0.04040541872382164, 0.49888551235198975, 0.179377943277359, -0.2087150365114212, -0.137518972158432, 0.16727067530155182, 0.20842944085597992, 0.1843460649251938, 0.1213376596570015, -0.17375972867012024, -0.1054413691163063));
	r += mul(s3_2, min16float4x4(0.04207592457532883, 0.014940538443624973, 0.08071600645780563, -0.0455048568546772, -0.003380302805453539, -0.09410057961940765, 0.23005951941013336, 0.2345110923051834, -0.3517627716064453, -0.06240643188357353, 0.29731112718582153, 0.5576172471046448, 0.12647241353988647, -0.058708880096673965, 0.00610358826816082, -0.06670133024454117));
	r += mul(s3_3, min16float4x4(0.2174607366323471, 0.8538955450057983, -0.5195682048797607, -0.16902169585227966, -0.020994093269109726, 0.06655778735876083, 0.1228012889623642, 0.07053753733634949, -0.12421908229589462, -0.0809883251786232, 0.10285775363445282, 0.05631192773580551, 0.40247076749801636, -0.4923030138015747, -0.32261186838150024, -0.1409546285867691));
	r += mul(s3_4, min16float4x4(0.10962272435426712, -0.18689604103565216, 0.05262640491127968, -0.30665454268455505, 0.38254281878471375, -0.26456311345100403, -0.05660632252693176, -0.09561749547719955, 0.07318491488695145, 0.30319395661354065, -0.02276829071342945, 0.13485927879810333, 0.39681386947631836, -0.02615782618522644, -0.011837346479296684, -0.22285769879817963));
	r += mul(s3_5, min16float4x4(-0.0989723652601242, 0.13058848679065704, -0.05010245740413666, -0.006343850400298834, -0.2919345200061798, 0.6615746021270752, 0.2766076326370239, 0.034249793738126755, -0.5234155058860779, 0.08510424941778183, 0.1334858238697052, -0.15197224915027618, 0.027666576206684113, 0.06425156444311142, -0.04121357575058937, -0.05300002545118332));
	r += mul(s3_6, min16float4x4(0.1841893345117569, -0.14784273505210876, -0.051780007779598236, 0.13122902810573578, -0.04137658327817917, -0.15603643655776978, -0.05247534438967705, -0.06652570515871048, -0.05414462462067604, -0.050124213099479675, -0.059920039027929306, 0.015149589627981186, 0.1676088124513626, -0.34420233964920044, -0.1313466727733612, -0.030070126056671143));
	r += mul(s3_7, min16float4x4(0.11017723381519318, -0.0748153030872345, 0.07445703446865082, 0.10289900004863739, -0.1253572255373001, 0.2147573083639145, 0.1291019320487976, 0.13963960111141205, 0.16440917551517487, 0.06567452102899551, 0.008652701042592525, -0.19232264161109924, 0.3970513939857483, 0.09153692424297333, -0.04189928621053696, -0.07249005138874054));
	r += mul(s3_8, min16float4x4(0.14533771574497223, -0.05735742300748825, 0.012845048680901527, -0.0671115443110466, -0.296303927898407, 0.236379012465477, -0.020473921671509743, -0.21294331550598145, -0.06065211072564125, 0.08904678374528885, 0.0035561290569603443, 0.030804887413978577, 0.15068158507347107, -0.036278482526540756, 0.025589805096387863, 0.021144049242138863));
	r += float4(0.00289825233630836, 0.003644207026809454, -0.007096190005540848, 0.00018522281607147306);
	return r;
}
void Pass2(uint2 blockStart, uint3 tid) {
	float2 pt = float2(GetInputPt());
	uint2 gxy = Rmp8x8(tid.x) + blockStart;
	uint2 size = GetInputSize();
	if (gxy.x >= size.x || gxy.y >= size.y) {
		return;
	}
	float2 pos = (gxy + 0.5) * pt;
	min16float4 s0_0 = l0(-1.0, -1.0);
	min16float4 s0_1 = l0(0.0, -1.0);
	min16float4 s0_2 = l0(1.0, -1.0);
	min16float4 s0_3 = l0(-1.0, 0.0);
	min16float4 s0_4 = l0(0.0, 0.0);
	min16float4 s0_5 = l0(1.0, 0.0);
	min16float4 s0_6 = l0(-1.0, 1.0);
	min16float4 s0_7 = l0(0.0, 1.0);
	min16float4 s0_8 = l0(1.0, 1.0);
	min16float4 s1_0 = max(-s0_0, 0.0);
	min16float4 s1_1 = max(-s0_1, 0.0);
	min16float4 s1_2 = max(-s0_2, 0.0);
	min16float4 s1_3 = max(-s0_3, 0.0);
	min16float4 s1_4 = max(-s0_4, 0.0);
	min16float4 s1_5 = max(-s0_5, 0.0);
	min16float4 s1_6 = max(-s0_6, 0.0);
	min16float4 s1_7 = max(-s0_7, 0.0);
	min16float4 s1_8 = max(-s0_8, 0.0);
	s0_0 = max(s0_0, 0.0);
	s0_1 = max(s0_1, 0.0);
	s0_2 = max(s0_2, 0.0);
	s0_3 = max(s0_3, 0.0);
	s0_4 = max(s0_4, 0.0);
	s0_5 = max(s0_5, 0.0);
	s0_6 = max(s0_6, 0.0);
	s0_7 = max(s0_7, 0.0);
	s0_8 = max(s0_8, 0.0);
	min16float4 s2_0 = l1(-1.0, -1.0);
	min16float4 s2_1 = l1(0.0, -1.0);
	min16float4 s2_2 = l1(1.0, -1.0);
	min16float4 s2_3 = l1(-1.0, 0.0);
	min16float4 s2_4 = l1(0.0, 0.0);
	min16float4 s2_5 = l1(1.0, 0.0);
	min16float4 s2_6 = l1(-1.0, 1.0);
	min16float4 s2_7 = l1(0.0, 1.0);
	min16float4 s2_8 = l1(1.0, 1.0);
	min16float4 s3_0 = max(-s2_0, 0.0);
	min16float4 s3_1 = max(-s2_1, 0.0);
	min16float4 s3_2 = max(-s2_2, 0.0);
	min16float4 s3_3 = max(-s2_3, 0.0);
	min16float4 s3_4 = max(-s2_4, 0.0);
	min16float4 s3_5 = max(-s2_5, 0.0);
	min16float4 s3_6 = max(-s2_6, 0.0);
	min16float4 s3_7 = max(-s2_7, 0.0);
	min16float4 s3_8 = max(-s2_8, 0.0);
	s2_0 = max(s2_0, 0.0);
	s2_1 = max(s2_1, 0.0);
	s2_2 = max(s2_2, 0.0);
	s2_3 = max(s2_3, 0.0);
	s2_4 = max(s2_4, 0.0);
	s2_5 = max(s2_5, 0.0);
	s2_6 = max(s2_6, 0.0);
	s2_7 = max(s2_7, 0.0);
	s2_8 = max(s2_8, 0.0);
	conv1_0[gxy] = f0(pt, pos, s0_0, s0_1, s0_2, s0_3, s0_4, s0_5, s0_6, s0_7, s0_8, s1_0, s1_1, s1_2, s1_3, s1_4, s1_5, s1_6, s1_7, s1_8, s2_0, s2_1, s2_2, s2_3, s2_4, s2_5, s2_6, s2_7, s2_8, s3_0, s3_1, s3_2, s3_3, s3_4, s3_5, s3_6, s3_7, s3_8);
	conv1_1[gxy] = f1(pt, pos, s0_0, s0_1, s0_2, s0_3, s0_4, s0_5, s0_6, s0_7, s0_8, s1_0, s1_1, s1_2, s1_3, s1_4, s1_5, s1_6, s1_7, s1_8, s2_0, s2_1, s2_2, s2_3, s2_4, s2_5, s2_6, s2_7, s2_8, s3_0, s3_1, s3_2, s3_3, s3_4, s3_5, s3_6, s3_7, s3_8);
}
//!PASS 3
//!DESC CuNNy-2x8C-BILINEAR-NVL-conv2
//!BLOCK_SIZE 8
//!NUM_THREADS 64
//!IN conv1_0, conv1_1
//!OUT conv2_0, conv2_1
#define O(t, p) t.SampleLevel(SP, pos + p * pt, 0)
#define l0(x, y) O(conv1_0, float2(x, y))
#define l1(x, y) O(conv1_1, float2(x, y))
float4 f0(float2 pt, float2 pos, min16float4 s0_0, min16float4 s0_1, min16float4 s0_2, min16float4 s0_3, min16float4 s0_4, min16float4 s0_5, min16float4 s0_6, min16float4 s0_7, min16float4 s0_8, min16float4 s1_0, min16float4 s1_1, min16float4 s1_2, min16float4 s1_3, min16float4 s1_4, min16float4 s1_5, min16float4 s1_6, min16float4 s1_7, min16float4 s1_8, min16float4 s2_0, min16float4 s2_1, min16float4 s2_2, min16float4 s2_3, min16float4 s2_4, min16float4 s2_5, min16float4 s2_6, min16float4 s2_7, min16float4 s2_8, min16float4 s3_0, min16float4 s3_1, min16float4 s3_2, min16float4 s3_3, min16float4 s3_4, min16float4 s3_5, min16float4 s3_6, min16float4 s3_7, min16float4 s3_8) {
	min16float4 r = 0.0;
	r += mul(s0_0, min16float4x4(0.056489087641239166, 0.15284176170825958, 0.013076036237180233, 0.01638539880514145, -0.17607229948043823, -0.00035069879959337413, -0.18273021280765533, -0.020777184516191483, 0.02654586173593998, 0.012569683603942394, -0.016690872609615326, 0.04504372924566269, 0.3739950656890869, -0.08833993226289749, -0.09754261374473572, 0.06458569318056107));
	r += mul(s0_1, min16float4x4(0.0007619192474521697, 0.05787926912307739, -0.16949895024299622, 0.028649665415287018, 0.09698303788900375, 0.1836623102426529, -0.060889825224876404, -0.0040322705172002316, -0.18603643774986267, 0.016832798719406128, 0.07885352522134781, -0.13151828944683075, 0.024009186774492264, 0.0485214926302433, -0.29539695382118225, 0.21963971853256226));
	r += mul(s0_2, min16float4x4(-0.03052130900323391, 0.05961964651942253, 0.07444742321968079, -0.00440619932487607, -0.07783978432416916, -0.050572481006383896, -0.002065755659714341, -0.06430124491453171, -0.03226190805435181, -0.0249323770403862, 0.018724946305155754, -0.1473529040813446, -0.12237579375505447, -0.013489442877471447, -0.04501067101955414, -0.07699942588806152));
	r += mul(s0_3, min16float4x4(-0.12427160888910294, 0.12622712552547455, 0.14641715586185455, -0.06763588637113571, -0.18310560286045074, -0.03580443933606148, 0.09594684094190598, -0.3152291476726532, 0.08914155513048172, -0.01677483320236206, 0.05141838267445564, 0.020656516775488853, -0.421369343996048, 2.9615209102630615, -0.751106858253479, -0.12012498825788498));
	r += mul(s0_4, min16float4x4(0.13232508301734924, 0.039357226341962814, 0.2429323047399521, -0.19577589631080627, -0.037286221981048584, 0.27916067838668823, 0.09431086480617523, 0.013226649723947048, -0.06368467211723328, -0.15097752213478088, -0.014308574609458447, -0.2358396053314209, -0.1062002032995224, 0.2413463294506073, -0.10232436656951904, -0.14593066275119781));
	r += mul(s0_5, min16float4x4(-0.0061800298281013966, 0.07174272835254669, -0.01037028431892395, 0.09559167176485062, -0.039569731801748276, -0.038171835243701935, 0.012535618618130684, -0.15091347694396973, 0.15059196949005127, 0.04238502308726311, -0.07876615971326828, 0.025747552514076233, -0.006128949578851461, 0.04397696629166603, 0.011004315689206123, -0.05185234174132347));
	r += mul(s0_6, min16float4x4(0.0717465952038765, 0.09354475140571594, -0.43484175205230713, 0.1184387356042862, -0.019170789048075676, -0.06254134327173233, 0.12284473329782486, -0.1235499456524849, 0.044311098754405975, 0.012162580154836178, -0.04405122995376587, 0.07420728355646133, 0.041422851383686066, 0.4749394655227661, 0.5134516954421997, 0.0042518372647464275));
	r += mul(s0_7, min16float4x4(-0.19253204762935638, 1.2779604196548462, -0.7114231586456299, 0.2704625725746155, -0.11374650150537491, 0.44066908955574036, -0.09136170148849487, 0.02607978880405426, 0.06097548082470894, 0.03133392333984375, -0.11158490180969238, 0.21473397314548492, 0.0362417995929718, 0.010290191508829594, -0.013751285150647163, -0.1255025416612625));
	r += mul(s0_8, min16float4x4(-0.1343274712562561, 0.05294951796531677, -0.06350866705179214, -0.059969425201416016, 0.028687069192528725, -0.0344160757958889, 0.06711119413375854, -0.006973637733608484, -0.07077206671237946, 0.07010999321937561, -0.03803529217839241, -0.053820013999938965, -0.024041233584284782, 0.017578592523932457, 0.004533883184194565, -0.08742478489875793));
	r += mul(s1_0, min16float4x4(-0.07551980763673782, -0.035115115344524384, -0.04968220740556717, -0.06366927176713943, -0.023927798494696617, -0.07728715240955353, 0.08063793927431107, 0.06762739270925522, -0.14173665642738342, -0.013282760977745056, 0.10667731612920761, -0.19699649512767792, -0.1081482321023941, -0.06717438250780106, 0.0798380970954895, -0.10005953162908554));
	r += mul(s1_1, min16float4x4(-0.0251740925014019, 0.033331047743558884, -0.15761573612689972, 0.08608146011829376, 0.1711784154176712, -0.007564940489828587, -0.0018182751955464482, 0.07832636684179306, -0.027536388486623764, 0.3628338575363159, -0.1303040236234665, 0.5785571336746216, 0.012952652759850025, -0.010490662418305874, 0.055007513612508774, 0.03166346251964569));
	r += mul(s1_2, min16float4x4(0.07425790280103683, -0.05276917666196823, -0.08466869592666626, 0.008018014021217823, -0.05232444778084755, -0.030617015436291695, 0.031004244461655617, -0.03350222110748291, -0.3408052623271942, -0.06236417591571808, -0.13797804713249207, -0.1747926026582718, 0.04649186134338379, 0.007344154641032219, 0.026086805388331413, 0.032840196043252945));
	r += mul(s1_3, min16float4x4(7.30730826035142e-05, 0.18274469673633575, 0.020118385553359985, 0.02292461507022381, 0.03980142995715141, 0.02024746686220169, -0.2504531741142273, -0.10584673285484314, 0.13902676105499268, 0.07762891799211502, -0.02789558842778206, 0.3795596957206726, 0.06546040624380112, 0.10125306248664856, -0.20076888799667358, 0.02557523548603058));
	r += mul(s1_4, min16float4x4(-0.13073332607746124, 0.11097919940948486, 0.40334999561309814, -0.12026167660951614, -0.1385260373353958, -0.32048919796943665, 0.07733786851167679, 0.29979875683784485, -1.4882757663726807, 0.2091473489999771, 0.034557271748781204, -1.328566312789917, 0.008717060089111328, -0.04754761606454849, 0.047983597964048386, 0.11451177299022675));
	r += mul(s1_5, min16float4x4(0.04049817472696304, -0.007622908800840378, 0.03724733367562294, 0.06954563409090042, -0.004132288508117199, -0.07159804552793503, 0.017676468938589096, -0.1453329175710678, -0.6848663687705994, 0.35514673590660095, 0.3553141951560974, -0.17328591644763947, 0.0026694645639508963, -0.0031569888815283775, 0.012310592457652092, -0.003450248157605529));
	r += mul(s1_6, min16float4x4(-0.029711056500673294, -0.05286777764558792, 0.12047132849693298, -0.045773737132549286, -0.03135228529572487, -0.018212806433439255, 0.14908704161643982, -0.04211922734975815, 0.1671585589647293, -0.01237487979233265, -0.014844266697764397, 0.22266976535320282, -0.01629609614610672, 0.09334341436624527, -0.0973333865404129, 0.008731191046535969));
	r += mul(s1_7, min16float4x4(-0.0392545647919178, -0.1540171205997467, 0.09569375216960907, -0.18518850207328796, -0.034077130258083344, -0.19834771752357483, 0.019175779074430466, 0.10777190327644348, -0.294107586145401, -0.248896986246109, 0.6113652586936951, -0.4225585460662842, -0.0037795763928443193, -0.1055540069937706, 0.10135519504547119, -0.08471325039863586));
	r += mul(s1_8, min16float4x4(-0.025635095313191414, 0.11352407932281494, -0.11093549430370331, 0.07575555145740509, 0.0024586592335253954, 0.06056679040193558, -0.005181567277759314, -0.0019145268015563488, 0.07733183354139328, -0.06525006145238876, 0.3778550326824188, -0.21447011828422546, 0.017339380457997322, 0.03686333820223808, 0.024371134117245674, 0.06420955806970596));
	r += mul(s2_0, min16float4x4(-0.28137439489364624, -0.03733307123184204, -0.009606781415641308, -0.24932290613651276, 0.3096262812614441, 0.021489791572093964, -0.03455723822116852, 0.2095612734556198, 0.0661163404583931, -0.022989453747868538, 0.00193223322276026, 0.04070212319493294, 0.08796633034944534, -0.032894257456064224, -0.0011498904787003994, 0.14359812438488007));
	r += mul(s2_1, min16float4x4(-0.008392238058149815, 0.03329210355877876, 0.06151709333062172, -0.1343059092760086, -0.005036942660808563, 0.05699920654296875, -0.11803996562957764, 0.022180410102009773, 0.026988888159394264, -0.06983810663223267, -0.108370341360569, -0.019173163920640945, 0.11329301446676254, 0.07116203010082245, 0.26887398958206177, 0.01707005314528942));
	r += mul(s2_2, min16float4x4(-0.21165624260902405, -0.05618246644735336, -0.01769055798649788, -0.17424604296684265, -0.14429941773414612, 0.014274942688643932, 0.022057708352804184, -0.06909336894750595, 0.06215507909655571, -0.034306835383176804, -0.06825460493564606, 0.06265592575073242, -0.054444942623376846, -0.017541924491524696, 0.054201461374759674, -0.05533967539668083));
	r += mul(s2_3, min16float4x4(-0.4796866178512573, -0.10428537428379059, 0.16087882220745087, -0.32324492931365967, 0.1113651916384697, -0.14575190842151642, 0.19384685158729553, 0.3252362906932831, 0.02319793775677681, -0.031280696392059326, -0.03869260475039482, 0.04432521387934685, -0.11089972406625748, -0.03310190886259079, 0.19453078508377075, -0.08695108443498611));
	r += mul(s2_4, min16float4x4(-0.27132561802864075, 0.14536459743976593, 0.008776470087468624, -0.33453723788261414, -0.029062096029520035, -0.03260740265250206, 0.34911495447158813, -0.2573775351047516, 0.3151209354400635, -0.18213032186031342, 0.10513774305582047, 0.32100796699523926, 0.11400436609983444, 0.3663308322429657, 0.2796880006790161, 0.2433907389640808));
	r += mul(s2_5, min16float4x4(-0.02404109016060829, 0.08672215044498444, 0.05559268593788147, -0.06500423699617386, -0.036257244646549225, 0.0030571126844733953, -0.12493333965539932, -0.07687442749738693, 0.04079578071832657, 0.048778925091028214, 0.1973402053117752, -0.011780296452343464, 0.035524435341358185, 0.06529636681079865, -0.046133413910865784, -0.018440959975123405));
	r += mul(s2_6, min16float4x4(0.0030011555645614862, -0.1323584020137787, 0.08767513930797577, -0.09768568724393845, 0.02308660000562668, 0.0187703687697649, -0.04374227300286293, 0.03666447848081589, 0.06115430220961571, -0.026391226798295975, -0.056387584656476974, -0.010589241050183773, -0.05478973686695099, 0.19970683753490448, -0.12028299272060394, -0.031549930572509766));
	r += mul(s2_7, min16float4x4(-0.23615628480911255, 0.11694595217704773, 0.01699664071202278, -0.29004350304603577, 0.03882263973355293, -0.042103298008441925, -0.10503170639276505, 0.10894987732172012, -0.10985776782035828, -0.2744313180446625, 0.37497007846832275, 0.01492677815258503, 0.16915510594844818, -0.013820166699588299, -0.290677547454834, 0.009708669036626816));
	r += mul(s2_8, min16float4x4(-0.0543285608291626, -0.04505814611911774, -0.01719278283417225, 0.028339942917227745, -0.018541688099503517, -0.21247532963752747, 0.05378231778740883, -0.14931581914424896, 0.04095086082816124, -0.18039393424987793, 0.17889559268951416, 0.09370385855436325, 0.0033148028887808323, 0.07153324037790298, -0.04744258522987366, 0.012985317967832088));
	r += mul(s3_0, min16float4x4(0.0016056220047175884, 0.275983989238739, -0.009271174669265747, -0.05038904771208763, -0.033077262341976166, 0.03499738499522209, 0.01763267070055008, -0.11932393163442612, -0.02573222666978836, -0.005731952842324972, 0.02751310169696808, -0.008062838576734066, 0.005037433933466673, 0.16064561903476715, -0.10746363550424576, -0.013653894886374474));
	r += mul(s3_1, min16float4x4(-0.0665460154414177, 0.25488317012786865, -0.19626286625862122, 0.06907830387353897, -0.23775580525398254, -0.137152761220932, 0.14600573480129242, -0.11087525635957718, 0.02381015382707119, 0.060085851699113846, 0.06037171930074692, -0.025247935205698013, -0.18488304316997528, -0.052901510149240494, 0.16495496034622192, -0.08215869218111038));
	r += mul(s3_2, min16float4x4(0.0585927776992321, 0.08258122950792313, -0.08450215309858322, 0.0249948687851429, 0.278616338968277, -0.10474061220884323, -0.03217422217130661, 0.286087304353714, -0.019173555076122284, 0.019471462815999985, 0.019967667758464813, -0.05852701514959335, -0.035147856920957565, -0.012480861507356167, -0.02211088128387928, -0.012678339146077633));
	r += mul(s3_3, min16float4x4(0.170436292886734, 0.1414659172296524, 0.019296882674098015, 0.09678348153829575, 0.013335497118532658, 0.02777995355427265, 0.09556489437818527, 0.17647798359394073, -0.07837151736021042, 0.0008677951991558075, -0.045853108167648315, -0.08618456870317459, -0.05703051760792732, 0.12497838586568832, -0.013689236715435982, -0.07367918640375137));
	r += mul(s3_4, min16float4x4(-0.20086559653282166, 0.26763054728507996, 0.06745312362909317, -0.09089066088199615, 0.19649559259414673, 0.030029522255063057, 0.10565115511417389, -0.4808291792869568, -0.18319009244441986, 0.06459545344114304, -0.1779312789440155, -0.01632038503885269, 0.002098995493724942, 0.244137242436409, -0.6106924414634705, 0.016771286725997925));
	r += mul(s3_5, min16float4x4(0.08648683875799179, 0.0733436644077301, 0.10180667042732239, 0.09087025374174118, -0.10618767887353897, 0.164568692445755, 0.13112953305244446, 0.16419264674186707, -0.07271696627140045, -0.05687073618173599, 0.09571347385644913, -0.03075544536113739, 0.0790945291519165, 0.019215073436498642, 0.04242628440260887, 0.07655743509531021));
	r += mul(s3_6, min16float4x4(-0.019832568243145943, 0.04852405562996864, 0.005308188032358885, 0.06879561394453049, -0.04839104041457176, 0.01730942726135254, -0.08975014835596085, -0.03433714807033539, -0.08623433858156204, 0.014150068163871765, 0.05821775645017624, -0.07195059955120087, -0.034000612795352936, 0.044719986617565155, -0.16809315979480743, 0.03723119571805));
	r += mul(s3_7, min16float4x4(0.11969400197267532, -0.03320309519767761, 0.17020702362060547, 0.06269744783639908, 0.010150968097150326, 0.030633307993412018, 0.2136918306350708, 0.0637795701622963, 0.15971246361732483, 0.02282579615712166, 0.1907147467136383, -0.07690244913101196, -0.011746526695787907, 0.14917460083961487, -0.015466475859284401, -0.05313856527209282));
	r += mul(s3_8, min16float4x4(-0.038734037429094315, 0.16398262977600098, -0.10322826355695724, 0.040977515280246735, 0.14940868318080902, 0.14794932305812836, -0.09644052386283875, 0.10468535125255585, -0.07347696274518967, 0.23584017157554626, -0.06883693486452103, 0.13072974979877472, 0.021969208493828773, -0.020453548058867455, -0.07067261636257172, 0.018567997962236404));
	r += float4(0.0005296348826959729, -0.0005433677579276264, 0.004670067690312862, 0.0014177177799865603);
	return r;
}
float4 f1(float2 pt, float2 pos, min16float4 s0_0, min16float4 s0_1, min16float4 s0_2, min16float4 s0_3, min16float4 s0_4, min16float4 s0_5, min16float4 s0_6, min16float4 s0_7, min16float4 s0_8, min16float4 s1_0, min16float4 s1_1, min16float4 s1_2, min16float4 s1_3, min16float4 s1_4, min16float4 s1_5, min16float4 s1_6, min16float4 s1_7, min16float4 s1_8, min16float4 s2_0, min16float4 s2_1, min16float4 s2_2, min16float4 s2_3, min16float4 s2_4, min16float4 s2_5, min16float4 s2_6, min16float4 s2_7, min16float4 s2_8, min16float4 s3_0, min16float4 s3_1, min16float4 s3_2, min16float4 s3_3, min16float4 s3_4, min16float4 s3_5, min16float4 s3_6, min16float4 s3_7, min16float4 s3_8) {
	min16float4 r = 0.0;
	r += mul(s0_0, min16float4x4(0.10497955232858658, -0.031246542930603027, -0.1386067271232605, 0.008578327484428883, -0.1241443082690239, -0.18766306340694427, 0.047039326280355453, 0.08227118104696274, -0.008351776748895645, -0.012694725766777992, -0.03478342667222023, -0.023894013836979866, 0.0649508610367775, 0.14383149147033691, -0.2631009519100189, -0.13037733733654022));
	r += mul(s0_1, min16float4x4(0.07497252523899078, -0.1376296877861023, 0.17371387779712677, -0.07993988692760468, 0.012402285821735859, 0.01090262085199356, -0.2262740582227707, -0.030949791893363, -0.10168890655040741, -0.015396129339933395, -0.02958671934902668, 0.09301595389842987, 0.4222663342952728, -0.1401512324810028, -0.019064882770180702, -0.315428763628006));
	r += mul(s0_2, min16float4x4(-0.08041657507419586, 0.048365700989961624, 0.034325506538152695, -0.0731501579284668, 0.005206183064728975, 0.028584850952029228, 0.02768433652818203, 0.12150397896766663, -0.11231689155101776, -0.018200526013970375, -0.00042019030661322176, 0.11601348966360092, 0.050236113369464874, 0.01999865286052227, 0.024604767560958862, 0.021853007376194));
	r += mul(s0_3, min16float4x4(0.011431623250246048, -0.07968849688768387, -0.149298295378685, -0.10342713445425034, 0.1359095722436905, -0.4383874535560608, -0.19029560685157776, 0.0050061666406691074, 0.017766470089554787, 0.07154493033885956, -0.017999466508626938, -0.03260982409119606, -0.2861287295818329, -3.1471669673919678, 0.10451865941286087, 0.500517725944519));
	r += mul(s0_4, min16float4x4(2.3288328647613525, -0.5466726422309875, -0.04944201558828354, 0.14563295245170593, 0.04035160690546036, 0.19743242859840393, -0.030372746288776398, 0.1586528867483139, 0.1632639616727829, -0.002193643245846033, -0.0865650400519371, -0.24691639840602875, -0.3834991753101349, 0.21442560851573944, -0.022670695558190346, -0.0009575871517881751));
	r += mul(s0_5, min16float4x4(-0.06430113315582275, 0.1977541297674179, 0.027884891256690025, 0.04390694573521614, -0.006060806568711996, -0.09232483059167862, 0.0348929762840271, 0.006850337143987417, 0.1993688941001892, 0.0017582994187250733, 0.02309352345764637, -0.10300897806882858, 0.03853628784418106, 0.010196064598858356, -0.004361216444522142, 0.14318552613258362));
	r += mul(s0_6, min16float4x4(-0.06390255689620972, 0.05917005240917206, 0.07096567749977112, -0.021333076059818268, 0.007518129423260689, 0.052871715277433395, 0.03632326051592827, 0.017321450635790825, -0.02577713504433632, 0.09167525917291641, 0.051381077617406845, 0.009345571510493755, 0.0925157219171524, -0.36732912063598633, -0.07189147919416428, -0.09625744819641113));
	r += mul(s0_7, min16float4x4(-0.395508348941803, -0.006041988264769316, -0.06648419797420502, -0.497734010219574, -0.09591019153594971, -0.09881535172462463, 0.0007752291858196259, -0.19676297903060913, -0.05538659542798996, 0.14593569934368134, 0.11346574127674103, 0.05317465588450432, 0.09782016277313232, -0.05852801725268364, 0.004781042691320181, 0.12080932408571243));
	r += mul(s0_8, min16float4x4(-0.1328621357679367, 0.05797986313700676, 0.09402506053447723, -0.11364743858575821, 0.06654872745275497, -0.06573933362960815, 0.01590660959482193, 0.05641186609864235, -0.14251746237277985, -0.036967311054468155, 0.009831447154283524, -0.007383148651570082, -0.040306489914655685, -0.014879762195050716, 0.010304722934961319, -0.002815170446410775));
	r += mul(s1_0, min16float4x4(-0.08755040913820267, -0.0567682646214962, 0.13015277683734894, -0.10258825868368149, 0.17378689348697662, 0.15212680399417877, 0.17042426764965057, -0.24866531789302826, -0.05151112377643585, 0.009458083659410477, -0.44239723682403564, 0.006882960442453623, 0.01838391087949276, 0.03430875763297081, -0.024152344092726707, -0.06650460511445999));
	r += mul(s1_1, min16float4x4(0.17234697937965393, -0.0382438488304615, -0.01330932043492794, -0.11791660636663437, 0.3704947233200073, -0.10258381068706512, -0.1405019313097, 0.04841804876923561, 0.12889395654201508, -0.4093777537345886, -0.08737222850322723, 0.12910042703151703, 0.028388895094394684, -0.020658239722251892, 0.02664148062467575, 0.11154262721538544));
	r += mul(s1_2, min16float4x4(0.03509451821446419, -0.023207340389490128, -0.06837867945432663, 0.0019660149700939655, 0.017798401415348053, 0.05305277556180954, 0.08763798326253891, 0.07970716804265976, 0.05305363982915878, 0.0029120082035660744, -0.07565783709287643, 0.1720520406961441, 0.02007143944501877, -0.004461208824068308, -0.013495386578142643, 0.018850596621632576));
	r += mul(s1_3, min16float4x4(-0.056152086704969406, -0.2705819308757782, -0.03925226256251335, 0.12702688574790955, -0.2397497594356537, 0.09830659627914429, 0.25482800602912903, 0.16388355195522308, -0.09272697567939758, 0.21678046882152557, 0.004327211529016495, 0.05857666954398155, 0.11086455732584, 0.13894213736057281, 0.10663766413927078, 0.13530787825584412));
	r += mul(s1_4, min16float4x4(-0.09938017278909683, 0.10886037349700928, 0.020465722307562828, 0.048625148832798004, -0.7187547087669373, -0.15167909860610962, -0.30104103684425354, -0.13437111675739288, -0.08507910370826721, -1.213038682937622, -0.2800827920436859, 0.14203038811683655, 0.06322905421257019, -0.08141718059778214, -0.02214442566037178, -0.06478548794984818));
	r += mul(s1_5, min16float4x4(-0.08489825576543808, -0.045667171478271484, -0.05539399012923241, -0.04074027016758919, -0.09110356867313385, -0.06856733560562134, 0.013923627324402332, -0.1565757691860199, 0.5446159839630127, -0.2691541314125061, 0.09692499041557312, 0.26660585403442383, -0.003731315489858389, 0.014811583794653416, -0.002270979341119528, -0.0015479514840990305));
	r += mul(s1_6, min16float4x4(0.0824139267206192, -0.054326340556144714, -0.07961234450340271, 0.02198495715856552, -0.0028740435373038054, -0.09687831997871399, -0.01970369927585125, -0.02426535077393055, -0.04013641178607941, -0.09278687834739685, -0.11257898062467575, -0.1925792247056961, -0.02612888254225254, -0.018655672669410706, 0.014192670583724976, -0.019807687029242516));
	r += mul(s1_7, min16float4x4(0.09477854520082474, 0.018977174535393715, -0.003288199659436941, 0.2065815031528473, 0.143981471657753, 0.2535860538482666, -0.05453231930732727, 0.12286616116762161, 0.08866124600172043, -0.19675950706005096, -0.10855557024478912, 0.1277458518743515, 0.07589711248874664, 0.0319194532930851, -0.010071148164570332, 0.004997050389647484));
	r += mul(s1_8, min16float4x4(-0.03537305071949959, -0.011353482492268085, -0.04479166865348816, -0.060975346714258194, -0.08412925153970718, -0.054141487926244736, 0.03381134942173958, 0.0015546606155112386, 0.382358580827713, -0.21597620844841003, 0.03595994412899017, 0.057152725756168365, 0.03547188639640808, 0.017505377531051636, -0.008224660530686378, -0.010297930799424648));
	r += mul(s2_0, min16float4x4(-0.04486849159002304, -0.15929195284843445, -0.1596630960702896, 0.1753816157579422, 0.11424513906240463, 0.10863764584064484, -0.15099447965621948, -0.04436498507857323, 0.03171909227967262, 0.08961103111505508, -0.08621308207511902, -0.028048478066921234, 0.06106632202863693, -0.016554057598114014, -0.00955283734947443, 0.07424996048212051));
	r += mul(s2_1, min16float4x4(-0.2543957233428955, 0.16479220986366272, -0.010304300114512444, -0.07774925976991653, -0.02366015687584877, -0.036247748881578445, -0.043058328330516815, -0.0880473256111145, 0.021931244060397148, 0.009453145787119865, -0.08203884959220886, 0.026624970138072968, -0.07478078454732895, 0.20557869970798492, -0.2553732991218567, -0.04021856561303139));
	r += mul(s2_2, min16float4x4(0.07806867361068726, -0.027916181832551956, 0.05309790372848511, -0.07516930997371674, -0.0715317502617836, 0.03854982927441597, 0.10760577768087387, -0.12399282306432724, 0.08570794761180878, -0.026341058313846588, -0.07947355508804321, -0.022944947704672813, -0.08573901653289795, -0.024596327915787697, 0.12387962639331818, 0.09195669740438461));
	r += mul(s2_3, min16float4x4(-0.018477601930499077, -0.12563203275203705, -0.13031688332557678, -0.1367073655128479, -0.02194310910999775, 0.19056299328804016, -0.055648546665906906, 0.21981069445610046, 0.02567804604768753, 0.29608431458473206, 0.3427697420120239, -0.16540369391441345, -0.08232235163450241, -0.12172789126634598, 0.1939939707517624, 0.05148426070809364));
	r += mul(s2_4, min16float4x4(0.38825052976608276, -0.04358953237533569, 0.07679113745689392, 0.09592082351446152, -0.061394765973091125, 0.008622489869594574, 0.07443080097436905, 0.18197686970233917, 0.040844742208719254, -0.09298178553581238, -1.7561315298080444, -0.05089371278882027, 0.010313019156455994, 0.43066373467445374, -0.14009316265583038, 0.005595156457275152));
	r += mul(s2_5, min16float4x4(-0.16556955873966217, -0.01971418224275112, 0.005118595901876688, 0.1696385145187378, 0.04507467895746231, -0.047490496188402176, 0.01700477860867977, 0.06326406449079514, -0.021777719259262085, 0.005807562731206417, -0.024221567437052727, 0.054402418434619904, 0.06444031000137329, -0.1455029547214508, -0.013399051502346992, -0.14498737454414368));
	r += mul(s2_6, min16float4x4(-0.03152194619178772, 0.08813055604696274, -0.022303961217403412, 0.07184028625488281, -0.07543820142745972, -0.01383086759597063, -0.034201107919216156, -0.17432019114494324, -0.023744525387883186, 0.24853192269802094, 0.1538320630788803, 0.20176640152931213, -0.09856900572776794, -0.2616611123085022, -0.02605241909623146, -0.04425575211644173));
	r += mul(s2_7, min16float4x4(-0.10860566794872284, -0.18212857842445374, 0.04685138911008835, 0.0010981574887409806, -0.049229077994823456, 0.006988117936998606, 0.045468300580978394, -0.1615206003189087, 0.010095053352415562, 0.10034126043319702, 0.04784157872200012, 0.13332076370716095, -0.10180240869522095, -0.09427762776613235, -0.04547128453850746, 0.241708442568779));
	r += mul(s2_8, min16float4x4(0.10311498492956161, 0.06066958233714104, -0.009256300516426563, -0.05966242030262947, -0.009739927016198635, 0.03271987661719322, 0.0491904690861702, 0.08418596535921097, 0.1590857356786728, 0.0920625850558281, -0.02949502132833004, 0.06514964252710342, -0.06252053380012512, 0.015042106620967388, 0.03040122240781784, 0.038777582347393036));
	r += mul(s3_0, min16float4x4(0.03356950730085373, -0.1976354867219925, -0.15872542560100555, 0.029056020081043243, -0.11780800670385361, -0.0535222589969635, -0.07835914194583893, 0.16491468250751495, -0.014033487997949123, -0.000773266947362572, 0.04283607006072998, 0.014519324526190758, -0.10629870742559433, -0.23277628421783447, -0.25685155391693115, -0.05637696012854576));
	r += mul(s3_1, min16float4x4(0.017924590036273003, -0.212936133146286, 0.22273336350917816, -0.28601744771003723, -0.3037119209766388, 0.14432096481323242, 0.2680776119232178, 0.11598318815231323, -0.010867666453123093, -0.02637738361954689, 0.05678204819560051, -0.04860465228557587, -0.24003662168979645, 0.09826754033565521, 0.1675356924533844, -0.08761392533779144));
	r += mul(s3_2, min16float4x4(0.028645316138863564, 0.014830712229013443, -0.07541126012802124, 0.007395360618829727, -0.10798864811658859, 0.03585940971970558, -0.16084210574626923, 0.10832229256629944, -0.029893090948462486, 0.03282920643687248, 0.07173199951648712, -0.07999172806739807, -0.008876078762114048, -0.031269799917936325, -0.05241041257977486, -0.07193732261657715));
	r += mul(s3_3, min16float4x4(0.0711360052227974, 0.0732140839099884, -0.12256146967411041, 0.27662011981010437, 0.11469593644142151, 0.12082728743553162, -0.14984548091888428, -0.04529230669140816, 0.014657562598586082, -0.06546122580766678, -0.0006305697606876493, 0.11524727195501328, 0.09857875108718872, -0.22614942491054535, -0.13915973901748657, -0.3193741738796234));
	r += mul(s3_4, min16float4x4(0.10259944200515747, -0.22025994956493378, 0.0587543360888958, 0.5250583291053772, 0.057941984385252, 0.14483138918876648, 0.1421879529953003, 2.083251476287842, 0.05371079593896866, -0.11396543681621552, 0.08134514838457108, 0.18562744557857513, 0.5362858772277832, 0.15930916368961334, 0.24711932241916656, -0.02041720598936081));
	r += mul(s3_5, min16float4x4(-0.1231299415230751, 0.05003095418214798, 0.0029577964451164007, 0.05718773975968361, 0.003206089371815324, 0.08252005279064178, 0.01419851090759039, -0.14040060341358185, -0.17537231743335724, 0.1653493493795395, -0.05958012863993645, 0.016753381118178368, 0.06247653439640999, 0.09615366160869598, 0.02213922329246998, -0.00772458128631115));
	r += mul(s3_6, min16float4x4(0.07550444453954697, 0.0662001222372055, -0.06570944935083389, 0.07462804019451141, 0.0418350026011467, 0.06466026604175568, 0.038979724049568176, -0.017226215451955795, 0.03492658585309982, -0.14989767968654633, -0.07068203389644623, -0.035981375724077225, -0.012058581225574017, 0.11802976578474045, 0.03334960713982582, 0.015367415733635426));
	r += mul(s3_7, min16float4x4(0.1389850676059723, -0.021301083266735077, -0.013777903281152248, 0.052410583943128586, 0.1950746476650238, -0.09592603147029877, 0.04529402777552605, 0.15593217313289642, 0.014649476855993271, -0.21438057720661163, -0.04917930066585541, 0.08308926969766617, -0.0810411274433136, -0.09106416255235672, 0.04257680103182793, -0.07921246439218521));
	r += mul(s3_8, min16float4x4(-0.019629472866654396, -0.002188116544857621, -0.023762701079249382, -0.07991930097341537, 0.15498599410057068, -0.08572443574666977, -0.08322977274656296, 0.05125514045357704, 0.1380167305469513, 0.12519334256649017, -0.008386384695768356, 0.037866104394197464, -0.03860338404774666, 0.002829041564837098, 0.0063112094067037106, -0.0067924982868134975));
	r += float4(0.002903652610257268, -0.0002401105739409104, -0.0010986466659232974, 0.0022460955660790205);
	return r;
}
void Pass3(uint2 blockStart, uint3 tid) {
	float2 pt = float2(GetInputPt());
	uint2 gxy = Rmp8x8(tid.x) + blockStart;
	uint2 size = GetInputSize();
	if (gxy.x >= size.x || gxy.y >= size.y) {
		return;
	}
	float2 pos = (gxy + 0.5) * pt;
	min16float4 s0_0 = l0(-1.0, -1.0);
	min16float4 s0_1 = l0(0.0, -1.0);
	min16float4 s0_2 = l0(1.0, -1.0);
	min16float4 s0_3 = l0(-1.0, 0.0);
	min16float4 s0_4 = l0(0.0, 0.0);
	min16float4 s0_5 = l0(1.0, 0.0);
	min16float4 s0_6 = l0(-1.0, 1.0);
	min16float4 s0_7 = l0(0.0, 1.0);
	min16float4 s0_8 = l0(1.0, 1.0);
	min16float4 s1_0 = max(-s0_0, 0.0);
	min16float4 s1_1 = max(-s0_1, 0.0);
	min16float4 s1_2 = max(-s0_2, 0.0);
	min16float4 s1_3 = max(-s0_3, 0.0);
	min16float4 s1_4 = max(-s0_4, 0.0);
	min16float4 s1_5 = max(-s0_5, 0.0);
	min16float4 s1_6 = max(-s0_6, 0.0);
	min16float4 s1_7 = max(-s0_7, 0.0);
	min16float4 s1_8 = max(-s0_8, 0.0);
	s0_0 = max(s0_0, 0.0);
	s0_1 = max(s0_1, 0.0);
	s0_2 = max(s0_2, 0.0);
	s0_3 = max(s0_3, 0.0);
	s0_4 = max(s0_4, 0.0);
	s0_5 = max(s0_5, 0.0);
	s0_6 = max(s0_6, 0.0);
	s0_7 = max(s0_7, 0.0);
	s0_8 = max(s0_8, 0.0);
	min16float4 s2_0 = l1(-1.0, -1.0);
	min16float4 s2_1 = l1(0.0, -1.0);
	min16float4 s2_2 = l1(1.0, -1.0);
	min16float4 s2_3 = l1(-1.0, 0.0);
	min16float4 s2_4 = l1(0.0, 0.0);
	min16float4 s2_5 = l1(1.0, 0.0);
	min16float4 s2_6 = l1(-1.0, 1.0);
	min16float4 s2_7 = l1(0.0, 1.0);
	min16float4 s2_8 = l1(1.0, 1.0);
	min16float4 s3_0 = max(-s2_0, 0.0);
	min16float4 s3_1 = max(-s2_1, 0.0);
	min16float4 s3_2 = max(-s2_2, 0.0);
	min16float4 s3_3 = max(-s2_3, 0.0);
	min16float4 s3_4 = max(-s2_4, 0.0);
	min16float4 s3_5 = max(-s2_5, 0.0);
	min16float4 s3_6 = max(-s2_6, 0.0);
	min16float4 s3_7 = max(-s2_7, 0.0);
	min16float4 s3_8 = max(-s2_8, 0.0);
	s2_0 = max(s2_0, 0.0);
	s2_1 = max(s2_1, 0.0);
	s2_2 = max(s2_2, 0.0);
	s2_3 = max(s2_3, 0.0);
	s2_4 = max(s2_4, 0.0);
	s2_5 = max(s2_5, 0.0);
	s2_6 = max(s2_6, 0.0);
	s2_7 = max(s2_7, 0.0);
	s2_8 = max(s2_8, 0.0);
	conv2_0[gxy] = f0(pt, pos, s0_0, s0_1, s0_2, s0_3, s0_4, s0_5, s0_6, s0_7, s0_8, s1_0, s1_1, s1_2, s1_3, s1_4, s1_5, s1_6, s1_7, s1_8, s2_0, s2_1, s2_2, s2_3, s2_4, s2_5, s2_6, s2_7, s2_8, s3_0, s3_1, s3_2, s3_3, s3_4, s3_5, s3_6, s3_7, s3_8);
	conv2_1[gxy] = f1(pt, pos, s0_0, s0_1, s0_2, s0_3, s0_4, s0_5, s0_6, s0_7, s0_8, s1_0, s1_1, s1_2, s1_3, s1_4, s1_5, s1_6, s1_7, s1_8, s2_0, s2_1, s2_2, s2_3, s2_4, s2_5, s2_6, s2_7, s2_8, s3_0, s3_1, s3_2, s3_3, s3_4, s3_5, s3_6, s3_7, s3_8);
}
//!PASS 4
//!DESC CuNNy-2x8C-BILINEAR-NVL-down
//!BLOCK_SIZE 8
//!NUM_THREADS 64
//!IN conv2_0, conv2_1
//!OUT down
#define O(t, p) t.SampleLevel(SP, pos + p * pt, 0)
#define l0(x, y) O(conv2_0, float2(x, y))
#define l1(x, y) O(conv2_1, float2(x, y))
float4 f0(float2 pt, float2 pos, min16float4 s0_0, min16float4 s0_1, min16float4 s0_2, min16float4 s0_3, min16float4 s0_4, min16float4 s0_5, min16float4 s0_6, min16float4 s0_7, min16float4 s0_8, min16float4 s1_0, min16float4 s1_1, min16float4 s1_2, min16float4 s1_3, min16float4 s1_4, min16float4 s1_5, min16float4 s1_6, min16float4 s1_7, min16float4 s1_8, min16float4 s2_0, min16float4 s2_1, min16float4 s2_2, min16float4 s2_3, min16float4 s2_4, min16float4 s2_5, min16float4 s2_6, min16float4 s2_7, min16float4 s2_8, min16float4 s3_0, min16float4 s3_1, min16float4 s3_2, min16float4 s3_3, min16float4 s3_4, min16float4 s3_5, min16float4 s3_6, min16float4 s3_7, min16float4 s3_8) {
	min16float4 r = 0.0;
	r += mul(s0_0, min16float4x4(-0.01837397925555706, 0.001445378758944571, -0.0030728511046618223, -0.01121884398162365, 0.044299639761447906, 0.0006090888055041432, 0.00039065827149897814, -0.02145199477672577, 0.0022745656315237284, 0.018365496769547462, 0.02527068927884102, 0.02238330990076065, -0.021514611318707466, 0.0011863538529723883, 0.008107478730380535, 0.030365709215402603));
	r += mul(s0_1, min16float4x4(-0.10578124970197678, -0.08333387970924377, 0.022059528157114983, -0.015092793852090836, 0.10424800217151642, 0.15966828167438507, 0.02369736135005951, 0.048220641911029816, -0.07104577869176865, -0.09421215951442719, -0.014615729451179504, -0.0311440359801054, 0.12943625450134277, -0.01120690442621708, -0.04923146963119507, -0.00582710700109601));
	r += mul(s0_2, min16float4x4(0.03870852664113045, -0.09880482405424118, 0.00799273606389761, -0.025700747966766357, -0.029839297756552696, -0.03168550878763199, -0.010015648789703846, -0.005385438911616802, 0.010209944099187851, 0.004943913780152798, -0.006792966742068529, 0.004561693407595158, 0.026730110868811607, -0.07495716214179993, 0.01901736855506897, 0.029137585312128067));
	r += mul(s0_3, min16float4x4(-0.027390526607632637, 0.02321619726717472, -0.050777558237314224, 0.02468208782374859, -0.08273278921842575, -0.008391404524445534, 0.04561770334839821, 0.057262782007455826, 0.004232532344758511, 0.013815824873745441, 0.014757366850972176, 0.08266901969909668, 0.1723630130290985, -0.011503148823976517, -0.01017212588340044, -0.015251587145030499));
	r += mul(s0_4, min16float4x4(0.06281153857707977, 0.2505190074443817, 0.2567112147808075, -0.41555899381637573, -0.1547892689704895, -0.2485349327325821, -0.08413523435592651, -0.017518583685159683, -0.2587984800338745, -0.21240542829036713, -0.19101883471012115, -0.24559877812862396, -0.8796120882034302, 0.553324282169342, -0.01794017292559147, 0.634765088558197));
	r += mul(s0_5, min16float4x4(0.45805519819259644, -0.6466368436813354, 0.29785633087158203, -0.061007335782051086, 0.05515509471297264, 0.0484619177877903, 0.03665894269943237, -0.01074215304106474, -0.00372468214482069, -0.03918199613690376, 0.023650433868169785, 0.006768457591533661, 0.1188318133354187, -0.016902901232242584, 0.07686517387628555, -0.4971539080142975));
	r += mul(s0_6, min16float4x4(-0.012483389116823673, -0.10809915512800217, 0.011377090588212013, -0.0626835897564888, 0.005555376876145601, 0.007797178812325001, -0.057495079934597015, -0.025522081181406975, 0.009363933466374874, 0.021421896293759346, -0.030083635821938515, 0.025724152103066444, 0.05794038996100426, -0.02932409569621086, 0.15328611433506012, -0.017780564725399017));
	r += mul(s0_7, min16float4x4(0.0759224221110344, 0.042531613260507584, -0.9281905293464661, 0.5449223518371582, -0.006262812297791243, 0.015255876816809177, -0.04646625369787216, -0.04779346287250519, 0.04040052741765976, 0.007174174301326275, -0.030749542638659477, -0.02625896781682968, 0.0799591913819313, 0.06322600692510605, -0.04674256220459938, 0.011267895810306072));
	r += mul(s0_8, min16float4x4(-0.16168344020843506, 0.13956676423549652, 0.15772151947021484, -0.08413757383823395, 0.007503869477659464, -0.007998947985470295, 0.013520128093659878, -0.023498786613345146, 0.008879118598997593, 0.015003856271505356, 0.009124379605054855, -0.025748908519744873, -0.04205533117055893, -0.07310671359300613, -0.07251006364822388, 0.11686858534812927));
	r += mul(s1_0, min16float4x4(0.020223768427968025, 0.0007747436175122857, 0.0022262076381593943, -0.010525036603212357, 0.3823058307170868, -0.4073316752910614, 0.2575308680534363, -0.19843801856040955, -0.001097128028050065, -0.021794406697154045, -0.0015149562386795878, -0.021008983254432678, -0.011567946523427963, 0.002731018466874957, -0.005668629892170429, 0.005411889404058456));
	r += mul(s1_1, min16float4x4(0.06331998854875565, 0.06966786086559296, 0.03355678915977478, 0.0075902813114225864, -0.5869283080101013, 0.2510267496109009, 0.03209012746810913, -0.08790533244609833, 0.017954133450984955, 0.059231340885162354, 0.04977079853415489, 0.053580645471811295, -0.010902496054768562, -0.0005115403328090906, -0.012565585784614086, 0.0214057769626379));
	r += mul(s1_2, min16float4x4(0.008866294287145138, -0.020328715443611145, -0.004871439188718796, -0.0013891856651753187, 0.007455901708453894, 0.12819840013980865, -0.01904910057783127, -0.024066084995865822, 0.0457305833697319, -0.03223530948162079, -0.00040579077904112637, 0.008555152453482151, 0.00015024525055196136, 0.0049749272875487804, 0.003763214685022831, 0.006817260757088661));
	r += mul(s1_3, min16float4x4(-0.018140843138098717, -0.01185442041605711, 0.035874009132385254, 0.00766362389549613, -0.055648524314165115, 0.07837193459272385, 0.12153635174036026, -0.19881200790405273, -0.017425106838345528, -0.021178824827075005, -0.01030058041214943, -0.06614696979522705, -0.007023586891591549, 0.012690503150224686, -0.04668191820383072, -0.007580944336950779));
	r += mul(s1_4, min16float4x4(-0.011638922616839409, -0.011808134615421295, -0.10928214341402054, 0.017817137762904167, -0.4653048813343048, 1.0750007629394531, -1.293015480041504, 1.2271990776062012, -0.17920301854610443, -0.03233085945248604, 0.8456946015357971, 0.4366811513900757, -0.07007569074630737, -0.09462055563926697, 0.07852192968130112, -0.045507706701755524));
	r += mul(s1_5, min16float4x4(-0.025718428194522858, -0.050016533583402634, 0.012722175568342209, -0.029942482709884644, 0.27839815616607666, -0.5368474721908569, 0.11337383091449738, 0.013701924122869968, -0.03310243412852287, -0.1280512809753418, -0.10194932669401169, 0.3657950758934021, 0.07883761078119278, 0.14911486208438873, 0.038872286677360535, 0.049466703087091446));
	r += mul(s1_6, min16float4x4(0.03431345522403717, 0.02101712115108967, 0.037935853004455566, 0.04699809476733208, 0.01939871907234192, 0.02216113917529583, -0.06925597786903381, 0.058868177235126495, 0.0036877214442938566, -0.015908267349004745, -0.006228447426110506, -0.029724059626460075, -0.029384275898337364, -0.030981935560703278, -0.04016206040978432, -0.050643738359212875));
	r += mul(s1_7, min16float4x4(0.028795447200536728, 0.027645889669656754, 0.07382170110940933, 0.049120672047138214, 0.02196279726922512, -0.22304938733577728, 0.31177276372909546, -0.04192430153489113, 0.028463730588555336, 0.0391690656542778, -0.08516628295183182, -0.03380030021071434, -0.014215358532965183, 0.008981484919786453, -0.0938650369644165, -0.0408896841108799));
	r += mul(s1_8, min16float4x4(-0.029216689988970757, -0.023746948689222336, -0.01863281987607479, 0.015283029526472092, -0.004160202108323574, 0.06430960446596146, 0.14984478056430817, -0.36822646856307983, -0.01465828251093626, -0.010472032241523266, 0.010544066317379475, -0.03248698264360428, 0.02969101443886757, -0.001347233192063868, 0.03591036796569824, -0.002439752221107483));
	r += mul(s2_0, min16float4x4(0.009088887833058834, 0.01200107391923666, 0.009818512946367264, 0.005604920908808708, 0.006216626614332199, 0.029440101236104965, -0.03317989408969879, -0.006108286790549755, -0.006079498678445816, -0.008207353763282299, 0.014505358412861824, 0.0031486956868320704, -0.012434259988367558, -0.008287199772894382, -0.01401319820433855, -0.006171721033751965));
	r += mul(s2_1, min16float4x4(0.021302366629242897, 0.007923562079668045, -0.0020056243520230055, -0.005068900994956493, 0.09436171501874924, 0.19297198951244354, 0.10337473452091217, 0.03947276994585991, -0.0007509710849262774, -0.08802708983421326, 0.03571021556854248, -0.023498650640249252, 0.015253922902047634, 0.01156741101294756, 0.007497147656977177, 0.003848074236884713));
	r += mul(s2_2, min16float4x4(0.005573078524321318, 0.008083603344857693, 0.006426716223359108, 0.006494464818388224, 0.10469964146614075, 0.06347345560789108, -0.022263895720243454, -0.026987522840499878, -0.065020352602005, 0.1698278784751892, -0.03995692729949951, 0.014942103065550327, -0.018124571070075035, -0.030690858140587807, -0.007706172298640013, -0.006816666107624769));
	r += mul(s2_3, min16float4x4(0.027053359895944595, 0.015055980533361435, 0.0124197481200099, 0.02074873261153698, -0.016518324613571167, -0.03029962070286274, 0.035208821296691895, 0.01470369752496481, 0.01271253265440464, 0.016982877627015114, -0.005654843989759684, 0.004125049803406, 0.01126107294112444, 0.0024688225239515305, 0.0112618338316679, -0.009028371423482895));
	r += mul(s2_4, min16float4x4(0.006574593484401703, 0.058475740253925323, -0.01715674065053463, 0.008501472882926464, -0.1337367743253708, -0.14322040975093842, -0.15024876594543457, 0.13037069141864777, 0.09934177994728088, 0.029831502586603165, -0.009999400936067104, -0.07414372265338898, 0.1946181207895279, 0.05822570621967316, 0.09437059611082077, 0.02105998620390892));
	r += mul(s2_5, min16float4x4(0.028268523514270782, -0.006158610340207815, 0.004437935072928667, -0.020097879692912102, 0.6710271835327148, -0.8613308668136597, 0.49597856402397156, -0.2223341464996338, -0.39397722482681274, 0.16237327456474304, -0.06497626006603241, 0.07224255800247192, -0.03127526491880417, 0.07451274991035461, -0.03279862925410271, -0.002832289319485426));
	r += mul(s2_6, min16float4x4(-0.032859694212675095, -0.016131175681948662, -0.051181450486183167, -0.04797344282269478, -0.022126534953713417, -0.004269407596439123, -0.0417659766972065, -0.026384320110082626, 0.0030798069201409817, 0.00931615848094225, 0.0020416465122252703, 0.02385595068335533, 0.004890604875981808, 0.0014520384138450027, 0.013870615512132645, 0.00029813262517564));
	r += mul(s2_7, min16float4x4(-0.0003695310151670128, -0.021179113537073135, -0.008566092699766159, -0.00786235835403204, -0.09446404129266739, 0.010778466239571571, -0.09038905799388885, -0.09176316857337952, -0.05100687965750694, -0.1054672822356224, 0.058707043528556824, -0.024088196456432343, -0.0018742450047284365, -0.004555993247777224, 0.1105952113866806, 0.014234397560358047));
	r += mul(s2_8, min16float4x4(-0.0035452370066195726, -0.017064178362488747, -0.0024767324794083834, -0.03283914551138878, 0.08281594514846802, 7.77333480073139e-06, 0.3318880498409271, -0.4749056100845337, -0.5144915580749512, 0.5582852959632874, -1.024914264678955, 0.735607385635376, -0.018371814861893654, -0.026235224679112434, -0.03427981585264206, 0.036760102957487106));
	r += mul(s3_0, min16float4x4(-0.026508843526244164, 0.011230399832129478, 0.023583438247442245, -0.034975647926330566, -0.036572374403476715, 0.000620299659203738, 0.018615495413541794, 0.022626055404543877, -0.004244302399456501, -0.008542133495211601, -0.007369394414126873, -0.004256136249750853, 0.08548707515001297, -0.05413496494293213, 0.004276679828763008, 0.01326493639498949));
	r += mul(s3_1, min16float4x4(-0.0036317589692771435, -0.06716106832027435, 0.03502644598484039, 0.07688511908054352, -0.18699000775814056, -0.19571444392204285, -0.04602063447237015, -0.03152169659733772, 0.006908151786774397, 0.020224081352353096, 0.0009447252377867699, 0.0028822182212024927, -0.014939670450985432, 0.1747080385684967, -0.10125450044870377, -0.07950212061405182));
	r += mul(s3_2, min16float4x4(-0.009597093798220158, -0.027786921709775925, 0.025098877027630806, 0.0228721983730793, -0.029071373865008354, -0.019984304904937744, -0.006187531165778637, -0.017798056825995445, -0.010675383731722832, -0.017785636708140373, -0.002956181997433305, -0.005233764182776213, 0.02137935347855091, -0.002845331095159054, 0.027293691411614418, 0.00955316610634327));
	r += mul(s3_3, min16float4x4(0.4186960756778717, 0.007845954038202763, -0.46979355812072754, -0.04720726236701012, 0.05360960587859154, 0.0186623428016901, -0.0588642917573452, -0.010439814999699593, -0.018885549157857895, -0.0011517404345795512, -0.007425859570503235, -0.013086200691759586, -0.02426236681640148, 0.0503963828086853, -0.08764607459306717, 0.020692234858870506));
	r += mul(s3_4, min16float4x4(0.39154869318008423, 1.0197820663452148, -0.5313495397567749, -0.9763938188552856, 0.24990171194076538, 0.17676368355751038, 0.014711374416947365, -0.15860266983509064, 0.017524130642414093, -0.04055904224514961, -0.014486895874142647, 0.027832072228193283, -1.02285635471344, -0.6933625936508179, 0.9300098419189453, 0.43262210488319397));
	r += mul(s3_5, min16float4x4(0.06435266882181168, -0.01299769151955843, 0.011687860824167728, -0.021498672664165497, -0.04504432901740074, 0.016817480325698853, -0.024503905326128006, 0.03421325236558914, 0.024246573448181152, 0.14306628704071045, 0.0286225788295269, 0.035410113632678986, 0.06662289798259735, -0.29093217849731445, -0.04111907258629799, 0.3756795823574066));
	r += mul(s3_6, min16float4x4(-0.014465145766735077, -0.00551091181114316, 0.12227267771959305, 0.10327006131410599, -0.010475586168467999, 0.0018122538458555937, 0.04257707670331001, 0.0040916986763477325, -0.008610608987510204, 0.006975116673856974, -0.02056652307510376, -0.018741710111498833, -0.027971280738711357, -0.014676742255687714, 0.011286535300314426, -0.026572473347187042));
	r += mul(s3_7, min16float4x4(-0.036642689257860184, -0.09779327362775803, 0.1831032782793045, 0.061376042664051056, 0.004823906812816858, 0.022530818358063698, 0.11094844341278076, 0.11936537176370621, 0.05993763357400894, -0.028966188430786133, 0.12548814713954926, -0.0720210149884224, 0.12233317643404007, 0.024969784542918205, -0.34864988923072815, 0.01640096679329872));
	r += mul(s3_8, min16float4x4(-0.017390575259923935, 0.024711081758141518, -0.04375171288847923, 0.08702650666236877, 0.0026300090830773115, -0.002026187488809228, -0.012766719795763493, 0.03726827725768089, -0.010153456591069698, 0.061399925500154495, -0.02244889736175537, 0.1645611971616745, 0.12744814157485962, 0.19284141063690186, -0.007660581264644861, -0.3557173013687134));
	r += float4(0.0006803307333029807, 0.0007383465417660773, 0.0006674862815998495, 0.0008702085469849408);
	return tanh(r);
}
void Pass4(uint2 blockStart, uint3 tid) {
	float2 pt = float2(GetInputPt());
	uint2 gxy = Rmp8x8(tid.x) + blockStart;
	uint2 size = GetInputSize();
	if (gxy.x >= size.x || gxy.y >= size.y) {
		return;
	}
	float2 pos = (gxy + 0.5) * pt;
	min16float4 s0_0 = l0(-1.0, -1.0);
	min16float4 s0_1 = l0(0.0, -1.0);
	min16float4 s0_2 = l0(1.0, -1.0);
	min16float4 s0_3 = l0(-1.0, 0.0);
	min16float4 s0_4 = l0(0.0, 0.0);
	min16float4 s0_5 = l0(1.0, 0.0);
	min16float4 s0_6 = l0(-1.0, 1.0);
	min16float4 s0_7 = l0(0.0, 1.0);
	min16float4 s0_8 = l0(1.0, 1.0);
	min16float4 s1_0 = max(-s0_0, 0.0);
	min16float4 s1_1 = max(-s0_1, 0.0);
	min16float4 s1_2 = max(-s0_2, 0.0);
	min16float4 s1_3 = max(-s0_3, 0.0);
	min16float4 s1_4 = max(-s0_4, 0.0);
	min16float4 s1_5 = max(-s0_5, 0.0);
	min16float4 s1_6 = max(-s0_6, 0.0);
	min16float4 s1_7 = max(-s0_7, 0.0);
	min16float4 s1_8 = max(-s0_8, 0.0);
	s0_0 = max(s0_0, 0.0);
	s0_1 = max(s0_1, 0.0);
	s0_2 = max(s0_2, 0.0);
	s0_3 = max(s0_3, 0.0);
	s0_4 = max(s0_4, 0.0);
	s0_5 = max(s0_5, 0.0);
	s0_6 = max(s0_6, 0.0);
	s0_7 = max(s0_7, 0.0);
	s0_8 = max(s0_8, 0.0);
	min16float4 s2_0 = l1(-1.0, -1.0);
	min16float4 s2_1 = l1(0.0, -1.0);
	min16float4 s2_2 = l1(1.0, -1.0);
	min16float4 s2_3 = l1(-1.0, 0.0);
	min16float4 s2_4 = l1(0.0, 0.0);
	min16float4 s2_5 = l1(1.0, 0.0);
	min16float4 s2_6 = l1(-1.0, 1.0);
	min16float4 s2_7 = l1(0.0, 1.0);
	min16float4 s2_8 = l1(1.0, 1.0);
	min16float4 s3_0 = max(-s2_0, 0.0);
	min16float4 s3_1 = max(-s2_1, 0.0);
	min16float4 s3_2 = max(-s2_2, 0.0);
	min16float4 s3_3 = max(-s2_3, 0.0);
	min16float4 s3_4 = max(-s2_4, 0.0);
	min16float4 s3_5 = max(-s2_5, 0.0);
	min16float4 s3_6 = max(-s2_6, 0.0);
	min16float4 s3_7 = max(-s2_7, 0.0);
	min16float4 s3_8 = max(-s2_8, 0.0);
	s2_0 = max(s2_0, 0.0);
	s2_1 = max(s2_1, 0.0);
	s2_2 = max(s2_2, 0.0);
	s2_3 = max(s2_3, 0.0);
	s2_4 = max(s2_4, 0.0);
	s2_5 = max(s2_5, 0.0);
	s2_6 = max(s2_6, 0.0);
	s2_7 = max(s2_7, 0.0);
	s2_8 = max(s2_8, 0.0);
	down[gxy] = f0(pt, pos, s0_0, s0_1, s0_2, s0_3, s0_4, s0_5, s0_6, s0_7, s0_8, s1_0, s1_1, s1_2, s1_3, s1_4, s1_5, s1_6, s1_7, s1_8, s2_0, s2_1, s2_2, s2_3, s2_4, s2_5, s2_6, s2_7, s2_8, s3_0, s3_1, s3_2, s3_3, s3_4, s3_5, s3_6, s3_7, s3_8);
}
//!PASS 5
//!DESC CuNNy-2x8C-BILINEAR-NVL-shuffle
//!STYLE PS
//!IN down, INPUT
float4 Pass5(float2 pos) {
	float2 pt = float2(GetInputPt());
	const static float3x3 rgb2yuv = {0.299, 0.587, 0.114, -0.169, -0.331, 0.5, 0.5, -0.419, -0.081};
	const static float3x3 yuv2rgb = {1, -0.00093, 1.401687, 1, -0.3437, -0.71417, 1, 1.77216, 0.00099};
	float4 r = 0.0;
	float2 size = float2(GetInputSize());
	float2 f = frac(pos * size);
	float3 yuv = mul(rgb2yuv, INPUT.SampleLevel(SL, pos, 0).rgb);
	int2 i = int2(f * 2.0);
	r.r = down.SampleLevel(SP, (float2(0.5, 0.5) - f) * pt + pos, 0)[2*i.y + i.x];
	r.r += yuv.r;
	r.a = 1.0;
	r.r = clamp(r, 0.0, 1.0);
	float3 px = mul(yuv2rgb, float3(r.r, yuv.yz));
	return float4(px, 1.0);
}
